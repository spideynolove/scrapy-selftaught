define("metaserver/static/js/flux/dispatcher",["require","exports","tslib","flux","metaserver/static/js/modules/core/assert","metaserver/static/js/modules/core/exception"],(function(e,t,r,i,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DispatcherClass=t.Dispatcher=void 0,i=r.__importStar(i),n=r.__importStar(n);let a=null;class o extends i.Dispatcher{dispatch(e){s.assert(null!=e.type,"Invariant error: cannot dispatch action without 'type' property."),s.assert(null===a,`Invariant error: cannot dispatch ${e.type} while also dispatching ${a}.`),a=e.type;try{"function"==typeof this.dispatch_begin&&this.dispatch_begin();try{return super.dispatch({action:e})}catch(e){return n.reportException({err:e}),console.error(e)}finally{"function"==typeof this.dispatch_end&&this.dispatch_end()}}finally{a=null}}}t.DispatcherClass=o;const c=new o;t.Dispatcher=c})),define("metaserver/static/js/api_v2/datetime",["require","exports","tslib","metaserver/static/js/datetime/datetime"],(function(e,t,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatTimestamp=void 0,i=r.__importStar(i);t.formatTimestamp=function(e){return i.format_date_utc(e,"yyyy-MM-ddTHH:mm:ssZ")}})),define("metaserver/static/js/api_v2/default_team_client",["require","exports","metaserver/static/js/api_v2/types","metaserver/static/js/api_v2/client_base","metaserver/static/js/modules/clean/viewer"],(function(e,t,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultTeamApiV2Client=void 0;class n extends i.ApiV2ClientBase{constructor(e,t){super(t),this.userProperties=e}_headers(e){return Object.assign({[r.ApiV2HeaderNames.DropboxUid]:String(this.userProperties.id),[r.ApiV2HeaderNames.DropboxTeamId]:String(s.Viewer.get_viewer().team_id),[r.ApiV2HeaderNames.DropboxTeamAuthorization]:JSON.stringify({auth_role:String(s.Viewer.get_viewer().auth_role),auth_action_type:String(s.Viewer.get_viewer().auth_action_type)})},e.headers)}}t.DefaultTeamApiV2Client=n})),define("metaserver/static/js/api_v2/default_user_client",["require","exports","metaserver/static/js/api_v2/types","metaserver/static/js/api_v2/client_base"],(function(e,t,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultUserApiV2Client=void 0;class s extends i.ApiV2ClientBase{constructor(e,t){super(t),this.userProperties=e}_headers(e){return Object.assign({[r.ApiV2HeaderNames.DropboxUid]:String(this.userProperties.id),[r.ApiV2HeaderNames.DropboxPathRoot]:String(this.userProperties.root_ns_id)},e.headers)}}t.DefaultUserApiV2Client=s})),define("metaserver/static/js/api_v2/team_client",["require","exports","metaserver/static/js/api_v2/types","metaserver/static/js/api_v2/client_base","metaserver/static/js/modules/clean/viewer"],(function(e,t,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TeamApiV2Client=void 0;class n extends i.ApiV2ClientBase{constructor(e){super(e)}_headers(e){const t=s.Viewer.get_viewer().get_user_by_id(e.subjectUserId);return Object.assign({[r.ApiV2HeaderNames.DropboxUid]:String(t.id)},e.headers)}}t.TeamApiV2Client=n})),define("metaserver/static/js/api_v2/transport/beacon",["require","exports","tslib","metaserver/static/js/api_v2/types","metaserver/static/js/api_v2/transport/fetch","sjcl"],(function(e,t,r,i,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BeaconTransport=void 0,n=r.__importStar(n);t.BeaconTransport=class{executeRpc(e,t,r,a){var o;const c=null===(o=navigator.sendBeacon)||void 0===o?void 0:o.bind(navigator);if(c)return new Promise((function(s,o){var p;const h=(function(e,t){const r=n.codec.utf8String.toBits(e),i=new n.misc.hmac(r,n.hash.sha256).encrypt(t);return n.codec.base64url.fromBits(i)})(null!==(p=t[i.ApiV2HeaderNames.CsrfToken])&&void 0!==p?p:"",e.getPath());e.updateQuery({t:h});const l=new Blob([r,JSON.stringify(Object.assign(Object.assign({},t),{"Content-Type":a}))],{type:a}),u=c(e.toString(),l),d={result:JSON.parse(JSON.stringify({beacon:u})),headers:t};return u?s(d):o(d)}));return(new s.FetchAsyncTransport).executeRpc(e,t,r,a)}executeBinaryRpc(e,t,r,i){return(new s.FetchAsyncTransport).executeBinaryRpc(e,t,r,i)}}})),define("metaserver/static/js/prod_assets_web_modules/eventemitter3",(function(){"use strict";var e={exports:{}};return(function(e){var t=Object.prototype.hasOwnProperty,r="~";function i(){}function s(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function n(e,t,i,n,a){if("function"!=typeof i)throw new TypeError("The listener must be a function");var o=new s(i,n||e,a),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],o]:e._events[c].push(o):(e._events[c]=o,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function o(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,i,s=[];if(0===this._eventsCount)return s;for(i in e=this._events)t.call(e,i)&&s.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(e)):s},o.prototype.listeners=function(e){var t=r?r+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var s=0,n=i.length,a=new Array(n);s<n;s++)a[s]=i[s].fn;return a},o.prototype.listenerCount=function(e){var t=r?r+e:e,i=this._events[t];return i?i.fn?1:i.length:0},o.prototype.emit=function(e,t,i,s,n,a){var o=r?r+e:e;if(!this._events[o])return!1;var c,p,h=this._events[o],l=arguments.length;if(h.fn){switch(h.once&&this.removeListener(e,h.fn,void 0,!0),l){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,t),!0;case 3:return h.fn.call(h.context,t,i),!0;case 4:return h.fn.call(h.context,t,i,s),!0;case 5:return h.fn.call(h.context,t,i,s,n),!0;case 6:return h.fn.call(h.context,t,i,s,n,a),!0}for(p=1,c=new Array(l-1);p<l;p++)c[p-1]=arguments[p];h.fn.apply(h.context,c)}else{var u,d=h.length;for(p=0;p<d;p++)switch(h[p].once&&this.removeListener(e,h[p].fn,void 0,!0),l){case 1:h[p].fn.call(h[p].context);break;case 2:h[p].fn.call(h[p].context,t);break;case 3:h[p].fn.call(h[p].context,t,i);break;case 4:h[p].fn.call(h[p].context,t,i,s);break;default:if(!c)for(u=1,c=new Array(l-1);u<l;u++)c[u-1]=arguments[u];h[p].fn.apply(h[p].context,c)}}return!0},o.prototype.on=function(e,t,r){return n(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return n(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,i,s){var n=r?r+e:e;if(!this._events[n])return this;if(!t)return a(this,n),this;var o=this._events[n];if(o.fn)o.fn!==t||s&&!o.once||i&&o.context!==i||a(this,n);else{for(var c=0,p=[],h=o.length;c<h;c++)(o[c].fn!==t||s&&!o[c].once||i&&o[c].context!==i)&&p.push(o[c]);p.length?this._events[n]=1===p.length?p[0]:p:a(this,n)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(e),e.exports})),define("metaserver/static/js/prod_assets_web_modules/flux",["exports"],(function(e){"use strict";var t={},r=function(e,t,r,i,s,n,a,o){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[r,i,s,n,a,o],h=0;c=new Error("Invariant Violation: "+t.replace(/%s/g,(function(){return p[h++]})))}throw c.framesToPop=1,c}},i=1;function s(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}s.prototype.register=function(e){var t="ID_"+i++;return this.$Dispatcher_callbacks[t]=e,t},s.prototype.unregister=function(e){r(this.$Dispatcher_callbacks[e],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this.$Dispatcher_callbacks[e]},s.prototype.waitFor=function(e){r(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var i=e[t];this.$Dispatcher_isPending[i]?r(this.$Dispatcher_isHandled[i],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",i):(r(this.$Dispatcher_callbacks[i],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",i),this.$Dispatcher_invokeCallback(i))}},s.prototype.dispatch=function(e){r(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(e);try{for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]||this.$Dispatcher_invokeCallback(t)}finally{this.$Dispatcher_stopDispatching()}},s.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},s.prototype.$Dispatcher_invokeCallback=function(e){this.$Dispatcher_isPending[e]=!0,this.$Dispatcher_callbacks[e](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[e]=!0},s.prototype.$Dispatcher_startDispatching=function(e){for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]=!1,this.$Dispatcher_isHandled[t]=!1;this.$Dispatcher_pendingPayload=e,this.$Dispatcher_isDispatching=!0},s.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1};var n=s,a=t.Dispatcher=n;e.Dispatcher=a,e.default=t,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=pkg-api_v2-extra.min.js-vflZ2SlPz.map