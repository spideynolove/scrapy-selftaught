define("metaserver/static/js/prod_assets_web_modules/dig-components/avatar",["exports","../classnames","react","./typography","./icons/src","./buttons","focus-visible","./icons","./progress_indicators","../react-transition-group/CSSTransition","../common/extends","../common/Transition","react-dom"],(function(e,t,a,r,s,n,c,i,l,o,d,u,m){"use strict";var v=["var(--color__accent__ocean)","var(--color__accent__crimson)","var(--color__accent__rust)","var(--color__accent__canopy)","var(--color__accent__navy)","var(--color__accent__plum)","var(--color__accent__azalea)","var(--color__accent__gold)"];function g(){const e=Math.random().toString(36).slice(2);let t=5381*e.length;for(let a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<6)+(t<<16)-t);return t=Math.abs(t),v[t%v.length]}function _(e){let t=5381*(e=e||Math.random().toString(36).slice(2)).length;for(let a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<6)+(t<<16)-t);return t=Math.abs(t),v[t%v.length]}var f=({backgroundColor:e,className:n,children:c,src:i,srcSet:l,alt:o,size:d="standard",isInactive:u=!1,hasNoOutline:m=!1,isGuest:v=!1,..._})=>{const[f,h]=a.useState(!1),[p,A]=a.useState("");""===p&&A(g()),e=v?p:e;const S=(i||l)&&!f,b=c&&"number"==typeof c,y=t(n,"dig-Avatar",`dig-Avatar--${d}`,{"dig-Avatar--hasNoOutline":m,"dig-Avatar--withImage":S,"dig-Avatar--isGuest":v}),C=t({"dig-Avatar-image":!0,"dig-Avatar-image--isInactive":u}),N=t({"dig-Avatar-text":!0,"dig-Avatar-text--isInactive":u,"dig-Avatar-text--isNumber":b}),x=b||u?{}:{background:`${e}`},I="small"===d?"xsmall":d;return a.createElement("div",{className:y,"aria-label":o,..._},v&&a.createElement(s.PersonFill,{className:"dig-Avatar-image--isGuest"}),S?a.createElement("img",{alt:o,className:C,src:i,onError:()=>h(!0),srcSet:l}):a.createElement(r.Text,{size:I,className:N,inverse:!b,isBold:!0,style:x},c))};f.displayName="Avatar";var h={size:"standard",items:new Set,getIndex:()=>-1,add:()=>!1,remove:()=>!1},p=a.createContext(h),A=a.forwardRef(({children:e,backgroundColor:r,src:s,srcSet:c,className:i,style:l,isInactive:o,isGuest:d=!1,...u},m)=>{const[v,h]=a.useState(-1),A=a.useRef(null),{size:S,getIndex:b,add:y,remove:C}=a.useContext(p),N=r||_(v.toString()),[x,I]=a.useState("");""===x&&I(g()),r=d?x:r;const E=t("dig-Facepile-item",i);return a.useImperativeHandle(m,()=>({getBoundingClientRect:()=>A.current&&A.current.getBoundingClientRect()}),[A]),a.useEffect(()=>(y(A),()=>C(A)),[A,y,C]),a.useEffect(()=>{h(b(A))},[b]),a.createElement(n.StylelessButton,{ref:A,className:E,style:l,...u},d?a.createElement(f,{size:S,isGuest:d}):a.createElement(f,{size:S,backgroundColor:N,src:s,srcSet:c,isInactive:o},e))});A.displayName="Item";var S=({children:e,size:r="standard"})=>{const[s,n]=a.useState(new Set),c=a.useCallback(e=>e?Array.from(s.values()).indexOf(e.current):-1,[s]),i=a.useCallback(e=>{e&&n(s.add(e.current))},[s]),l=a.useCallback(e=>{e&&s.delete(e.current)&&n(s)},[s]),o={size:r,items:s,getIndex:c,add:i,remove:l},d=t("dig-Facepile",`dig-Facepile--${r}`);return a.createElement(p.Provider,{value:o},a.createElement("div",{className:d},a.Children.toArray(e).reverse()))};S.Item=A,S.displayName="Facepile",e.Avatar=f,e.Facepile=S,e.avatarColorForUserIdentifier=_,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=pkg-dig-avatar.min.js-vflkJlqJW.map