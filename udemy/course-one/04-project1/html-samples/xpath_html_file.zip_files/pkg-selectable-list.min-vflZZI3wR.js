define("metaserver/static/js/modules/clean/react/selectable_list",["require","exports","tslib","immutable","keymaster","react","lodash","react-dom","metaserver/static/js/modules/core/browser_detection"],(function(e,t,i,n,s,o,r,l,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectableList=t.findSelectionRange=t.findNeighboringItem=t.SelectOptions=t.SelectDirection=t.SelectableListActionSource=t.SELECTABLE_TILE_GRID_KEY_SCOPE=t.SELECTABLE_LIST_KEY_SCOPE=void 0,n=i.__importStar(n),s=i.__importDefault(s),o=i.__importDefault(o),r=i.__importStar(r),l=i.__importStar(l),a=i.__importStar(a),t.SELECTABLE_LIST_KEY_SCOPE="SelectableList",t.SELECTABLE_TILE_GRID_KEY_SCOPE="SelectableTileGrid";let c="";var d,u,h;function p(e,t,i,n,s,o){switch(e){case u.PREV:return Math.max(0,t-1);case u.NEXT:return Math.min(i-1,t+1);case u.PREV_ROW:case u.NEXT_ROW:return(function(e,t,i,n,s,o=!1){if(t<0||t>=i)return 0;s&&0!==s.length||(s=[0]);const l=r.sortedIndex(s,t),a=s[l]===t?l:l-1,c=s[a],d=(t-c)%n;switch(e){case u.NEXT_ROW:{const e=s.length;if(a===e-1&&t+n>=i){const e=(i-c)%n;if((t-c)%n<e||0===e)return o?i-1:t}const r=a+1,l=r<s.length?s[r]:i;if(t+n-(n-((l-c)%n||n))<l){const e=l-1;return Math.min(t+n,e)}const u=r+1<e?s[r+1]-1:i-1;return Math.min(l+d,u)}case u.PREV_ROW:{if(0===a&&t-n<0)return o?0:t;if(t-n>=c)return t-n;const e=s[a-1],i=c-1,r=c-e,l=e+r-(r%n||n);return Math.min(l+d,i)}}})(e,t,i,n,s,o)}}function m(e,t,i,n,s,o,r,l,a){switch(e){case u.PREV:case u.PREV_ROW:{if(0===t)return r;const c=p(e,t,l.length,i,a,!0),d=Math.min(t,n)-c,u=t-Math.max(c,n);for(let e=o;e>o-u;e--){const t=r.indexOf(l[e]);r.splice(t,1)}for(let e=s-1;e>=s-d;e--)r.push(l[e]);break}case u.NEXT:case u.NEXT_ROW:{if(t===l.length)return r;const c=p(e,t,l.length,i,a,!0),d=Math.min(c,n)-s,u=c-Math.max(t,n);for(let e=s;e<s+d;e++){const t=r.indexOf(l[e]);r.splice(t,1)}for(let e=o+1;e<=o+u;e++)r.push(l[e]);break}}return r}(function(e){e.KEYBOARD="keyboard",e.DRAG_TO_SELECT="drag_to_select"})(d=t.SelectableListActionSource||(t.SelectableListActionSource={})),(function(e){e[e.PREV=0]="PREV",e[e.NEXT=1]="NEXT",e[e.PREV_ROW=2]="PREV_ROW",e[e.NEXT_ROW=3]="NEXT_ROW"})(u=t.SelectDirection||(t.SelectDirection={})),(function(e){e.DEFAULT="DEFAULT",e.EXTEND="EXTEND",e.ONLY="ONLY"})(h=t.SelectOptions||(t.SelectOptions={})),t.findNeighboringItem=p,t.findSelectionRange=m;class f extends o.default.PureComponent{constructor(e){super(e),this.isFocused=!1,this.updateSelection=(e,t,i=!1)=>{const{selection:s}=this.props,o=i?e.length?e[0]:this.props.itemIds[0]:s.anchor,r=s.merge({selected:n.OrderedSet(e),anchor:o});this.props.onSelectionChange(r,t)},this.handleSelectPrevious=e=>{this.isGlobalEvent(e)&&(e.preventDefault(),this.selectNeighboringItem(u.PREV,d.KEYBOARD))},this.handleSelectPreviousRow=e=>{this.isGlobalEvent(e)&&(e.preventDefault(),this.selectNeighboringItem(u.PREV_ROW,d.KEYBOARD))},this.handleExtendSelectionToPrevious=e=>{this.isGlobalEvent(e)&&(e.preventDefault(),this.extendSelectionRange(u.PREV,d.KEYBOARD))},this.handleExtendSelectionToPreviousRow=e=>{this.isGlobalEvent(e)&&(e.preventDefault(),this.extendSelectionRange(u.PREV_ROW,d.KEYBOARD))},this.handleSelectNext=e=>{this.isGlobalEvent(e)&&(e.preventDefault(),this.selectNeighboringItem(u.NEXT,d.KEYBOARD))},this.handleSelectNextRow=e=>{this.isGlobalEvent(e)&&(e.preventDefault(),this.selectNeighboringItem(u.NEXT_ROW,d.KEYBOARD))},this.handleExtendSelectionToNext=e=>{this.isGlobalEvent(e)&&(e.preventDefault(),this.extendSelectionRange(u.NEXT,d.KEYBOARD))},this.handleExtendSelectionToNextRow=e=>{this.isGlobalEvent(e)&&(e.preventDefault(),this.extendSelectionRange(u.NEXT_ROW,d.KEYBOARD))},this.handleKeyboardDeselectAll=e=>{const{selection:t}=this.props;e&&!this.isGlobalEvent(e)||!t.selected.size||this.handleDeselectAll(d.KEYBOARD)},this.handleDeselectAll=e=>{if(this.updateSelection([],e,!0),l.findDOMNode(this).contains(document.activeElement)){const e=document.activeElement;e.blur&&e.blur()}this.props.onDeselectAll&&this.props.onDeselectAll()},this.handleKeyboardSelectAll=e=>{const{itemIds:t,selection:i}=this.props;e&&!this.isGlobalEvent(e)||i.selected.size===t.length||this.handleSelectAll(d.KEYBOARD)},this.handleSelectAll=e=>{this.updateSelection(this.props.itemIds,e,!0)},this.handleDeselect=(e,t,i)=>{if(t)return this.extendOrShrinkSelectionByFile(e,i);this.updateSelectionById(e,"delete",i)},this.handleSelect=(e,t=h.DEFAULT,i)=>{if(t===h.EXTEND)return this.extendOrShrinkSelectionByFile(e);t===h.ONLY?this.updateSelection([e],i,!0):this.updateSelectionById(e,"add",i)},this.handleFocusFile=e=>{this.setState({focusedFileId:e})},this.isSelectableListEvent=()=>this.isFocused,this.handleFocus=()=>{this.isFocused=!0},this.handleBlur=()=>{this.isFocused=!1},this.state={selection:e.selection,keyScope:e.keyScope}}UNSAFE_componentWillReceiveProps(e){this.props.keyScope!==e.keyScope&&(this.setState({keyScope:e.keyScope}),this.isFocused=!1)}componentDidMount(){this.setupKeyboardShortcuts(),this.setFocusedIdFromSelection(this.props.selection)}componentDidUpdate(e,t){e.selection&&this.props.selection&&e.selection.anchor!==this.props.selection.anchor&&this.setFocusedIdFromSelection(this.props.selection),this.state.keyScope!==t.keyScope&&this.setupKeyboardShortcuts(),e.isActive!==this.props.isActive&&(this.props.isActive?this.setupKeyboardShortcuts():this.cleanupKeyboardShortcuts())}componentWillUnmount(){this.cleanupKeyboardShortcuts()}setupKeyboardShortcuts(){const{keyScope:e}=this.state;c=s.default.getScope(),c!==e&&s.default.setScope(e);const i=s.default.filter||(e=>{const t=e.target||e.srcElement;if(!(t instanceof Element))return!0;const i=t.tagName;return!("INPUT"===i||"SELECT"===i||"TEXTAREA"===i)});s.default.filter=e=>{const t=e.target||e.srcElement,n=t.tagName;return(!this.isSelectableListEvent()||"BUTTON"!==n)&&(t instanceof HTMLInputElement&&"checkbox"===t.type||i.call(this,e))},e===t.SELECTABLE_LIST_KEY_SCOPE?(s.default("up",e,this.handleSelectPrevious),s.default("shift+up",e,this.handleExtendSelectionToPrevious),s.default("down",e,this.handleSelectNext),s.default("shift+down",e,this.handleExtendSelectionToNext)):e===t.SELECTABLE_TILE_GRID_KEY_SCOPE&&(s.default("left",e,this.handleSelectPrevious),s.default("shift+left",e,this.handleExtendSelectionToPrevious),s.default("right",e,this.handleSelectNext),s.default("shift+right",e,this.handleExtendSelectionToNext),s.default("up",e,this.handleSelectPreviousRow),s.default("shift+up",e,this.handleExtendSelectionToPreviousRow),s.default("down",e,this.handleSelectNextRow),s.default("shift+down",e,this.handleExtendSelectionToNextRow)),s.default("escape",e,this.handleKeyboardDeselectAll),a.mac?s.default("command+a",e,this.handleKeyboardSelectAll):s.default("ctrl+a",e,this.handleKeyboardSelectAll)}cleanupKeyboardShortcuts(){s.default.clearScope(this.state.keyScope),c&&s.default.setScope(c),s.default.resetFilter()}setFocusedIdFromSelection(e){e.anchor&&0!==e.selected.size&&this.setState({focusedFileId:e.anchor})}selectNeighboringItem(e,t){const{itemIds:i,selection:n,tilesPerRow:s,sectionStartIndices:o}=this.props,r=i.indexOf(n.selected.last()),l=i[p(e,r,i.length,s,o)];this.setState({focusedFileId:l}),this.updateSelection([l],t,!0)}extendSelectionRange(e,t){const{itemIds:i,selection:n,tilesPerRow:s,sectionStartIndices:o}=this.props,r=n.anchor||i[0];if(!r)return;const l=i.indexOf(n.selected.last());let a=n.selected.toArray();const c=i.indexOf(r),{startIndex:d,endIndex:u}=this.getRangeOfSelectedBlock(r);a=m(e,l,s,c,d,u,a,i,o),this.setState({focusedFileId:a[a.length-1]}),this.updateSelection(a,t)}getRangeOfSelectedBlock(e){const{itemIds:t,selection:i}=this.props;let n=t.indexOf(e),s=0,o=0;for(;s=n,n--,!(n<0)&&i.selected.has(t[n]););for(n=s;;){const e=t[n];if(!e||!i.selected.has(e))break;o=n,n++}return{startIndex:s,endIndex:o}}extendOrShrinkSelectionByFile(e,t){const{itemIds:i,selection:n}=this.props,s=n.anchor||i[0];if(!s)return;const o=i.indexOf(s),r=i.indexOf(e),{startIndex:l,endIndex:a}=this.getRangeOfSelectedBlock(s),c=[],d=[];i.forEach((e,t)=>{l<=t&&t<=a&&c.push(e),(r<=t&&t<=o||o<=t&&t<=r)&&d.push(e)}),r<o&&d.reverse();const u=n.update("selected",e=>e.subtract(c).union(d));this.setState({focusedFileId:e}),this.props.onSelectionChange(u,t)}updateSelectionById(e,t,i){const{selection:n}=this.props,s="add"===t?e:n.anchor,o=n.selected[t](e),r=n.merge({selected:o,anchor:s||null});this.props.onSelectionChange(r,i)}isGlobalEvent(e){const t=e.target instanceof HTMLInputElement,i=e.target instanceof HTMLElement,n=t&&"checkbox"===e.target.type,s=i&&(e.target.classList.contains("mc-popover-selectable-item")||e.target.classList.contains("mc-popover-content-item")||e.target.classList.contains("mc-popover-trigger"));return!document.activeElement||document.activeElement===document.body||e.target instanceof Element&&(l.findDOMNode(this).contains(e.target)&&(!t||n)&&!s)}render(){const{children:e}=this.props,{focusedFileId:t}=this.state;if(!e)return null;let i=e;return"function"==typeof e&&(i=e({focusedFileId:t,updateSelection:this.updateSelection,handleDeselect:this.handleDeselect,handleDeselectAll:this.handleDeselectAll,handleFocusFile:this.handleFocusFile,handleSelect:this.handleSelect,handleSelectAll:this.handleSelectAll,isSelectableListEvent:this.isSelectableListEvent})),o.default.createElement("div",{className:"selectable-list",onBlur:this.handleBlur,onFocus:this.handleFocus},i)}}t.SelectableList=f,f.defaultProps={isActive:!0},f.displayName="SelectableList"})),define("metaserver/static/js/modules/clean/react/tree",["require","exports","tslib","immutable"],(function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tree=void 0,n=i.__importStar(n);class s{constructor(e){const t=n.Map();this.rootItem=e.rootItem,this.items=e.items,this.childItemsByParentKey=e.childItemsByParentKey||t,this.parentItemByChildKey=e.parentItemByChildKey||n.Map()}static createWithRootItem(e){return new s({rootItem:e,items:n.Map([[e.key,e]])})}getParentItem(e){if(!e)return;const t=this.parentItemByChildKey.get(e.key);return t?this.items.get(t):null}getChildItems(e){return this.childItemsByParentKey.get(e.key)||null}isParent(e){return this.childItemsByParentKey.has(e.key)}getClosestExistingChildFromKey(e){var t;const i=e.split("/");let n=this.rootItem;for(let e=2;e<i.length+1;e++){const s=i.slice(0,e).join("/"),o=null===(t=this.getChildItems(n))||void 0===t?void 0:t.find(e=>e.key===s);if(void 0===o)return n;n=o}return n}setChildItems(e,t){t=n.List(t);const i=n.Map(t.map(e=>[e.key,e])),o=n.Map(this.items).merge(i),r=n.Map(this.childItemsByParentKey).set(e.key,t);let l=n.Map(this.parentItemByChildKey);return t.forEach(t=>l=l.set(t.key,e.key)),new s({rootItem:this.rootItem,items:o,childItemsByParentKey:r,parentItemByChildKey:l})}}t.Tree=s})),define("metaserver/static/js/modules/clean/react/tree_item",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FolderTreeItem=t.TreeItem=t.RootStyle=void 0,(function(e){e[e.None=0]="None",e[e.TreeItem=1]="TreeItem",e[e.HeaderItem=2]="HeaderItem",e[e.StaticHeader=3]="StaticHeader"})(t.RootStyle||(t.RootStyle={}));class i{constructor(e){this.key=e.key,this.label=e.label?e.label:"",this.icon=e.icon?e.icon:"",this.disabled=!!e.disabled,this.canExpand=!!e.canExpand,this.forceExpanded=!!e.forceExpanded,this.readOnly=!!e.readOnly}}t.TreeItem=i;t.FolderTreeItem=class extends i{constructor(e,t){super(e),this.folderNsId=t}}})),define("metaserver/static/js/files_view/overflow_menu_item_section",["require","exports","tslib","react","spectrum/popover/index"],(function(e,t,i,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OverflowMenuItemSection=void 0,n=i.__importDefault(n);t.OverflowMenuItemSection=({actionSection:e,showSeparators:t=!0,renderItem:i})=>0===e.length?null:n.default.createElement(n.default.Fragment,null,e.map(e=>e.map((e,t)=>n.default.createElement(n.default.Fragment,{key:`${t}-${e.label}`},i(e)))).reduce((e,i,o)=>[...e,...t?[n.default.createElement(s.PopoverItemGroupSeparator,{key:o})]:[],...i]))})),define("metaserver/static/js/files_view/util",["require","exports","tslib","typescript/component_libraries/retrieval-components/src/view-mode-toggle/index","metaserver/static/js/modules/clean/filepath/filepath","metaserver/static/js/pnm/utils","metaserver/static/js/browse/models","metaserver/static/js/files_view/view_type"],(function(e,t,i,n,s,o,r,l){"use strict";function a(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}Object.defineProperty(t,"__esModule",{value:!0}),t.isMobileMode=t.ScopedEventHandlers=t.isCutToClipboard=t.viewModeFromViewType=t.viewTypeFromViewMode=t.shouldClickDeselect=t.createFakeWindow=t.getFilename=t.isFileModel=t.isFswm=t.isFile=t.hasModifierKey=t.shouldHandleClick=void 0,s=i.__importStar(s),t.shouldHandleClick=function(e){return 0===e.button&&!a(e)},t.hasModifierKey=a;t.isFile=e=>e instanceof r.File;t.isFswm=e=>e instanceof r.FileSharedWithMe;t.isFileModel=e=>"fq_path"in e;t.getFilename=e=>t.isFileModel(e)||t.isFile(e)?o.hasValidLinkNode(e.per_node_metadata)||o.shouldHideExtension(e.per_node_metadata)?s.filename_without_extension(s.filename(e.fq_path)):s.filename(e.fq_path):e.filename;t.createFakeWindow=e=>{const t=new Proxy(window.document,{get(t,i){switch(i){case"body":case"documentElement":case"scrollingElement":return e}return t[i]}});return new Proxy(window,{get(i,n){switch(n){case"document":return t;case"innerHeight":return e.clientHeight;case"pageYOffset":return e.scrollTop;case"addEventListener":case"removeEventListener":case"scrollTo":{const t=e[n];return t?t.bind(e):()=>{}}}const s=i[n];return"function"==typeof s?s.bind(i):s}})};t.shouldClickDeselect=(e,t)=>{if(e.defaultPrevented)return!1;let i=e.target;for(;i instanceof Node&&i!==e.currentTarget;){if(0===i.tabIndex&&!t||i instanceof HTMLAnchorElement||i instanceof HTMLButtonElement||i instanceof HTMLInputElement||i instanceof HTMLLabelElement||"button"===i.getAttribute("role")||i.classList.contains("mc-popover"))return!1;i=i.parentElement}return!0},t.viewTypeFromViewMode=function(e){switch(e){case n.ViewMode.GRID:return l.ViewType.Grid;case n.ViewMode.TILE:return l.ViewType.LargeGrid;case n.ViewMode.CONDENSED_LIST:return l.ViewType.CondensedList;case n.ViewMode.LIST:return l.ViewType.List}},t.viewModeFromViewType=function(e){switch(e){case l.ViewType.Grid:return n.ViewMode.GRID;case l.ViewType.LargeGrid:return n.ViewMode.TILE;case l.ViewType.SmallGrid:return n.ViewMode.GRID;case l.ViewType.List:return n.ViewMode.LIST;case l.ViewType.CondensedList:return n.ViewMode.CONDENSED_LIST}},t.isCutToClipboard=function(e,t){if(!(e instanceof r.File))return!1;const i=t.get(e.fq_path);return Boolean(i&&i.file_id===e.file_id)};t.ScopedEventHandlers=class{constructor(e){this.handlers={},this.element=e}add(e,t,i){this.handlers[e]=this.handlers[e]||{},this.handlers[e][t]=i,this.element.addEventListener(t,i)}remove(e,t,i){this.handlers[e]&&this.handlers[e][t]&&(this.element.removeEventListener(t,i||this.handlers[e][t]),this.handlers[e][t]===i&&delete this.handlers[e][t])}removeAll(e){if(this.handlers[e])for(const t in this.handlers[e])this.handlers[e].hasOwnProperty(t)&&(this.element.removeEventListener(t,this.handlers[e][t]),delete this.handlers[e][t])}};t.isMobileMode=e=>!e.isMatchedLarge&&!e.isMatchedMedium})),define("metaserver/static/js/modules/clean/react/file_viewer/async_controller",["require","exports","tslib","lodash","metaserver/static/js/modules/clean/web_timing_logger","metaserver/static/js/edison/ui/spa_product_name","typescript/libraries/file-viewer/src/logging/performance","@dropbox/ttvc"],(function(e,t,i,n,s,o,r,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asyncOpenPreview=t.setupPreloadingPreviews=t.initializeAjaxPreviewTiming=t.startPreviewAjaxTimer=void 0,n=i.__importStar(n);t.startPreviewAjaxTimer=e=>{s.delete_timer(e),s.get_timer(e).initialize({requireTTI:!0,requireTTV:!1,url:e})};t.initializeAjaxPreviewTiming=(e,i=!1)=>{t.startPreviewAjaxTimer(e),o.startNavigation(),o.setSpaProductName(e),i&&r.PreviewsEventLogger.startLoggingSession()};const a=n.memoize(()=>new Promise((t,i)=>{e(["metaserver/static/js/modules/clean/react/file_viewer/controller"],t,i)}).then(i.__importStar)),c=n.memoize(()=>{a(),new Promise((t,i)=>{e(["metaserver/static/js/modules/clean/react/file_viewer/collection_viewer"],t,i)}).then(i.__importStar),new Promise((t,i)=>{e(["metaserver/static/js/file_viewer/sdk_file_viewer/action_plugins/rename_plugin"],t,i)}).then(i.__importStar),new Promise((t,i)=>{e(["metaserver/static/js/file_viewer/sdk_file_viewer/action_plugins/open_in_desktop_plugin"],t,i)}).then(i.__importStar),new Promise((t,i)=>{e(["metaserver/static/js/file_viewer/sdk_file_viewer/action_plugins/delete_plugin"],t,i)}).then(i.__importStar),new Promise((t,i)=>{e(["metaserver/static/js/file_viewer/sdk_file_viewer/action_plugins/copy_plugin"],t,i)}).then(i.__importStar),new Promise((t,i)=>{e(["metaserver/static/js/file_viewer/sdk_file_viewer/action_plugins/move_plugin"],t,i)}).then(i.__importStar),new Promise((t,i)=>{e(["metaserver/static/js/flows/version/create_version_plugin"],t,i)}).then(i.__importStar),new Promise((t,i)=>{e(["metaserver/static/js/file_viewer/sdk_file_viewer/action_plugins/open_dropdown_plugin"],t,i)}).then(i.__importStar),new Promise((t,i)=>{e(["typescript/libraries/file-viewer/src/comments2/plugin/loader/eager"],t,i)}).then(i.__importStar),new Promise((t,i)=>{e(["typescript/component_libraries/files_components/src/blades/file_activity/index"],t,i)}).then(i.__importStar),new Promise((t,i)=>{e(["metaserver/static/js/file_viewer/sdk_file_viewer/action_plugins/download_plugin"],t,i)}).then(i.__importStar),new Promise((t,i)=>{e(["typescript/libraries/file-viewer/src/file_activity_blade/file_activity_blade_plugin"],t,i)}).then(i.__importStar),new Promise((t,i)=>{e(["typescript/libraries/file-viewer/src/preview_doc/renderer/preview_doc"],t,i)}).then(i.__importStar),new Promise((t,i)=>{e(["typescript/libraries/file-viewer/src/preview_image/container"],t,i)}).then(i.__importStar),new Promise((t,i)=>{e(["typescript/libraries/file-viewer/src/preview_audio_video/preview_video"],t,i)}).then(i.__importStar)});t.setupPreloadingPreviews=e=>{if("TTI"===e)s.waitForTTI().then(()=>{c()});else if("TTVC"===e)return l.getTTVC(()=>{c()})},t.asyncOpenPreview=function({containerId:e,files:t,fileViewAction:i,fileViewOrigin:n,fileViewTarget:s,indexOfPreviewFile:o,onFileViewerDidMount:r,onFileViewerUnmount:l,shouldFocusComment:c=!1,activeCommentThreadId:d,shouldPresentInZoom:u=!1,updateBrowserLocation:h=!0,user:p,hidePageChrome:m=!1,transparentBackground:f=!1,forceNoToolbar:g=!1,headerHeight:v="0",forceDisplayToolbar:_=!1,doNotUpdateDocumentTitle:S=!1,onFullscreenChange:w=(()=>{}),onFlipNext:E=(()=>{}),onFlipPrevious:y=(()=>{}),onPreviewSessionInitialized:b=(()=>{}),browseContext:T,browseExceptions:I,shouldFocusApproval:M=!1,skipFileViewerRouting:P=!1,onCloseViewer:L,usePreloadedMetadata:x,disableHydrateStore:O,ajaxTimerName:N}){return a().then(a=>(a.open(t,o,p,e,{fileViewTarget:s,fileViewOrigin:n,fileViewAction:i,disableRouting:!h,onComponentDidMount:r,onComponentWillUnmount:l,onCloseViewer:L,shouldPresentInZoom:u,hidePageChrome:m,transparentBackground:f,forceNoToolbar:g,headerHeight:v,forceDisplayToolbar:_,doNotUpdateDocumentTitle:S,onFullscreenChange:w,onFlipNext:E,onFlipPrevious:y,onPreviewSessionInitialized:b,browseContext:T,browseExceptions:I,shouldFocusApproval:M,shouldFocusComment:c,activeCommentThreadId:d,skipOuterRouting:P,usePreloadedMetadata:x,ajaxTimerName:N},O),a))}})),define("metaserver/static/js/modules/clean/undo",["require","exports","tslib","dompurify","react","metaserver/static/js/modules/constants/undo_strings","metaserver/static/js/modules/core/notify"],(function(e,t,i,n,s,o,r){"use strict";let l,a;function c(){a&&(a(l),a=void 0,l=null)}Object.defineProperty(t,"__esModule",{value:!0}),t.notifyWithUndo=t.setHandleUndo=t.performUndo=void 0,n=i.__importDefault(n),s=i.__importStar(s),t.performUndo=c,t.setHandleUndo=function(e,t){a=e,l=t||null},t.notifyWithUndo=function(e,t,i,n,u=o.UNDO){if(!t||!Object.keys(t).length)return void r.Notify.success(e);l=t,a=i,n=null==n?30:n;const h=e=>{e.preventDefault(),c(),r.Notify.clear()};r.Notify.customSuccess(s.createElement(d,{message:e,undoButtonText:u,onUndo:h}),e,n)};const d=e=>"string"==typeof e.message?s.createElement("span",{"aria-live":"polite"},e.message," ",s.createElement("button",{className:"button-as-link",onClick:e.onUndo},e.undoButtonText)):s.createElement(s.Fragment,null,s.createElement("span",{"aria-live":"polite",dangerouslySetInnerHTML:{__html:n.default.sanitize(e.message.toHTML())}})," ",s.createElement("button",{className:"button-as-link",onClick:e.onUndo},e.undoButtonText));d.displayName="UndoNotification"})),define("typescript/component_libraries/retrieval-components/src/view-mode-toggle/index",["require","exports","tslib","typescript/component_libraries/retrieval-components/src/view-mode-toggle/view_mode_toggle"],(function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.__exportStar(n,t)})),define("typescript/component_libraries/retrieval-components/src/view-mode-toggle/view_mode_toggle",["require","exports","tslib","react","react-intl","dig-components/icons/src","dig-components/menu","dig-components/buttons","dig-components/icons"],(function(e,t,i,n,s,o,r,l,a){"use strict";var c;function d(e,i,n){const r=s.defineMessage({id:"izeluw",defaultMessage:"Grid"}),l=s.defineMessage({id:"BOj5uG",defaultMessage:"Large grid"}),a=s.defineMessage({id:"kn0aTF",defaultMessage:"List"}),c=s.defineMessage({id:"+ElFUY",defaultMessage:"Large list"}),d=!i&&!n,u=[{mode:t.ViewMode.GRID,icon:o.GridViewDenseLine,label:e.formatMessage(r)},{mode:t.ViewMode.TILE,icon:o.GridViewLine,label:e.formatMessage(l)}];return d&&u.push({mode:t.ViewMode.CONDENSED_LIST,icon:o.ListViewDenseLine,label:e.formatMessage(a)}),u.push({mode:t.ViewMode.LIST,icon:o.ListViewLine,label:i?e.formatMessage(a):e.formatMessage(c)}),u}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewModeMenu=t.ViewModeToggle=t.ViewMode=void 0,n=i.__importStar(n),(c=t.ViewMode||(t.ViewMode={})).GRID="grid",c.TILE="tile",c.CONDENSED_LIST="condensed_list",c.LIST="list";t.ViewModeToggle=({className:e,currentMode:i,disabled:o,onSelection:c,onToggle:u,treatLargeListAsList:h,withoutCondensedListMode:p})=>{const m=s.defineMessage({id:"slo33I",defaultMessage:"Select view type"}),f=s.useIntl(),g=f.formatMessage(m),v=d(f,h,p),_=v.find(e=>e.mode===i)||v.find(e=>e.mode===t.ViewMode.LIST);return n.createElement(r.Menu.Wrapper,{onSelection:c,onToggle:u},({getTriggerProps:s,getContentProps:c})=>n.createElement(n.Fragment,null,n.createElement(l.IconButton,Object.assign({className:e,variant:"transparent","aria-label":g,disabled:o,withDropdownIcon:!0},s()),n.createElement(a.UIIcon,{src:_.icon})),n.createElement(r.Menu.Content,Object.assign({},c(),{placement:"bottom-end"}),n.createElement(t.ViewModeMenu,{currentMode:i,treatLargeListAsList:h,withoutCondensedListMode:p}))))},t.ViewModeToggle.displayName="ViewModeToggle";t.ViewModeMenu=({currentMode:e,treatLargeListAsList:t,withoutCondensedListMode:i})=>{const o=d(s.useIntl(),t,i);return n.createElement(r.Menu.Segment,null,o.map(t=>n.createElement(r.Menu.SelectItem,{key:t.mode,value:t.mode,selected:t.mode===e,"aria-checked":t.mode===e,withRightAccessory:n.createElement(a.UIIcon,{src:t.icon})},t.label)))},t.ViewModeMenu.displayName="ViewModeMenu"})),(function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("metaserver/static/js/prod_assets_web_modules/keymaster",[],t);else{var i=t();for(var n in i)("object"==typeof exports?exports:e)[n]=i[n]}})(window,(function(){return(function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)})({"./keymaster.js":function(e,t){var i,n={},s={16:!1,18:!1,17:!1,91:!1},o="all",r={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},l={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220};for(i=1;i<20;i++)l["f"+i]=111+i;function a(e,t){for(var i=e.length;i--;)if(e[i]===t)return i;return-1}function c(){for(i in s)s.hasOwnProperty(i)&&(s[i]=!1)}function d(e,t,i){var s,o,a,c;for(void 0===i&&(i=t,t="all"),""==(s=(e=e.replace(/\s/g,"")).split(","))[s.length-1]&&(s[s.length-2]+=","),a=0;a<s.length;a++){if(o=[],(e=s[a].split("+")).length>1){for(o=e.slice(0,e.length-1),c=0;c<o.length;c++)o[c]=r[o[c]];e=[e[e.length-1]]}e=e[0],(e=l[e]||e.toUpperCase().charCodeAt(0))in n||(n[e]=[]),n[e].push({shortcut:s[a],scope:t,method:i,key:s[a],mods:o})}}for(i in r)d[i]=!1;function u(e){o=e||"all"}function h(){return o}function p(e){for(var t=e.slice(0,e.length-1),i=0;i<t.length;i++)t[i]=r[t[i]];return t}function m(e,t){if(e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function f(e){var t=e.target||e.srcElement,i=t.tagName,n=e.keyCode,s=t.hasAttribute&&t.hasAttribute("contenteditable")&&"false"!=t.getAttribute("contenteditable").toLowerCase()||"undefined"!=typeof jest&&"true"==t.contentEditable;return!(("INPUT"==i||"SELECT"==i||"TEXTAREA"==i||s)&&-1==["submit","button"].indexOf(t.type)&&n!=l.escape&&n!=l.tab)}function g(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,(function(){i(window.event)}))}const v=d;v.setScope=u,v.getScope=h,v.clear=function(){n={},u(),c()},v.clearScope=function(e){for(var t in n)if(n.hasOwnProperty(t))for(var i=0;i<n[t].length;i++)n[t][i].scope===e&&(n[t].splice(i,1),i-=1)},v.filter=f,v.resetFilter=function(){d.filter=f},v.unbind=function(e,t,i){var s,o,r,a,c,d,u,f=[];for(o=(function(e){var t=e.replace(/\s/g,"").split(",");return""==t[t.length-1]&&(t[t.length-2]+=","),t})(e),c=0;c<o.length;c++){if((r=o[c].split("+")).length>1&&(f=p(r)),s=r[r.length-1],s=l[u=s]||u.toUpperCase().charCodeAt(0),void 0===t&&(t=h()),!n[s])return;for(a=0;a<n[s].length;a++)(d=n[s][a]).scope===t&&m(d.mods,f)&&(i&&d.method!==i||(n[s][a]={}))}},window.key||(g(document,"keydown",(function(e){var t,i,l,c,u;if((e.target||e.srcElement).tagName,93!=(t=e.keyCode)&&224!=t||(t=91),t in s)for(l in s[t]=!0,r)r[l]==t&&(d[l]=!0);else if(d.filter.call(this,e)&&t in n){var h=o;for(c=0;c<n[t].length;c++)if((i=n[t][c]).scope==h||"all"==i.scope){for(l in u=i.mods.length>0,s)(!s[l]&&a(i.mods,+l)>-1||s[l]&&-1==a(i.mods,+l))&&(u=!1);(0!=i.mods.length||s[16]||s[18]||s[17]||s[91])&&!u||!1===i.method(e,i)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}})),g(document,"keyup",(function(e){var t,i=e.keyCode;if(93!=i&&224!=i||(i=91),i in s)for(t in s[i]=!1,r)r[t]==i&&(d[t]=!1)})),g(window,"focus",c),g(document,"contextmenu",c),window.key=v),e.exports=window.key},0:function(e,t,i){e.exports=i("./keymaster.js")}})}));
//# sourceMappingURL=pkg-selectable-list.min.js-vflL0gbuS.map