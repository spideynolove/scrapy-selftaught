define("metaserver/static/js/file_viewer/sdk_file_viewer/utils",["require","exports","tslib","react","typescript/libraries/file-viewer/src/core/data/models","metaserver/static/js/pap/util","metaserver/static/js/open_in_app/types","metaserver/static/js/modules/core/browser_detection","typescript/libraries/file-viewer/src/core/config","metaserver/static/js/auth/login_or_register/types","metaserver/static/js/file_viewer/sdk_file_viewer/experiments","metaserver/static/js/file_store/utils","typescript/libraries/file-viewer/src/file_extension/extension_constants"],(function(e,t,n,i,s,r,a,o,l,c,d,u,_){"use strict";var m;function p(e){return!e}Object.defineProperty(t,"__esModule",{value:!0}),t.isVideoPreview=t.isAudioPreview=t.isExcelPreview=t.bucketLengthForUserSurvey=t.isFvsdkCropRotateEnabled=t.isFvsdkPhotoEditorEnabled=t.isFvsdkPdfEditorEnabled=t.showAuthModal=t.cleanupPrerenderPreview=t.canDownloadFile=t.isMountedFile=t.getOpenInAppUrls=t.SIGNATURES_ACTIONBAR_DROPDOWN_PLUGIN_ID=t.STAR_TOOLBAR_PLUGIN_ID=t.RESTORE_ACTION_PLUGIN_ID=t.VERSION_HISTORY_ACTION_PLUGIN_ID=t.UNZIP_ACTION_PLUGIN_ID=t.DOCSEND_ANALYTICS_ADD_ON_ACTION_PLUGIN_ID=t.STARRED_ACTION_PLUGIN_ID=t.ADD_TO_COLLECTION_ACTION_PLUGIN_ID=t.TRANSFER_ACTION_PLUGIN_ID=t.CREATE_VERSION_ACTION_PLUGIN_ID=t.REQUEST_APPROVAL_ACTION_PLUGIN_ID=t.OPEN_IN_DESKTOP_ACTION_PLUGIN_ID=t.RENAME_ACTION_PLUGIN_ID=t.WATERMARKING_ACTION_PLUGIN_ID=t.OPEN_DROPDOWN_ACTION_PLUGIN_ID=t.MOVE_ACTION_PLUGIN_ID=t.DELETE_ACTION_PLUGIN_ID=t.DOWNLOAD_ACTION_PLUGIN_ID=t.COPY_ACTION_PLUGIN_ID=t.SDKPreviewSurfaceToPapType=t.SDKPreviewSurface=t.INBAND_SUPPORTED_TYPES=void 0,i=n.__importDefault(i),o=n.__importStar(o),t.INBAND_SUPPORTED_TYPES=[s.PreviewType.HTML],(function(e){e.BROWSE="browse",e.SEARCH="search",e.INBAND_SHARE="inband-share",e.SHARED_LINK="shared-link",e.SHARED_CONTENT_LINK="shared-content-link",e.SHARED_LINK_EMBED="shared-link-embed",e.VERSION_HISTORY="version-history",e.HOME="home",e.HELLOSIGN="hellosign",e.RECENTS="recents",e.STARRED="starred",e.STANDALONE_PREVIEW="standalone-previews",e.PHOTOS="photos",e.COLLECTIONS="collections",e.SHARED_COLLECTION="shared-collection",e.COMMERCE="commerce",e.TRANSFER="transfer",e.FILE_LOCKING="file-locking",e.BACKUP="backup",e.UNKNOWN="unknown"})(m=t.SDKPreviewSurface||(t.SDKPreviewSurface={})),t.SDKPreviewSurfaceToPapType=function(e,t){let n=void 0;switch(e){case m.UNKNOWN:n=r.getEnumValueForString("UNKNOWN_PREVIEWS_SURFACE",t);break;case m.BROWSE:n=r.getEnumValueForString("BROWSE_PREVIEWS_SURFACE",t);break;case m.SEARCH:n=r.getEnumValueForString("SEARCH_PREVIEWS_SURFACE",t);break;case m.INBAND_SHARE:n=r.getEnumValueForString("INBAND_SHARE_PREVIEWS_SURFACE",t);break;case m.SHARED_LINK:n=r.getEnumValueForString("SHARED_LINK_PREVIEWS_SURFACE",t);break;case m.SHARED_CONTENT_LINK:n=r.getEnumValueForString("SHARED_CONTENT_LINK_PREVIEWS_SURFACE",t);break;case m.SHARED_LINK_EMBED:n=r.getEnumValueForString("SHARED_LINK_EMBED_PREVIEWS_SURFACE",t);break;case m.VERSION_HISTORY:n=r.getEnumValueForString("VERSION_HISTORY_PREVIEWS_SURFACE",t);break;case m.HOME:n=r.getEnumValueForString("HOME_PREVIEWS_SURFACE",t);break;case m.HELLOSIGN:n=r.getEnumValueForString("HELLOSIGN_PREVIEWS_SURFACE",t);break;case m.RECENTS:n=r.getEnumValueForString("RECENTS_PREVIEWS_SURFACE",t);break;case m.STARRED:n=r.getEnumValueForString("STARRED_PREVIEWS_SURFACE",t);break;case m.STANDALONE_PREVIEW:n=r.getEnumValueForString("STANDALONE_PREVIEWS_PREVIEWS_SURFACE",t);break;case m.PHOTOS:n=r.getEnumValueForString("PHOTOS_PREVIEWS_SURFACE",t);break;case m.COLLECTIONS:n=r.getEnumValueForString("COLLECTIONS_PREVIEWS_SURFACE",t);break;case m.COMMERCE:n=r.getEnumValueForString("COMMERCE_PREVIEWS_SURFACE",t);break;case m.TRANSFER:n=r.getEnumValueForString("TRANSFER_PREVIEWS_SURFACE",t);break;case m.FILE_LOCKING:n=r.getEnumValueForString("FILE_LOCKING_PREVIEWS_SURFACE",t);break;case m.BACKUP:n=r.getEnumValueForString("BACKUP_PREVIEWS_SURFACE",t)}return n},t.COPY_ACTION_PLUGIN_ID="COPY_ACTION",t.DOWNLOAD_ACTION_PLUGIN_ID="DOWNLOAD_ACTION",t.DELETE_ACTION_PLUGIN_ID="DELETE_ACTION",t.MOVE_ACTION_PLUGIN_ID="MOVE_ACTION",t.OPEN_DROPDOWN_ACTION_PLUGIN_ID="OPEN_DROPDOWN_ACTION",t.WATERMARKING_ACTION_PLUGIN_ID="watermarking_overflow_action",t.RENAME_ACTION_PLUGIN_ID="RENAME_ACTION",t.OPEN_IN_DESKTOP_ACTION_PLUGIN_ID="OPEN_IN_DESKTOP_ACTION",t.REQUEST_APPROVAL_ACTION_PLUGIN_ID="REQUEST_APPROVAL_ACTION",t.CREATE_VERSION_ACTION_PLUGIN_ID="CREATE_VERSION_ACTION",t.TRANSFER_ACTION_PLUGIN_ID="TRANSFER_ACTION",t.ADD_TO_COLLECTION_ACTION_PLUGIN_ID="ADD_TO_COLLECTION_ACTION",t.STARRED_ACTION_PLUGIN_ID="STARRED_ACTION",t.DOCSEND_ANALYTICS_ADD_ON_ACTION_PLUGIN_ID="DOCSEND_ANALYTICS_ADD_ON_ACTION",t.UNZIP_ACTION_PLUGIN_ID="UNZIP_ACTION",t.VERSION_HISTORY_ACTION_PLUGIN_ID="VERSION_HISTORY_ACTION",t.RESTORE_ACTION_PLUGIN_ID="RESTORE_ACTION",t.STAR_TOOLBAR_PLUGIN_ID="STAR_TOOLBAR_BUTTON",t.SIGNATURES_ACTIONBAR_DROPDOWN_PLUGIN_ID="SIGNATURES_ACTIONBAR_DROPDOWN",t.getOpenInAppUrls=function(e,t,n,i){if(e&&t&&n)return e.open_in_app_data;if(o.iOS&&i){const t=encodeURIComponent(e.fq_path),n=encodeURIComponent(i.id);return{platform:a.OpenInMobileAppPlatform.IPHONE,iOSAppUrl:`dbapi-5://1/viewPath?path=${t}&userId=${n}`,iOSAppStoreUrl:"https://itunes.apple.com/us/app/dropbox/id327630330?mt=8e"}}if(o.is_android()){const e="/dl/home/mobile?mobile_app_fallback";return{platform:a.OpenInMobileAppPlatform.ANDROID_MARKET,androidAppUrl:e}}},t.isMountedFile=p,t.canDownloadFile=function(e,t){return p(e)||t&&t.canDownloadRoles.length>0},t.cleanupPrerenderPreview=function(){const e=document.querySelectorAll(".prerender-preview");Array.prototype.forEach.call(e,e=>{e.style.display="none"})};const f={[l.AuthMode.LOGIN]:c.Mode.LOGIN,[l.AuthMode.REGISTER]:c.Mode.REGISTER},h={[l.LoginOrRegisterKind.COMMENT]:c.LoginOrRegisterKind.COMMENT,[l.LoginOrRegisterKind.DOWNLOAD]:c.LoginOrRegisterKind.DOWNLOAD,[l.LoginOrRegisterKind.IMMEDIATE]:c.LoginOrRegisterKind.IMMEDIATE,[l.LoginOrRegisterKind.POSTDOWNLOAD]:c.LoginOrRegisterKind.POSTDOWNLOAD,[l.LoginOrRegisterKind.SIDEBAR]:c.LoginOrRegisterKind.SIDEBAR},g={[l.CommentTextVariant.DEFAULT]:c.CommentTextVariant.DEFAULT,[l.CommentTextVariant.POST]:c.CommentTextVariant.POST,[l.CommentTextVariant.SUBSCRIBE]:c.CommentTextVariant.SUBSCRIBE};t.showAuthModal=function({mode:t,kind:s,sharedLinkUrl:r,encryptionOptions:a,commentParams:o,loggingExtra:l}){return n.__awaiter(this,void 0,void 0,(function*(){const[{Modal:c},{LoginOrRegisterModal:d}]=yield Promise.all([new Promise((t,n)=>{e(["metaserver/static/js/components/ui/modal"],t,n)}).then(n.__importStar),new Promise((t,n)=>{e(["metaserver/static/js/auth/login_or_register/modal"],t,n)}).then(n.__importStar)]);c.showInstance(i.default.createElement(d,{downloadAction:null,id:"shared-link-immediate-signup-modal",initialMode:f[t],kind:h[s],onCancel:()=>{},onAuthenticateSuccess:()=>window.location.reload(),commentParams:o?{stream:o.stream,variant:g[o.variant]}:void 0,signup_tag:"shmodel_modal_register",showGoogleRegistration:!0,googleRegisterProps:r?{signupContinuationUrl:r}:void 0,encryptionOptions:a,loggingExtra:l}))}))};const E=["ON"];t.isFvsdkPdfEditorEnabled=()=>E.includes(d.fileViewerFeatureExperiments.enableFvsdkPdfEditor);t.isFvsdkPhotoEditorEnabled=()=>"ON"===d.fileViewerFeatureExperiments.enableFvsdkPhotoEditor;t.isFvsdkCropRotateEnabled=()=>"ON"===d.fileViewerFeatureExperiments.enablePreviewsCropRotate,t.bucketLengthForUserSurvey=function(e){const t=e/60;if(t<2)return"0-2 minutes";if(t<5)return"2-5 minutes";if(t<10)return"5-10 minutes";if(t<30)return"10-30 minutes";const n=t/60;return n<1?"30 minutes - 1 hour":n<5?"1-5 hours":"5+ hours"},t.isExcelPreview=function(e){const t="."+u.getExtension(e);return".csv"!==t&&_.MSOFFICE_EXCEL_EXTS.includes(t)},t.isAudioPreview=function(e){const t="."+u.getExtension(e);return _.AUDIO_EXTS.includes(t)},t.isVideoPreview=function(e){const t="."+u.getExtension(e);return _.TRANSCODE_VIDEO_EXTS.includes(t)}})),define("metaserver/static/js/pass/actions",["require","exports","metaserver/static/js/flux/dispatcher","metaserver/static/js/pass/constants"],(function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PassActions=void 0;t.PassActions=class{static passPermissionRequest(e){n.Dispatcher.dispatch({type:i.ActionTypes.PASS_PERMISSION_REQUEST,data:{fileId:e}})}static updatePermissions(e,t){n.Dispatcher.dispatch({type:i.ActionTypes.UPDATE_PERMISSIONS,data:{fileId:e,partialPermission:t}})}static fetchPassError(e){n.Dispatcher.dispatch({type:i.ActionTypes.FETCH_PASS_ERROR,data:{fileId:e}})}static fetchPassConcluded(e){n.Dispatcher.dispatch({type:i.ActionTypes.FETCH_PASS_CONCLUDED,data:{fileId:e}})}static receivePresenceDelta(e,t,s,r){n.Dispatcher.dispatch({type:i.ActionTypes.RECEIVE_PRESENCE_DELTA,data:{userId:e,fileId:t,onlineUniqueUsers:s,offlineUniqueUsers:r}})}static receivePresenceSnapshot(e,t,s){n.Dispatcher.dispatch({type:i.ActionTypes.RECEIVE_PRESENCE_SNAPSHOT,data:{userId:e,fileId:t,onlineUniqueUsers:s}})}static resetPassInfo(e){n.Dispatcher.dispatch({type:i.ActionTypes.RESET_PASS_INFO,data:{fileId:e}})}static updateSeenStateInfo(e,t,s){n.Dispatcher.dispatch({type:i.ActionTypes.UPDATE_SEEN_STATE_INFO,data:{fileId:e,seenStateInfo:t,seenStateCursor:s}})}static updateUserTeamInteractionInfo(e,t){n.Dispatcher.dispatch({type:i.ActionTypes.UPDATE_USER_TEAM_INTERACTION_INFO,data:{fileId:e,userTeamInteractionInfo:t}})}static updateSeenStateInfoContinue(e,t,s){n.Dispatcher.dispatch({type:i.ActionTypes.UPDATE_SEEN_STATE_INFO_CONTINUE,data:{fileId:e,seenStateInfo:t,seenStateCursor:s}})}static discontinueSeenStateInfo(e){n.Dispatcher.dispatch({type:i.ActionTypes.DISCONTINUE_SEEN_STATE_INFO,data:{fileId:e}})}static updateSeenStateUnavailable(e,t){n.Dispatcher.dispatch({type:i.ActionTypes.UPDATE_SEEN_STATE_UNAVAILABLE,data:{userId:e,fileId:t}})}}})),define("metaserver/static/js/action_bar/file_actions/portable/save_as_copy/save_as_copy",["require","exports","tslib","metaserver/static/js/share_download/ui/copy_to_dropbox/api","metaserver/static/js/modules/core/browser","metaserver/static/js/action_bar/file_actions/portable/save_as_copy/save_modal"],(function(e,t,n,i,s,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.portableSaveAsCopy=void 0,i=n.__importStar(i),s=n.__importStar(s);t.portableSaveAsCopy=({shareToken:e,user:t,fileName:a},{onSuccess:o,onError:l,onNetworkRequest:c,onModalClose:d})=>{r.showSaveFileModal({user:t,onConfirm:()=>n.__awaiter(void 0,void 0,void 0,(function*(){try{null==c||c();const n=yield i.copySharedFile(e,t.id);null==o||o(),s.redirect(n)}catch(e){null==l||l(e)}})),onCancel:()=>{null==d||d()},fileName:a})}})),define("metaserver/static/js/action_bar/file_actions/portable/save_as_copy/save_modal",["require","exports","tslib","dig-components/modal","dig-components/buttons","dig-components/icons","dig-components/icons/src","metaserver/static/js/components/ui/modal","react","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/em_string","metaserver/static/js/modules/clean/viewer","metaserver/static/js/modules/clean/filepath/filepath","dig-components/typography","metaserver/static/js/dig-illustrations/spot/file-folders","dig-components/buttons"],(function(e,t,n,i,s,r,a,o,l,c,d,u,_,m,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showSaveFileModal=t.SaveFileModal=void 0,l=n.__importDefault(l),_=n.__importStar(_);t.SaveFileModal=({user:e,onConfirm:t,onCancel:n,fileName:o})=>{const[h,g]=l.default.useState(!0),E=()=>{null==n||n(),g(!1)};return l.default.createElement(i.Modal,{open:h,onRequestClose:E},l.default.createElement(i.Modal.Header,{hasBottomSpacing:"title-standard",className:"naming-conventions__header"},l.default.createElement("div",{style:{textAlign:"right"}},l.default.createElement(s.IconButton,{onClick:E,variant:"transparent"},l.default.createElement(r.UIIcon,{src:a.CloseLine}))," "),l.default.createElement(m.Title,null,(v=o,e&&e.is_cdm_member?c.intl.formatMessage({id:"bxu2bk",defaultMessage:"Save a copy of ‘{name}’ to your member folder?"},{name:d.Emstring.em_snippet(v,15)}):c.intl.formatMessage({id:"aAhGow",defaultMessage:"Save a copy of ‘{name}’?"},{name:d.Emstring.em_snippet(v,15)})))),l.default.createElement(i.Modal.Body,null,l.default.createElement("div",null,l.default.createElement("div",{style:{width:"60%",margin:"0 auto"}},l.default.createElement(p.FileFoldersSpot,null)),l.default.createElement(m.Text,null,(t=>{const n=u.Viewer.get_viewer();return e&&e.is_cdm_member?c.intl.formatMessage({id:"bxn/4H",defaultMessage:"This will save a copy of the original file to the <strong>{cdm_tmf_name}</strong> folder in your {team_name} Dropbox account."},{cdm_tmf_name:_.filename(e.cdm_tmf_path),team_name:n.team_name,strong:e=>l.default.createElement("strong",null,e)}):c.intl.formatMessage({id:"Qm4Vrc",defaultMessage:"This will save a copy of the original file to your Dropbox account. Changes made to the original file or copy will not be saved to the other."})})()))),l.default.createElement(i.Modal.Footer,null,l.default.createElement(f.Button,{variant:"opacity",onClick:E},c.intl.formatMessage({id:"Li86mZ",defaultMessage:"Cancel"})),l.default.createElement(f.Button,{variant:"primary",onClick:()=>{t(),g(!1)}},c.intl.formatMessage({id:"78AHo5",defaultMessage:"Save"}))));var v},t.showSaveFileModal=function(e){o.Modal.showInstance(l.default.createElement(t.SaveFileModal,Object.assign({},e)))}})),define("metaserver/static/js/action_bar/file_actions/portable/save_as_copy/snackbars",["require","exports","metaserver/static/js/modules/core/i18n","metaserver/static/js/files_view/file_actions/snackbars","metaserver/static/js/modules/clean/react/snackbar"],(function(e,t,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveCopyFailedSnackBar=t.saveCopySnackBarInProgress=void 0;t.saveCopySnackBarInProgress=e=>s.Snackbar.sync(n.intl.formatMessage({id:"Adz4fH",defaultMessage:"Saving to your personal Dropbox..."}),!1,e,!0);t.saveCopyFailedSnackBar=(e,t,n)=>s.Snackbar.fail(i.renameError(e.error,t),n)})),define("metaserver/static/js/action_bar/file_actions/portable/utils",["require","exports","tslib","react","dig-components/menu","dig-components/buttons","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","dig-components/tooltips"],(function(e,t,n,i,s,r,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makePluginActionDefinition=t.getCustomActionOverflowItem=void 0,i=n.__importDefault(i);t.getCustomActionOverflowItem=({label:e,action:t,id:n,icon:r,disabled:l={disabled:!1}})=>{const c=i.default.createElement(s.Menu.ActionItem,{value:{nodeType:"dropdown",actionType:a.ActionBarActionTypes.CUSTOM_ACTION,id:n,menuItem:{handler:t}},withLeftAccessory:r,disabled:l.disabled},e);return l.disabled?i.default.createElement(o.Tooltip,{title:l.tooltipMessage},i.default.createElement("span",{style:{display:"block"},tabIndex:0},c)):c};t.makePluginActionDefinition=e=>{const{id:n,renderButton:s,overflowItem:a}=(({label:e,action:n,id:s,icon:a,disabled:o={disabled:!1},primary:l})=>{const c=e=>{e.preventDefault(),e.stopPropagation(),n()},d=e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),n())};return{id:s,renderButton:t=>i.default.createElement(r.Button,{variant:l?"primary":"opacity",onClick:c,onKeyPress:d,withIconLeft:t?null:a,disabled:o.disabled},e),overflowItem:t.getCustomActionOverflowItem({label:e,action:n,id:s,icon:a,disabled:o})}})(e);return{id:n,renderButton:s,overflowItem:a}}})),define("metaserver/static/js/modules/clean/integrations/zoom_share_dialog/async_modal",["require","exports","tslib"],(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asyncShowModal=void 0,t.asyncShowModal=function(t,i,s,r){return n.__awaiter(this,void 0,void 0,(function*(){const{showModal:a}=yield new Promise((t,n)=>{e(["metaserver/static/js/modules/clean/integrations/zoom_share_dialog/modal"],t,n)}).then(n.__importStar);a(t,i,s,r||"web")}))}})),define("metaserver/static/js/onboarding_checklist/async_share_button_tooltip",["require","exports","tslib","metaserver/static/js/async/loadable","metaserver/static/js/modules/clean/web_timing_logger","metaserver/static/js/browse/data/store"],(function(e,t,n,i,s,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncOnboardingChecklistShareButtonTooltip=void 0,t.AsyncOnboardingChecklistShareButtonTooltip=i.Loadable({loader:()=>n.__awaiter(void 0,void 0,void 0,(function*(){yield s.waitForTTI();const{OnboardingChecklistShareButtonTooltip:t}=yield new Promise((t,n)=>{e(["metaserver/static/js/onboarding_checklist/share_button_tooltip"],t,n)}).then(n.__importStar);return r.getStoreForBrowse(),t}))})})),define("metaserver/static/js/pass/beacon_presence_helpers",["require","exports","tslib","metaserver/static/js/api_v2/user_client","metaserver/static/js/api_v2/noauth_client","metaserver/static/js/modules/clean/beacon_nodeps","metaserver/static/js/pass/seen_state_helpers","metaserver/static/js/pass/actions","metaserver/static/js/modules/clean/uuid/uuid","metaserver/static/js/modules/clean/viewer","metaserver/static/js/modules/constants/python"],(function(e,t,n,i,s,r,a,o,l,c,d){"use strict";function u(e){o.PassActions.resetPassInfo(e),o.PassActions.fetchPassError(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.BeaconPresenceHelpers=void 0,r=n.__importStar(r);class _{static resetClassState(){delete this.receiverData,delete this.transmitterData,delete this.lastFileIdForReceiverTokenRequest,delete this.lastFileIdForTransmitterTokenRequest}static shutdown({beaconFileData:e,user:t,async:n,shouldWritePresence:i=!0}){if(delete this.lastFileIdForReceiverTokenRequest,delete this.lastFileIdForTransmitterTokenRequest,this.transmitterData){const{beaconUserId:s,context:r,identifier:o}=this.transmitterData;this.transmitterData.transmitter.stop(),delete this.transmitterData,!c.Viewer.get_viewer().is_assume_user_session&&i&&a.SeenStateHelpers.updateSeenStateOnResign(t,e,n,s,o,r)}this.receiverData&&this.receiverData.receiver&&(this.receiverData.receiver.stop(),delete this.receiverData)}static receiveBeaconData({beaconFileData:e,user:t,onUpdate:i}){return n.__awaiter(this,void 0,void 0,(function*(){const{fileId:n}=e;this.lastFileIdForReceiverTokenRequest=n;const s=yield this.fetchReceiverToken(t,e);if(this.lastFileIdForReceiverTokenRequest!==n)return;if(s.beacon_presence_error)return o.PassActions.updatePermissions(n,{canReadPresence:!1}),void("no_permission"===s.beacon_presence_error[".tag"]||u(n));o.PassActions.updatePermissions(n,{canReadPresence:!0});const a=[new r.PresenceParams(r.PresenceType.Context,t.account_id,this.APP,s.beacon_presence_info.context,s.beacon_presence_info.token)];this.receiverData&&this.receiverData.receiver&&this.receiverData.receiver.stop(),this.receiverData={authKey:s.beacon_presence_info.auth_key,receiver:new r.Receiver(a,n=>{const s=this.parseBeaconUpdates(n[0]);i(s,t.id,e)},()=>this.receiveBeaconData({user:t,beaconFileData:e,onUpdate:i})),context:s.beacon_presence_info.context},this.receiverData.receiver.start()}))}static fetchReceiverToken(e,t){const{fileId:n,url:s}=t,r={file_info:m(n,s)};return(new i.UserApiV2Client).ns("file_presence").rpc("get_pass_receiver_token",r,{subjectUserId:e.id})}static isOnline(e){return e&&this.HARMONY_ONLINE_STATUSES.includes(e)||e===d.BEACON_ONLINE_STATUS}static parseBeaconUpdates(e){const t={},n={},i="delta"in e?"delta":"snapshot",s="delta"in e&&e.delta?e.delta:"snapshot"in e&&e.snapshot?e.snapshot:[];for(const e of s){const i=e.agent,s=i.user_id,r=i.source.identifier;this.isOnline(e.status)?(s in t||(t[s]={}),t[s][r]=!0):(s in n||(n[s]={}),n[s][r]=!0)}return{onlineUniqueUsers:t,offlineUniqueUsers:n,type:i}}static transmitBeaconData({user:e,beaconFileData:t,prevBeaconFileData:i}){return n.__awaiter(this,void 0,void 0,(function*(){const{fileId:n}=t;this.transmitterData&&i&&(this.transmitterData.transmitter.add_or_update_agents([this.getAgentStatusForFile(this.transmitterData.beaconUserId,this.transmitterData.identifier,this.transmitterData.authKey,this.transmitterData.context,d.BEACON_OFFLINE_STATUS)]),setTimeout(()=>{this.transmitterData.transmitter.stop()},1)),this.lastFileIdForTransmitterTokenRequest=n;const s=yield this.fetchTransmitterToken(e,t);if(this.lastFileIdForTransmitterTokenRequest===n){if(s.beacon_presence_error)return o.PassActions.updatePermissions(n,{canWritePresence:!1}),void("no_permission"===s.beacon_presence_error[".tag"]||u(n));o.PassActions.updatePermissions(n,{canWritePresence:!0}),this.transmitterData={identifier:l.UUID.v4({allowInsecure:!0}),beaconUserId:s.beacon_presence_info.beacon_user_id,authKey:s.beacon_presence_info.auth_key,transmitter:new r.Transmitter(s.beacon_presence_info.token,()=>this.transmitBeaconData({user:e,beaconFileData:t,prevBeaconFileData:null})),context:s.beacon_presence_info.context},this.transmitterData.transmitter.add_or_update_agents([this.getAgentStatusForFile(this.transmitterData.beaconUserId,this.transmitterData.identifier,this.transmitterData.authKey,this.transmitterData.context,d.BEACON_ONLINE_STATUS)]),this.transmitterData.transmitter.start()}}))}static getAgentStatusForFile(e,t,n,i,s){const a=new r.Source(this.PLATFORM,this.SURFACE,t),o=new r.Agent(e,this.APP,i,a);return new r.AgentStatus(o,s,n)}static fetchTransmitterToken(e,t){const{fileId:n,url:r}=t,a={file_info:m(n,r)};return e?(new i.UserApiV2Client).ns("file_presence").rpc("get_pass_transmitter_token",a,{subjectUserId:e.id}):(new s.NoAuthApiV2Client).ns("file_presence").rpc("logged_out/get_pass_transmitter_token",a,{})}}function m(e,t){return t?{".tag":"shared_link_details",url:t}:{".tag":"file_identifier",file_identifier:e}}t.BeaconPresenceHelpers=_,_.APP="harmony",_.PLATFORM=r.Platforms.WEB,_.SURFACE="file_viewer",_.HARMONY_ONLINE_STATUSES=["modifier","viewer"]})),define("metaserver/static/js/pass/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BeaconFileData=t.FacepileInfo=t.UserInfo=void 0;t.UserInfo=class{constructor(e,t,n,i,s,r,a,o,l,c,d,u,_){this.key=e,this.displayName=t,this.isActive=n,this.isViewer=i,this.incrementOverflowBasis=s,this.email=r,this.accessLevel=a,this.whenLastSeen=o,this.photoUrl=l,this.userId=c,this.platformType=d,this.same_team=u,this.is_guest=_}};class n{constructor(e,t){this.isLoaded=e,this.data=t}static create(e){return new n(!0,e)}static createNotLoaded(){return new n(!1,null)}}t.FacepileInfo=n;t.BeaconFileData=class{constructor(e,t){this.fileId=e,this.url=t}}})),define("metaserver/static/js/pass/seen_state_helpers",["require","exports","tslib","metaserver/static/js/api_v2/transport/fetch","metaserver/static/js/api_v2/user_client","metaserver/static/js/api_v2/noauth_client","metaserver/static/js/api_v2/error","metaserver/static/js/api_v2/types","metaserver/static/js/pass/actions","metaserver/static/js/pass/constants"],(function(e,t,n,i,s,r,a,o,l,c){"use strict";function d(e){l.PassActions.resetPassInfo(e),l.PassActions.fetchPassError(e)}function u(e,t){return{file_identifier:e,shared_link_details:t?{url:t}:void 0}}var _;Object.defineProperty(t,"__esModule",{value:!0}),t.SeenStateHelpers=t.APITransport=void 0,(function(e){e.create=function(e){return e?new i.FetchAsyncTransport:new i.FetchSyncTransport}})(_=t.APITransport||(t.APITransport={}));t.SeenStateHelpers=class{static constructFakeSeenStateInfo(e,t,n){const i=n.seen_states,s=[];for(const e of i)s.push(e.seen_state_user.user_id);for(const n of e)if(!s.includes(n.user_id)){n.sharing_access_type&&(n.sharing_access_type=this.convertToUnion(n.sharing_access_type));const e={seen_state_user:n,when_last_seen:t,seen_events:[]};i.unshift(e)}return n.seen_states=i,n}static convertToUnion(e){return e?o.Union.parse(e):null}static parseSeenStatePassPlatform(e){if(e){switch(o.Union.parse(e).type){case"web":return c.PassPlatform.WEB;case"mobile":return c.PassPlatform.MOBILE;case"desktop":return c.PassPlatform.DESKTOP}}return c.PassPlatform.UNKNOWN}static fetchSeenStateUsers(e,t,i,r,o){return n.__awaiter(this,void 0,void 0,(function*(){const n=Date.now()/1e3,c=yield(new s.UserApiV2Client).ns("seen_state").rpc("get_seen_state_users",{user_ids:i,file_info:u(r,o)},{subjectUserId:e}).catch(a.catchApiError(()=>(d(r),Promise.reject(void 0)))),_=this.constructFakeSeenStateInfo(c,n,t);l.PassActions.updateSeenStateInfo(r,_)}))}static processAndUpdateSeenStateInfo(e,t,n,i){const{seen_state_info:s,seen_state_error:r,seen_state_cursor:a}=n[0];if(r)if(i)l.PassActions.discontinueSeenStateInfo(t);else{if("no_permission"===o.Union.parse(r).type)return;d(t)}else{for(const e of s.seen_states)e.seen_state_user.sharing_access_type=this.convertToUnion(e.seen_state_user.sharing_access_type),e.platform_type=this.parseSeenStatePassPlatform(e.platform_type);i?l.PassActions.updateSeenStateInfoContinue(t,s,a):l.PassActions.updateSeenStateInfo(t,s,a)}}static fetchSeenStateInfo(e,t,i,r){return n.__awaiter(this,void 0,void 0,(function*(){const n=yield(new s.UserApiV2Client).ns("seen_state").rpc("get_seen_state_info",{file_infos:[u(t,r)],limit:i},{subjectUserId:e.id}).catch(a.catchApiError(()=>(d(t),Promise.reject(void 0))));let o=!0;const{seen_state_info:c,seen_state_error:_}=n[0];o=!(!c||_),l.PassActions.updatePermissions(t,{canReadSeenState:o}),o||l.PassActions.updateSeenStateUnavailable(e.id,t),this.processAndUpdateSeenStateInfo(e,t,n,!1),o&&this.fetchRemainingSeenStateInfo(e,t,n,r)}))}static fetchRemainingSeenStateInfo(e,t,n,i){const s=n[0].seen_state_cursor;if(s&&s.has_next){const n=s.cursor_state;n&&this.fetchSeenStateInfoContinue(e,t,n,1e5,i)}}static fetchSeenStateInfoContinue(e,t,i,r,o){return n.__awaiter(this,void 0,void 0,(function*(){const n=yield(new s.UserApiV2Client).ns("seen_state").rpc("get_seen_state_info/continue",{file_infos:[u(t,o)],cursor:i,limit:r},{subjectUserId:e.id}).catch(a.catchApiError(()=>(l.PassActions.discontinueSeenStateInfo(t),Promise.reject(void 0))));this.processAndUpdateSeenStateInfo(e,t,n,!0)}))}static updateSeenStateOnResign(e,t,n,i,a,o){const l=_.create(n);return(function(e,t,n,i,a){return e?t(new s.UserApiV2Client(a).ns("seen_state"),i,{subjectUserId:e.id}):n(new r.NoAuthApiV2Client(a).ns("seen_state"),i,{})})(e,(e,t,n)=>e.rpc("update_timestamps_and_mark_offline",t,n),(e,t,n)=>e.rpc("logged_out/mark_offline",t,n),{beacon_infos:[{beacon_user_id:i,context:o,shared_link_url:t.url,identifier:a}]},l)}}})),define("metaserver/static/js/modules/clean/react/extensions/utils",["require","exports","metaserver/static/js/modules/clean/web_user_action_events"],(function(e,t,n){"use strict";function i(e,t){return t in e&&"enabled"===e[t].service_availability[".tag"]}Object.defineProperty(t,"__esModule",{value:!0}),t.getCountOfEachFileExtension=t.computeSplitShareMenuReferrer=t.toActionBarValue=t.isTrelloAvailable=t.isZoomAvailable=t.isSlackAvailable=void 0;t.isSlackAvailable=e=>i(e,"slack_dropbox");t.isZoomAvailable=e=>i(e,"zoom");t.isTrelloAvailable=e=>i(e,"trello");t.toActionBarValue=e=>({nodeType:"dropdown",actionType:3,menuItem:e});t.computeSplitShareMenuReferrer=(e,t,i,s)=>{let r=`${t}`;return i&&(r=`${i}`,s&&(r=`${i}_${s}`,s===n.ActionSurfaceLogValue.RIGHT_SIDEBAR&&1===e.length?r=`${i}_${s}_single_file`:s===n.ActionSurfaceLogValue.RIGHT_SIDEBAR&&e.length>1&&(r=`${i}_${s}_multi_file`))),r};t.getCountOfEachFileExtension=e=>{const t={};return e.forEach(e=>{const n=e.ext?e.ext.replace(".",""):"unknown";n in t?t[n]+=1:t[n]=1}),t}})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/background",["require","exports","tslib","react","metaserver/static/js/components/ui/css"],(function(e,t,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundWithCSS=void 0,i=n.__importDefault(i);const r=e=>{var{dimming:t,centeredContent:s}=e,r=n.__rest(e,["dimming","centeredContent"]);const a=["hs-int-dimmer-background",s?"hs-int-dimmer-background-centered":""],o={};return void 0!==t&&(o.backgroundColor="rgba(0, 0, 0, 0.5)"),i.default.createElement("div",{className:a.join(" "),style:o},r.children)};r.displayName="Background",t.BackgroundWithCSS=s.requireCssWithComponent(r,["/static/css/integrations/hellosign_deep_integration-vfleChvnf.css"])})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/container",["require","exports","tslib","react-dom","metaserver/static/js/css/css"],(function(e,t,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FullScreenContainer=void 0,i=n.__importStar(i),s=n.__importStar(s);t.FullScreenContainer=class{constructor(e=document.body,t=document,n=window){this.show=()=>{this.anchor.contains(this.container)||this.anchor.appendChild(this.container),this.container.hidden=!1},this.hide=()=>{this.container.hidden=!0},this.reset=()=>{this.anchor.removeChild(this.container),this.container=this.createContainer()},this.renderContent=e=>{i.render(e,this.container)},this.hideOverflow=()=>{this.windowObj.scrollTo(0,0),this.documentEl.documentElement.classList.add("hs-int-hellosign-overflow-hide")},this.removeHideOverflow=()=>{this.documentEl.documentElement.classList.remove("hs-int-hellosign-overflow-hide")},this.createContainer=()=>{const e=document.createElement("div");return e.className="hs-int-full-screen-container",e.hidden=!0,e},this.container=this.createContainer(),this.anchor=e,this.documentEl=t,this.windowObj=n,s.require_css("/static/css/integrations/hellosign_deep_integration-vfleChvnf.css")}}})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/hellosign",["require","exports","tslib","react","react-intl","metaserver/static/js/components/ui/css","metaserver/static/js/modules/core/i18n","dig-components/typography","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/channel","dig-components/progress_indicators","metaserver/static/js/modules/constants/page_load","metaserver/static/js/modules/core/langpack","metaserver/static/js/modules/core/exception"],(function(e,t,n,i,s,r,a,o,l,c,d,u,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HelloSignWithCSS=void 0,i=n.__importDefault(i),u=n.__importStar(u);class m extends i.default.Component{constructor(e){super(e),this.setIframeRef=e=>{this.iframeRef=e,this.iframeRef.onload=()=>{this.setState({appInitialized:!0})}},this.getMessageHandlers=()=>({[l.MessageType.APP_INITIALIZE]:this.handleAppInitializedMessage,[l.MessageType.DEEP_INTEGRATION_FINISHED]:this.props.onComplete,[l.MessageType.USER_CREATE_TEMPLATE]:this.props.onComplete,[l.MessageType.USER_SEND_REQUEST]:this.props.onComplete,[l.MessageType.USER_CANCEL_REQUEST]:this.props.onClose,[l.MessageType.DEEP_INTEGRATION_WAITING_FOR_RECIPIENTS]:this.handleWaitingForRecipientsMessage}),this.handleWaitingForRecipientsMessage=()=>{if(!this.props.recipientInfo){const e=new Error("No Recipient info provided but was requested by iframe");throw _.reportException({err:e,severity:_.SEVERITY.CRITICAL,tags:["hellosign_deepintegration","better-together"]}),e}this.channel.sendRecipients(this.props.recipientInfo)},this.handleUnknownMessage=(e,t)=>{console.log(e),console.log(t)},this.handleAppInitializedMessage=()=>{this.setState({appInitialized:!0}),this.props.linkHelloSign()},this.getEditorDomain=()=>{const{url:e}=this.props,t=e.getAuthority();return`${e.getScheme()}://${t}`},this.state={appInitialized:!1}}componentDidMount(){this.channel=l.Channel.new(this.getEditorDomain(),this.iframeRef.contentWindow,this.getMessageHandlers(),this.handleUnknownMessage),this.channel.startListening()}componentWillUnmount(){this.channel.stopListening()}render(){const{url:e}=this.props,t=i.default.createElement(s.IntlProvider,{defaultLocale:"en-US",locale:a.localeToBcp47LangTag(d.USER_LOCALE),messages:u},i.default.createElement("div",{className:"hs-int-hellosign-loading"},i.default.createElement(c.Spinner,{className:"hs-int-hellosign-spinner","aria-valuetext":"Loading large",size:"large"}),i.default.createElement("div",{className:"hs-int-hellosign-loading-copy"},i.default.createElement(o.Title,{size:"standard"},i.default.createElement(s.FormattedMessage,{id:"JZpfYr",defaultMessage:"Preparing document..."})))));return i.default.createElement("div",{className:"hs-int-hellosign-page"},!this.state.appInitialized&&t,i.default.createElement("iframe",{ref:this.setIframeRef,className:"hs-int-hellosign-page-iframe",src:e.toString()}))}}m.displayName="HelloSign",t.HelloSignWithCSS=r.requireCssWithComponent(m,["/static/css/integrations/hellosign_deep_integration-vfleChvnf.css"])})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/launcher",["require","exports","tslib","react","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/container","dig-components/icons/src","metaserver/static/js/modules/core/browser","metaserver/static/js/modules/core/exception","metaserver/static/js/modules/clean/analytics","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_with_recipients_info","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/A","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/B","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/V3","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/safari_unsupported_modal","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/background","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/hellosign","metaserver/static/js/api_v2/noauth_client","metaserver/static/js/modules/clean/active_user","metaserver/static/js/api_v2/default_user_client","metaserver/static/js/modules/clean/integrations/log_event","typescript/component_libraries/deep-integrations/src/instrumentation/constants","metaserver/static/js/modules/core/i18n","lodash","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/channel","metaserver/static/js/modules/core/uri","metaserver/static/js/modules/core/browser","metaserver/static/js/dropins_sdk_refactor/src/v2_entry","metaserver/static/js/profile_services/profile_services_link","metaserver/static/js/profile_services/profile_services_constants","metaserver/static/js/modules/clean/react/snackbar","metaserver/static/js/modules/core/browser_detection","metaserver/static/js/modules/clean/base64","metaserver/static/js/modules/constants/page_load","metaserver/static/js/modules/clean/stormcrow/stormcrow_exposure_logger","metaserver/static/js/modules/clean/stormcrow/gating_factory"],(function(e,t,n,i,s,r,a,o,l,c,d,u,_,m,p,f,h,g,E,v,S,b,y,I,T,N,w,O,C,M,A,R,P,k,D,x){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLauncher=t.HELLOSIGN_SUPPORTED_EXTENSIONS=void 0,i=n.__importDefault(i),I=n.__importStar(I),w=n.__importStar(w),M=n.__importDefault(M),R=n.__importStar(R),P=n.__importStar(P);t.HELLOSIGN_SUPPORTED_EXTENSIONS=[".doc",".docx",".pdf",".ppsx",".ppt",".pptx",".jpb",".jpeg",".png",".xls",".xlsx",".txt",".html",".gif"];const L=()=>{const e=E.getActiveUser();return e?new v.DefaultUserApiV2Client(e):new g.NoAuthApiV2Client};class U{constructor(e){this.optInRequired=!1,this.init=e=>{let t=e.apiV2Client||this.config.apiV2Client;void 0===e.apiV2Client&&e.user&&e.user!==this.config.user&&(t=new v.DefaultUserApiV2Client(e.user)),this.config.selfSign=!1,this.config=Object.assign(Object.assign(Object.assign({},this.config),e),{apiV2Client:t}),this.recipientInfo=void 0,this.refreshUserSettings(),this.refreshFeatureVariant()},this.launch=()=>{if(!this.readyToLaunch()||!this.sendForSignatureEnabled)throw new Error("launcher isn't ready to launch. Make sure you have correctly initialized it.");return this.config.logEvent({event_name:b.InstrEventType.SelectAction,feature_name:b.InstrFeatureType.HelloSignDeepIntegration,extra:Object.assign({action:b.InstrActionType.Start,entry_point:this.config.entryPoint},this.config.source?{source:this.config.source}:{})}),R.msie?(this.config.logEvent({event_name:b.InstrEventType.ActionTaken,feature_name:b.InstrFeatureType.HelloSignDeepIntegration,extra:Object.assign({action:b.InstrActionType.MSIEUnsupported,entry_point:this.config.entryPoint},this.config.source?{source:this.config.source}:{})}),this.showUnsupportedBrowserSnackbar(),Promise.resolve()):Promise.all([this.sendForSignatureEnabled,this.safariFixDisabled]).then(([e,t])=>{if(!e)return this.config.logEvent({event_name:b.InstrEventType.ActionTaken,feature_name:b.InstrFeatureType.HelloSignDeepIntegration,extra:Object.assign({action:b.InstrActionType.FeatureDisabled,entry_point:this.config.entryPoint},this.config.source?{source:this.config.source}:{})}),void this.showTeamDisabledSnackbar();if(this.config.container.show(),R.safari){if(void 0===t)throw"safariFixDisabled is not loaded.";const{variant:e}=t;if("ON"!==e)return this.config.logEvent({event_name:b.InstrEventType.ActionTaken,feature_name:b.InstrFeatureType.HelloSignDeepIntegration,extra:Object.assign({action:b.InstrActionType.SafariUnsupported,entry_point:this.config.entryPoint},this.config.source?{source:this.config.source}:{})}),void this.showSafariUnsupportedModal()}return this.tosAccepted.then(e=>n.__awaiter(this,void 0,void 0,(function*(){const t=yield this.userSawSignersModal,n=yield this.meetConditionToShowModalWithRecipientsInfo();if(e){if(t&&n)return this.showSignersModal();!R.safari&&!R.mozilla||this.config.hasOwnProperty("file")?yield this.showHelloSignPage():this.showTosChooseFilePage()}else yield this.showTosAcceptTermsPage()}))).catch(e=>{console.log(e),this.reset()})})},this.hideOverflow=()=>{this.config.hasOwnProperty("file")||this.config.container.hideOverflow()},this.removeHideOverflow=()=>{this.config.hasOwnProperty("file")||this.config.container.removeHideOverflow()},this.show=()=>{this.hideOverflow(),this.config.container.show()},this.hide=()=>{this.removeHideOverflow(),this.config.container.hide()},this.reset=()=>(this.config.container.reset(),this.removeHideOverflow(),this.recipientInfo=void 0,this.refreshUserSettings()),this.showTosChooseFilePage=()=>{this.hideOverflow(),this.config.container.renderContent(i.default.createElement(f.BackgroundWithCSS,{dimming:!0,centeredContent:!0},i.default.createElement(d.TermsOfServiceWithCSS,{onAcceptTos:this.acceptTosInUserSettings,onClose:this.hide,onStart:this.showHelloSignPage,onChooseFile:this.showHelloSignPage,chooseFileRequired:void 0===this.config.file,logEvent:this.config.logEvent,optInRequired:this.optInRequired,pageNum:2})))},this.meetConditionToShowModalWithRecipientsInfo=()=>n.__awaiter(this,void 0,void 0,(function*(){const e=yield this.getVariant(this.tosWithRecipientsInfoVariant);if(e){x.getGatingClientSingleton().logExposure({stormcrowVariantInfo:{feature:b.InstrFeatureType.TosWithRecipientsInfo,variant:e}})}const t=["share_menu","file_preview_workflows_tab","landing_page","file_hover_overflow_menu","post_sharing_snackbar"].includes(this.config.entryPoint);return"V1"===e&&this.config.file&&t&&!this.config.selfSign})),this.showTosAcceptTermsPage=()=>n.__awaiter(this,void 0,void 0,(function*(){const e=this.showHelloSignPage;this.hideOverflow();const t=this.config.file;if(yield this.meetConditionToShowModalWithRecipientsInfo()){const n=(null==t?void 0:t.fq_path)?String(null==t?void 0:t.fq_path.split("/").slice(-1)):"";this.config.container.renderContent(i.default.createElement(f.BackgroundWithCSS,{dimming:!0,centeredContent:!0},i.default.createElement(c.TermsOfServiceWithCSS,{onAcceptTos:this.acceptTosInUserSettings,onContinueWithoutTos:this.updateRecipientsInfo,onStart:e,onClose:this.hide,logEvent:this.config.logEvent,fileName:n,optInRequired:this.optInRequired,userHasSeenModal:!1})))}else{const t=yield this.getTosExperimentVariant();let n=d.TermsOfServiceWithCSS;"A"===t&&(n=u.TermsOfServiceWithCSS),"B"===t&&(n=_.TermsOfServiceWithCSS),"V3"===t&&(n=m.TermsOfServiceWithCSS),this.config.logEvent({event_name:b.InstrEventType.ManualRenderedFeature,feature_name:b.InstrFeatureType.HelloSignDeepIntegrationTOS,extra:{tos_variant:t||"NO VARIANT"}}),this.config.container.renderContent(i.default.createElement(f.BackgroundWithCSS,{dimming:!0,centeredContent:!0},i.default.createElement(n,{onAcceptTos:this.acceptTosInUserSettings,onClose:this.hide,onStart:e,onChooseFile:e,chooseFileRequired:void 0===this.config.file,logEvent:this.config.logEvent,optInRequired:this.optInRequired})))}})),this.showSignersModal=()=>{const e=this.config.file,t=(null==e?void 0:e.fq_path)?String(null==e?void 0:e.fq_path.split("/").slice(-1)):"";this.config.container.renderContent(i.default.createElement(f.BackgroundWithCSS,{dimming:!0,centeredContent:!0},i.default.createElement(c.TermsOfServiceWithCSS,{onAcceptTos:this.acceptTosInUserSettings,onContinueWithoutTos:this.updateRecipientsInfo,onStart:this.showHelloSignPage,onClose:this.hide,logEvent:this.config.logEvent,fileName:t,optInRequired:this.optInRequired,userHasSeenModal:!0})))},this.showSafariUnsupportedModal=()=>{const e=y.intl.formatMessage({id:"WC+meb",defaultMessage:"Couldn’t start signature request"}),t=y.intl.formatMessage({id:"vxnAb7",defaultMessage:"This feature isn’t available on Safari, but will be soon. Please try on a different browser."}),n=y.intl.formatMessage({id:"WAQpuN",defaultMessage:"Close"});this.hideOverflow(),this.config.container.renderContent(i.default.createElement(f.BackgroundWithCSS,{dimming:!0,centeredContent:!0},i.default.createElement(p.SafariUnsupportedModalWithCSS,{title:e,body:t,buttonName:n,learnMoreLink:"https://help.dropbox.com/installs-integrations/third-party/hellosign#sign",onClose:this.reset})))},this.showFileChooser=e=>new Promise((n,i)=>{const s={success:function(e){e.length&&n(e[0]),n(void 0)},cancel:function(){n(void 0)},linkType:"direct",multiselect:!1,extensions:t.HELLOSIGN_SUPPORTED_EXTENSIONS,folderselect:!1,initialNavigationPath:e};O.Dropbox.choose(s)}),this.showHelloSignPage=()=>n.__awaiter(this,void 0,void 0,(function*(){const{fileId:e,filePath:t}=yield this.getFileIdAndPath();if(!e)return;if(void 0===this.featureVariant)throw"feature variant never loaded";if(!(yield this.isDeepIntegrationEnabled()))throw"deep integration is not enabled";const{variant:n}=yield this.featureVariant;if("DEEP_INTEGRATION_WITH_EXTENSION"===n)yield this.doAppActionFlowRedirectInSameTab(e);else{if("DEEP_INTEGRATION"!==n)throw"unrecognized variant";{this.hideOverflow();let n=void 0;R.safari&&(n=yield this.getDBXAuthLink());const s=yield this.getHelloSignUrl(e,t,n,this.allowEmailOptedIn),r=yield this.getVariant(this.signaturesTabOnShareVariant);this.config.container.renderContent(i.default.createElement(f.BackgroundWithCSS,{centeredContent:!0},i.default.createElement(h.HelloSignWithCSS,{onClose:this.reset,onComplete:e=>this.handleSignatureRequestComplete(e,r),recipientInfo:this.getRecipientsPayload(),url:s,linkHelloSign:this.linkHelloSignIfNecessary})))}}})),this.getRecipientsPayload=()=>{let e;return this.config.selfSign?e={selfSign:this.config.selfSign,signers:[],recipientReassignment:!1,recipientOrder:!1}:this.recipientInfo&&(e=this.recipientInfo),e},this.dbxCollectedRecipientInfo=()=>!!this.config.selfSign||!!this.recipientInfo,this.showTeamDisabledSnackbar=()=>{this.showFailSnackbar(y.intl.formatMessage({id:"7NLYW8",defaultMessage:"The HelloSign integration has been disabled by your admin."}),y.intl.formatMessage({id:"u/p3Pl",defaultMessage:"Close"}))},this.showSendForSignatureSuccessSnackbar=e=>{switch(this.config.entryPoint){case"landing_page":return void w.redirect("/hellosign/home");case"share_page_signature_tab_default":case"share_page_signature_tab_empty_state":return void w.redirect("/share/signatures")}const t=this.config.user;if(!t)throw new Error("User is missing in the config.");const n={name:"track_status",icon:r.SignatureLine,onClick:function(t){const n=["rich_snackbar_click","track_signature_status",e].join("_");let i;if(l.ProEventsLogger.log(n,{action:"rich_snackbar_click",variant:e}),"V1"===e)i="/hellosign/home";else{if("V2"!==e)return void o.reportException({err:new Error(`Unexpected click for feature ${b.InstrFeatureType.SignaturesTabOnShare}`+`with variant ${e}`),severity:o.SEVERITY.NONCRITICAL,tags:["rich_snackbar","product-growth"]});i="/share/signatures"}i+="?_tk=post_signature_send_snackbar",a.redirect(i)},text:y.intl.formatMessage({id:"6B08Qw",defaultMessage:"Track status"})},s={clickHandlerArgs:{userId:t.id,filePath:""},actions:[n],actionBarAlignment:"left"},c=y.intl.formatMessage({id:"h7GFOm",defaultMessage:"File shared for signature"});A.Snackbar.show(i.default.createElement(A.Snackbar,{id:"track_status_snackbar",title:c,variant:"complete",richSnackbarProps:s,timeoutDelayMs:1e4,forceDig:!0}))},this.showUnsupportedBrowserSnackbar=()=>{this.showFailSnackbar(y.intl.formatMessage({id:"Cl3pwT",defaultMessage:"This feature isn’t available on Internet Explorer. Please try on a different browser."}),y.intl.formatMessage({id:"u/p3Pl",defaultMessage:"Close"}))},this.showFailSnackbar=(e,t)=>{A.Snackbar.show(i.default.createElement(A.Snackbar,{variant:"fail",timeoutDelayMs:1e4,title:e,closeButtonText:t}))},this.showRedirectSnackbar=()=>{A.Snackbar.show(i.default.createElement(A.Snackbar,{variant:"complete",timeoutDelayMs:1e4,title:y.intl.formatMessage({id:"rdpIKz",defaultMessage:"Redirecting you to the file preview."})}))},this.linkHelloSignIfNecessary=()=>n.__awaiter(this,void 0,void 0,(function*(){(yield this.isHelloSignProfileServiceLinked())?this.config.logEvent({event_name:b.InstrEventType.ActionTaken,feature_name:b.InstrFeatureType.HelloSignDeepIntegration,extra:Object.assign({action:b.InstrActionType.Start,entry_point:this.config.entryPoint},this.config.source?{source:this.config.source}:{})}):yield this.linkHelloSign()})),this.getDBXAuthLink=()=>n.__awaiter(this,void 0,void 0,(function*(){if(!this.config.user)throw"launcher isn't ready to launch. Make sure you have correctly initialized it.";if(yield this.isHelloSignProfileServiceLinked())return;const e=new C.ProfileServicesLinkingHandler,t=yield e.auth_service_with_user_promise(M.default.HELLOSIGN,this.config.user.id,null,"link_contacts",C.AuthWindowOption.HIDDEN_IFRAME,void 0,void 0,void 0,!0);return(null==t?void 0:t.dbx_auth)||void 0})),this.linkHelloSign=()=>n.__awaiter(this,void 0,void 0,(function*(){if(!this.config.user)throw"launcher isn't ready to launch. Make sure you have correctly initialized it.";const e=new C.ProfileServicesLinkingHandler;this.config.logEvent({event_name:b.InstrEventType.ServiceConnectionFlowStart,feature_name:b.InstrFeatureType.HelloSignDeepIntegration,extra:Object.assign({entry_point:this.config.entryPoint},this.config.source?{source:this.config.source}:{})}),yield e.auth_service_with_user_promise(M.default.HELLOSIGN,this.config.user.id,null,"link_contacts",C.AuthWindowOption.HIDDEN_IFRAME).then(({success:e})=>{e?console.log("HelloSign OAuth succeeded"):console.log("HelloSign OAuth failed")}).catch(e=>{console.log(e)}).finally(()=>{this.config.logEvent({event_name:b.InstrEventType.ServiceConnectionFlowEnd,feature_name:b.InstrFeatureType.HelloSignDeepIntegration,extra:Object.assign({entry_point:this.config.entryPoint},this.config.source?{source:this.config.source}:{})})})})),this.isHelloSignProfileServiceLinked=()=>this.config.apiV2Client.ns("profile_services").rpc("list_linked_services",void 0,{}).then(e=>e.linked_services.filter(e=>"hellosign"===e.service_type[".tag"]&&"is_connected"===e.connection_state[".tag"]).length>0),this.doAppActionFlowRedirectInSameTab=e=>n.__awaiter(this,void 0,void 0,(function*(){const t=yield this.config.apiV2Client.ns("app_actions").rpc("redirect",{action_id:"Nsvvd-FufEUQ9aE-snoTvw",file_id:e},{}),n=t&&t.redirect_url;if(!n)throw"Failed to open HelloSign";{const e=N.URI.parse(n);"https"===e.getScheme()&&"app.hellosign.com"===e.getAuthority()&&"/home/dropboxIncomingFile"===e.getPath()?w.unsafeRedirect(n):w.redirect(n)}})),this.getHelloSignUrl=(e,t,i,s)=>n.__awaiter(this,void 0,void 0,(function*(){var n;const r=yield this.helloSignEnvironment;if(!r)throw"launcher has not been initialized, please call init() first";const{user:a,templateFlow:o,templateRoute:l}=this.config;if(!a)throw"launcher has not been initialized with a valid user, please set a user in init() first";i&&(i=P.encode(i));let c=new N.URI;return c.setScheme("https"),c.setAuthority(r.domain),c.setPath("/dropbox/embedded"),c.updateQuery({client_id:r.client_id,user:a.account_id,role:a.role,file_id:e,file_path:t,dbx_auth:i,email_optin:"boolean"==typeof s?String(s):void 0,utm_source:null!==(n=this.config.utmSource)&&void 0!==n?n:"dropbox-deep-integration",dbx_locale:k.USER_LOCALE,di_hs_home:"1",rpbhp:String(this.dbxCollectedRecipientInfo())}),this.isOnDevbox()&&c.updateQuery({parent_url:w.get_origin()}),o&&(c.updateQuery({template:"1"}),l&&(l.startsWith("http")?(c=N.URI.parse(l),c.updateQuery({client_id:r.client_id,parent_url:window.location.href,js_version:"2.0"})):c.setPath(l))),c})),this.isOnDevbox=()=>/^https:\/\/.*\.dev\.corp\.dropbox\.com$/.test(w.get_origin()),this.getFileIdAndPath=()=>n.__awaiter(this,void 0,void 0,(function*(){let e=this.config.file;if(!e){!R.safari&&!R.mozilla&&this.hide();const t=yield this.showFileChooser(this.config.fileChooserInitialNavigationPath);if(!t)return{};!R.safari&&!R.mozilla&&this.show(),e={file_id:t.id}}return e?e.fq_path?{fileId:e.file_id,filePath:e.fq_path.split("/").slice(0,-1).join("/")}:{fileId:e.file_id}:{}})),this.readyToLaunch=()=>!("unknown"===this.config.entryPoint||void 0===this.tosAccepted||!this.config.user),this.refreshUserSettings=()=>{const e=this.config.apiV2Client.ns("integrations").rpc("get_user_settings",{},{});return e.then(e=>{var t;this.optInRequired=!!(null===(t=e.hellosign_settings)||void 0===t?void 0:t.opt_in_required)}),this.tosAccepted=e.then(e=>{var t;return!!(null===(t=e.hellosign_settings)||void 0===t?void 0:t.tos_accepted)}),this.helloSignEnvironment=e.then(e=>e.hellosign_environment),this.sendForSignatureEnabled=e.then(e=>{var t;return!!(null===(t=e.hellosign_settings)||void 0===t?void 0:t.send_for_signature_enabled)}),this.userSawSignersModal=e.then(e=>{var t;return!!(null===(t=e.hellosign_settings)||void 0===t?void 0:t.user_saw_signers_modal)}),Promise.all([this.tosAccepted,this.helloSignEnvironment,this.sendForSignatureEnabled,this.userSawSignersModal])},this.refreshFeatureVariant=()=>{const e=this.config.apiV2Client.ns("integrations").rpc("are_features_available",{features:[{feature:b.InstrFeatureType.HelloSignDeepIntegration,entry_point:this.config.entryPoint},{feature:b.InstrFeatureType.HelloSignDeepIntegrationSafariFixDisabled},{feature:b.InstrFeatureType.HelloSignTosExperiment},{feature:b.InstrFeatureType.SignaturesTabOnShare},{feature:b.InstrFeatureType.TosWithRecipientsInfo}]},{});return this.featureVariant=e.then(e=>e.features[0]),this.safariFixDisabled=e.then(e=>e.features[1]),this.helloSignTosVariant=e.then(e=>e.features[2]),this.signaturesTabOnShareVariant=e.then(e=>e.features[3]),this.tosWithRecipientsInfoVariant=e.then(e=>e.features[4]),Promise.all([this.featureVariant,this.safariFixDisabled,this.helloSignTosVariant,this.signaturesTabOnShareVariant,this.tosWithRecipientsInfoVariant])},this.acceptTosInUserSettings=(e,t)=>{t?this.config.apiV2Client.ns("integrations").rpc("set_user_settings",{hellosign_settings:{tos_accepted:!0,user_saw_signers_modal:!0}},{}).then(()=>{this.tosAccepted=Promise.resolve(!0),this.userSawSignersModal=Promise.resolve(!0)}):this.config.apiV2Client.ns("integrations").rpc("set_user_settings",{hellosign_settings:{tos_accepted:!0}},{}).then(()=>{this.tosAccepted=Promise.resolve(!0)}),this.allowEmailOptedIn=e,this.updateRecipientsInfo(t)},this.updateRecipientsInfo=e=>{const t=null==e?void 0:e.filter(e=>!!e.name);if(t&&t.length>0){const e={selfSign:!1,signers:t,recipientReassignment:!1,recipientOrder:!1};this.recipientInfo=e}else t&&0===t.length&&(this.config.selfSign=!0)},this.handleSignatureRequestComplete=(e,t)=>{if(this.logSignaturesTabOnShareExposure(b.InstrFeatureType.SignaturesTabOnShare,t),e&&e.payload){this.config.logEvent({event_name:b.InstrEventType.UpdateFile,feature_name:b.InstrFeatureType.HelloSignDeepIntegration,extra:Object.assign({entry_point:this.config.entryPoint},this.config.source?{source:this.config.source}:{})});const n=e.payload.filePath;if(this.isSignaturesTabOnShareExpOn(t)&&e.type===T.MessageType.DEEP_INTEGRATION_FINISHED)this.showSendForSignatureSuccessSnackbar(t);else if(this.showRedirectSnackbar(),n&&n.includes("/hellosign/home"))w.redirect(N.URI.parse(n).toString());else if(e.type===T.MessageType.USER_CREATE_TEMPLATE){const t=e.payload.template_guid,n=N.URI.parse("/hellosign/templates");t&&n.updateQuery({guid:t,"use-template-modal":"1"}),w.redirect(n.toString())}else if(e.type===T.MessageType.USER_SEND_REQUEST){const t=N.URI.parse("/hellosign/home"),n=e.payload.signatureRequestId;n&&t.updateQuery({request:n}),w.redirect(t.toString())}else w.redirect(new N.URI({path:`/preview${n}`}).toString())}this.reset()},this.isDeepIntegrationEnabled=()=>n.__awaiter(this,void 0,void 0,(function*(){return!1!==(yield this.getVariant(this.featureVariant))})),this.getTosExperimentVariant=()=>this.getVariant(this.helloSignTosVariant),this.getVariant=e=>n.__awaiter(this,void 0,void 0,(function*(){if(!e)return!1;const t=yield e;if(void 0===t)return!1;const{available:n,variant:i}=t;return"available"===n[".tag"]&&void 0!==i&&"OFF"!==i&&i})),this.config=e,O.Dropbox.init({appKey:"dropbox",productKey:"hellosign"})}isSignaturesTabOnShareExpOn(e){return"V1"===e||"V2"===e}logSignaturesTabOnShareExposure(e,t){if(this.isSignaturesTabOnShareExpOn(t)){(new D.StormcrowExposureLogger).logExposure(e,t);const n={stormcrowVariantInfo:{feature:e,variant:t}};x.getGatingClientSingleton().logExposure(n)}}}t.getLauncher=I.memoize(()=>{const e={entryPoint:"unknown",container:new s.FullScreenContainer,apiV2Client:L(),logEvent:S.createIntegrationsActionsLogger().logEvent,user:E.getActiveUser()};return new U(e)})})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos",["require","exports","tslib","react","metaserver/static/js/components/ui/css","dig-components/controls","spectrum/icon_form/index","typescript/component_libraries/deep-integrations/src/text/text","dig-components/buttons","typescript/component_libraries/deep-integrations/src/instrumentation/function_wrapper","typescript/component_libraries/deep-integrations/src/instrumentation/constants","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/assets","metaserver/static/js/modules/core/i18n","react-intl","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/localized_graphic","metaserver/static/js/modules/core/browser_detection"],(function(e,t,n,i,s,r,a,o,l,c,d,u,_,m,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermsOfServiceWithCSS=t.PageName=void 0,i=n.__importDefault(i),f=n.__importStar(f);const h={agree:_.intl.formatMessage({id:"k2WBHu",defaultMessage:"Agree"}),cancel:_.intl.formatMessage({id:"fCZlT5",defaultMessage:"Cancel"}),chooseFile:_.intl.formatMessage({id:"SvnKud",defaultMessage:"Choose a File"})};var g;(function(e){e.AcceptPage="accept_page",e.ChooseFilePage="choose_file_page"})(g=t.PageName||(t.PageName={}));const E=({primaryButtonText:e,onClickPrimaryButton:t,primaryButtonDisabled:n,secondaryButtonText:s,onClickSecondaryButton:r,leftColumnContent:o,rightColumnContent:c,onClose:d,blueSide:m})=>{const p=_.intl.formatMessage({id:"9yYWu+",defaultMessage:"Close"}),f=s&&r?i.default.createElement(l.Button,{onClick:r,title:s,variant:"opacity"},s):null,h=i.default.createElement("div",{className:"hs-int-tos-container-right-col-action-buttons"},f,i.default.createElement("div",{style:{width:10}}),i.default.createElement(l.Button,{onClick:t,title:e,variant:"primary",disabled:n,className:"hs-int-tos-accept-button"},e)),[g,E]="left"===m?["hs-int-tos-container-left-col-blue","hs-int-tos-container-right-col"]:["hs-int-tos-container-left-col","hs-int-tos-container-right-col-blue"];return i.default.createElement("div",{className:"hs-int-tos-container"},i.default.createElement("div",{className:g},i.default.createElement("div",{className:"hs-int-tos-container-left-col-logo"},i.default.createElement(u.DropboxLogo,{color:"left"===m?"white":"sapphire"})),i.default.createElement("div",{className:"hs-int-tos-container-left-col-content"},o),"left"===m?null:h),i.default.createElement("div",{className:E},i.default.createElement("div",{className:"hs-int-tos-container-right-col-close-wrapper"},i.default.createElement("div",{className:"hs-int-tos-container-right-col-close"},i.default.createElement(l.Button,{onClick:d,title:p,variant:"transparent",hasNoUnderline:!0},i.default.createElement(a.IconForm,{name:"cancel"})))),i.default.createElement("div",{className:"hs-int-tos-container-right-col-content"},c),"left"===m?h:null))};E.displayName="TermsOfServiceContainer";t.TermsOfServiceWithCSS=s.requireCssWithComponent(({onAcceptTos:e,onClose:t,onStart:n,onChooseFile:s,chooseFileRequired:a,logEvent:l,optInRequired:u,pageNum:v})=>{const[S,b]=i.default.useState(v||1),[y,I]=i.default.useState(!1),[T,N]=i.default.useState(!1),w=c.functionWrapperProvider(l,d.InstrFeatureType.HelloSignDeepIntegrationTOS),O=({title:e,subTitle:t,textColor:n})=>i.default.createElement("div",null,i.default.createElement("div",{className:"hs-int-tos-container-left-col-title"},i.default.createElement(o.Text,{fontWeight:"medium",color:n,size:"xxxlarge"},e)),i.default.createElement("div",{className:"hs-int-tos-container-left-col-subtitle"},i.default.createElement(o.Text,{color:n,size:"large"},t))),C=()=>{const e=g.ChooseFilePage,n=c.onClickWrapper(w,d.InstrActionType.ChooseFile,s,{extra:{tos_page_name:e}}),[r,a]=[h.chooseFile,n],l=i.default.createElement(i.default.Fragment,null,i.default.createElement(O,{title:_.intl.formatMessage({id:"AzuKe2",defaultMessage:"Simple, secure eSignatures"}),subTitle:_.intl.formatMessage({id:"bBvwr6",defaultMessage:"Send, sign and store your most important documents - all in Dropbox"}),textColor:"text"}),i.default.createElement("ol",{className:"hs-int-tos-info-page-right-col-intro"},[_.intl.formatMessage({id:"hRdISa",defaultMessage:"<bold>Simply add signers</bold> by email address to send out for signature requests."},{bold:(...e)=>i.default.createElement(o.Text,{color:"text",size:"small",fontWeight:"medium"},e)}),_.intl.formatMessage({id:"LTJsAc",defaultMessage:"<bold>Easily prep your document</bold> by placing fields to specify the sections that needs to be signed, dated and more."},{bold:(...e)=>i.default.createElement(o.Text,{color:"text",size:"small",fontWeight:"medium"},e)}),_.intl.formatMessage({id:"swViYV",defaultMessage:"<bold>Choose your Dropbox folder</bold> for your signed copy to be automatically saved and safely stored."},{bold:(...e)=>i.default.createElement(o.Text,{color:"text",size:"small",fontWeight:"medium"},e)})].map((e,t)=>i.default.createElement(o.Text,{color:"text",size:"small",key:t},i.default.createElement("li",null,0!==t?i.default.createElement("div",{style:{height:16}}):null,e))))),u=_.intl.formatMessage({id:"yluH71",defaultMessage:"HelloSign Deep Integration"}),m=i.default.createElement("div",{className:"hs-int-tos-info-page-right-col"},i.default.createElement("img",{src:p.localizedAsset(),alt:u,className:"hs-int-tos-info-page-right-col-media"}));return i.default.createElement(E,{primaryButtonText:r,onClickPrimaryButton:a,leftColumnContent:l,rightColumnContent:m,onClose:t,blueSide:"right"})};if(1===S)return(()=>{const s=g.AcceptPage,l=c.onClickWrapper(w,d.InstrActionType.AcceptTOS,()=>{a?b(e=>e+1):n(),e(!u||T)},{extra:{tos_page_name:s}}),p=c.onClickWrapper(w,d.InstrActionType.CancelFlow,t,{extra:{tos_page_name:s}}),f=c.onClickWrapper(w,d.InstrActionType.ViewTerms,()=>{},{extra:{tos_page_name:s}}),v=c.onClickWrapper(w,d.InstrActionType.ViewPrivacyPolicy,()=>{},{extra:{tos_page_name:s}}),S=i.default.createElement(O,{title:_.intl.formatMessage({id:"ljvDJ8",defaultMessage:"Get documents signed with HelloSign— a Dropbox company"}),subTitle:_.intl.formatMessage({id:"+0ofKf",defaultMessage:"HelloSign lets you request signatures or sign documents right from Dropbox."}),textColor:"text-inverted"}),C=m.defineMessage({id:"VYh0UK",defaultMessage:"I agree to the HelloSign <term>Terms</term> and <policy>Privacy Policy</policy>."}),M=_.intl.formatMessage(C,{term:e=>i.default.createElement("a",{href:"https://www.hellosign.com/terms",target:"_blank",rel:"noreferrer noopener",onClick:f},e),policy:e=>i.default.createElement("a",{href:"https://www.hellosign.com/privacy",target:"_blank",rel:"noreferrer noopener",onClick:v},e)}),A=_.intl.formatMessage(C,{term:e=>e,policy:e=>e}),R=_.intl.formatMessage({id:"gMMLpm",defaultMessage:"Send me HelloSign updates."}),P=i.default.createElement("div",{className:"hs-int-tos-accept-page-right-col-content"},i.default.createElement(o.Text,{color:"text",size:"large"},_.intl.formatMessage({id:"llnumb",defaultMessage:"We’ll create a HelloSign account for you automatically."}),i.default.createElement("br",null),i.default.createElement("br",null),_.intl.formatMessage({id:"vjbiAf",defaultMessage:"If you already have a HelloSign account, we’ll link it to your Dropbox account if the email address for both are the same."})),i.default.createElement("div",{className:"hs-int-tos-accept-page-right-col-tos-content"},i.default.createElement(o.Text,{color:"text",size:"large"},_.intl.formatMessage({id:"HDZWlz",defaultMessage:"Click Agree to:"})),i.default.createElement("ul",{className:"hs-int-tos-accept-page-right-col-tos-content-list"},i.default.createElement("li",{className:"hs-int-tos-accept-page-right-col-tos-content-list-item"},i.default.createElement(o.Text,{color:"text",size:"large"},_.intl.formatMessage({id:"faDcx4",defaultMessage:"Give HelloSign full access to your Dropbox account."}))),i.default.createElement("li",{className:"hs-int-tos-accept-page-right-col-tos-content-list-item"},i.default.createElement(o.Text,{color:"text",size:"large"},_.intl.formatMessage({id:"MFUXPs",defaultMessage:"Give Dropbox full access to your HelloSign account."}))))),i.default.createElement("div",{className:"hs-int-tos-accept-page-right-col-checkbox"},i.default.createElement(r.Checkbox,{onChange:()=>I(e=>!e),checked:y,"aria-label":A,className:"hs-int-tos-accept-page-right-col-checkbox-square"}),i.default.createElement("div",{style:{width:10}}),i.default.createElement(o.Text,{color:"text",size:"medium"},M)),u?i.default.createElement("div",{className:"hs-int-tos-accept-page-right-col-email-promotion-checkbox"},i.default.createElement(r.Checkbox,{onChange:()=>N(e=>!e),checked:T,"aria-label":R,className:"hs-int-tos-accept-page-right-col-email-promotion-checkbox-square"}),i.default.createElement("div",{style:{width:10}}),i.default.createElement(o.Text,{color:"text",size:"medium"},R)):null);return i.default.createElement(E,{primaryButtonText:h.agree,onClickPrimaryButton:l,primaryButtonDisabled:!y,secondaryButtonText:h.cancel,onClickSecondaryButton:p,leftColumnContent:S,rightColumnContent:P,onClose:p,blueSide:"left"})})();if(2===S)return a?f.safari||f.mozilla?C():(s(),null):C();throw`wrong page number in TOS page: ${S}`},["/static/css/integrations/hellosign_deep_integration-vfleChvnf.css","/static/js/typescript/component_libraries/deep-integrations/src/index.web-vflVod6hW.css"])})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_with_recipients_info",["require","exports","tslib","react","metaserver/static/js/components/ui/css","dig-components/controls","dig-components/buttons","typescript/component_libraries/deep-integrations/src/instrumentation/function_wrapper","typescript/component_libraries/deep-integrations/src/instrumentation/constants","metaserver/static/js/modules/core/i18n","react-intl","metaserver/static/js/spectrum-content-icon-compatibility/index","metaserver/static/js/modules/clean/analytics","dig-components/icons","dig-components/icons/src","dig-components/buttons","dig-components/table","dig-components/text_fields","dig-components/typography"],(function(e,t,n,i,s,r,a,o,l,c,d,u,_,m,p,f,h,g,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermsOfServiceWithCSS=void 0,i=n.__importDefault(i);const v={nextButton:c.intl.formatMessage({id:"6752Ag",defaultMessage:"Next"}),addSignerButton:c.intl.formatMessage({id:"oXwe58",defaultMessage:"Add signer"}),selfSignButton:c.intl.formatMessage({id:"/dgTxh",defaultMessage:"I’m the only signer"}),subTitle:c.intl.formatMessage({id:"H+e+Nv",defaultMessage:"Who needs to sign"}),emailOptedInStatement:c.intl.formatMessage({id:"gMMLpm",defaultMessage:"Send me HelloSign updates."}),emailErrorMessage:c.intl.formatMessage({id:"sUFO8F",defaultMessage:"A valid email is required"}),nameErrorMessage:c.intl.formatMessage({id:"QKJ1Bh",defaultMessage:"A valid name is required"}),nameHeader:c.intl.formatMessage({id:"uHIr29",defaultMessage:"Name"}),emailHeader:c.intl.formatMessage({id:"POr9LO",defaultMessage:"Email"})};var S;(function(e){e.EMAIL="email",e.NAME="name"})(S||(S={}));t.TermsOfServiceWithCSS=s.requireCssWithComponent(({onAcceptTos:e,onStart:t,logEvent:n,fileName:s,onClose:b,optInRequired:y,userHasSeenModal:I,onContinueWithoutTos:T})=>{const[N,w]=i.default.useState(!1),O=i.default.useRef(1),[C,M]=i.default.useState([{email:"",name:""}]),[A,R]=i.default.useState(!1),[P,k]=i.default.useState(!1),D=i.default.useRef(new Set),x=i.default.useRef(new Set),[L,U]=i.default.useState(new Set),[j,F]=i.default.useState(new Set),z=o.functionWrapperProvider(n,l.InstrFeatureType.TosWithRecipientsInfo);i.default.useEffect(()=>{_.ProEventsLogger.log("bt_tos_modal_with_recipients_info_shown")},[]);const H=()=>{G(!1)&&(t(),I?T(C):e(!y||P,C))},V=i.default.createRef(),B=()=>k(e=>!e),W=e=>{const t=e.trim();if(t){const e=t.split("@");if(2!==e.length)return!1;{const[t,n]=e,i=/^[\x00-\x7f]*$/,s=/^[\w!#$%&'*+\-\/=?^`{|}~.]+$/,r=new RegExp("^([a-z0-9][a-z0-9\\-]*\\.)+([a-z]+|xn--[a-z0-9\\-]+)$","i");return!!s.test(t)&&!(!n||i.test(n)&&!r.test(n))}}return!1},G=e=>{if(A)return!0;let t=!0,n=!0;for(const i in C){const s=C[i].email,r=C[i].name;s&&(t=!1,W(s)?D.current.has(i)&&D.current.delete(i):(n=!1,e||(D.current=D.current.add(i))),r||(n=!1,e||(x.current=x.current.add(i)))),r&&(t=!1,r.trim()?x.current.has(i)&&x.current.delete(i):(n=!1,e||(x.current=x.current.add(i))),s||(e||(D.current=D.current.add(i)),n=!1)),r||s||(D.current.has(i)&&D.current.delete(i),x.current.has(i)&&x.current.delete(i))}t&&(x.current=x.current.add("0"),D.current=D.current.add("0"));const i=new Set(D.current);U(i);const s=new Set(x.current);return F(s),!t&&n},q=o.onClickWrapper(z,l.InstrActionType.AcceptTOS,H),K=o.onClickWrapper(z,l.InstrActionType.ContinueWithSignersModal,H),Y=o.onClickWrapper(z,l.InstrActionType.CancelFlow,b),Q=o.onClickWrapper(z,l.InstrActionType.ViewTerms,()=>{}),X=o.onClickWrapper(z,l.InstrActionType.ViewPrivacyPolicy,()=>{}),$=o.onClickWrapper(z,l.InstrActionType.AddSigner,()=>{if(19===O.current)return;O.current+=1;const e=C.slice();e.push({email:"",name:""}),M(e)}),Z=o.onClickWrapper(z,l.InstrActionType.ToggleSelfSign,()=>{O.current=1,R(e=>!e);M([{email:"",name:""}]),D.current=new Set,x.current=new Set,U(D.current),F(x.current)},{extra:{is_self_sign:A?"OFF":"ON"}}),J=d.defineMessage({id:"zY5KbQ",defaultMessage:"I agree to the HelloSign <term>Terms</term> and <policy>Privacy Policy</policy>. We’ll create a HelloSign account with your Dropbox email address if you don’t have one, or link your existing one if you do. Your accounts will be linked across platforms."}),ee=c.intl.formatMessage(J,{term:e=>i.default.createElement("a",{href:"https://www.hellosign.com/terms",target:"_blank",rel:"noreferrer noopener",onClick:Q},e),policy:e=>i.default.createElement("a",{href:"https://www.hellosign.com/privacy",target:"_blank",rel:"noreferrer noopener",onClick:X},e)}),te=()=>{w(e=>!e),_.ProEventsLogger.log("toggle_tos_checkbox")},ne=c.intl.formatMessage(J,{term:e=>e,policy:e=>e}),ie=i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"hs-int-tos-redesign-file-icon-and-file-name"},i.default.createElement(i.default.Fragment,null,i.default.createElement(u.FileIcon,{path:s,"aria-label":s,role:"img",variant:"small",className:"hs-int-tos-redesign-file-icon"}),i.default.createElement(E.Text,{variant:"label",size:"standard",isBold:!0,className:"hs-int-tos-redesign-file-name"},s))),i.default.createElement(f.IconButton,{"aria-label":"close",className:"hs-int-tos-redesign-header-close-button",onClick:()=>{Y(),w(!1),O.current=1;M([{email:"",name:""}]),R(!1),k(!1),D.current=new Set,x.current=new Set,U(D.current),F(x.current)},variant:"transparent",size:"small"},i.default.createElement(m.UIIcon,{src:p.CloseLine}))),se=e=>i.default.createElement("div",{className:"hs-int-tos-redesign-error-message"},i.default.createElement(E.Text,{color:"error"},i.default.createElement(m.UIIcon,{src:p.WarningLine,size:"standard"})),i.default.createElement("div",{style:{width:5}}),i.default.createElement(E.Text,{color:"error"},e)),re=i.default.useCallback((e,t)=>!A&&(t===S.EMAIL?L.has(String(C.indexOf(e))):t===S.NAME&&j.has(String(C.indexOf(e)))),[L,j,C]),ae=i.default.createElement("div",{className:"hs-int-tos-redesign-main-content-container"},i.default.createElement("div",{className:"hs-int-tos-redesign-recipients-info-container"},i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"hs-int-tos-redesign-recipients-info-header-container"},i.default.createElement("div",{className:"hs-int-tos-redesign-recipients-info-header"},i.default.createElement(E.Title,{size:"large",className:"hs-int-tos-redesign-recipients-info-header"},c.intl.formatMessage({id:"PPYUPu",defaultMessage:"Who need to sign?"})),i.default.createElement(E.Text,{color:"faint"},c.intl.formatMessage({id:"CIydf/",defaultMessage:"Step 1 of 3"}))),i.default.createElement("div",{className:"hs-int-tos-redesign-recipients-info-head-button"},i.default.createElement(a.Button,{variant:"transparent",onClick:Z,withIconLeft:A?i.default.createElement(m.UIIcon,{src:p.CheckmarkLine,role:"presentation","data-uxa-log":"bt_tos_with_recipients_info_toggle_self_sign"}):null},v.selfSignButton))),i.default.createElement(h.Table,{className:"hs-int-tos-redesign-recipients-table",hasDividers:!1,spacing:"standard",verticalAlign:"top",style:{margin:-15}},i.default.createElement(h.Table.Body,null,C.map(e=>i.default.createElement(h.Table.Row,{key:C.indexOf(e)},i.default.createElement(h.Table.Cell,{width:"50%"},i.default.createElement(E.Text,{isBold:!0,color:A?"disabled":"standard"},v.nameHeader),i.default.createElement("div",{style:{height:10}}),i.default.createElement(g.TextInput,{wrapperProps:re(e,S.NAME)?{className:"hs-int-tos-redesign-recipients-table-input--red"}:void 0,"aria-label":"recipient-name-input",onChange:t=>((e,t)=>{const n=C.slice();n[t].name=e,M(n),G(!0)})(t.target.value,C.indexOf(e)),value:e.name,placeholder:v.nameHeader,ref:V,disabled:A}),re(e,S.NAME)?se(v.nameErrorMessage):null),i.default.createElement(h.Table.Cell,{width:"50%"},i.default.createElement(E.Text,{isBold:!0,color:A?"disabled":"standard"},v.emailHeader),i.default.createElement("div",{style:{height:10}}),i.default.createElement(g.TextInput,{wrapperProps:re(e,S.EMAIL)?{className:"hs-int-tos-redesign-recipients-table-input--red"}:void 0,"aria-label":"recipient-email-input",onChange:t=>((e,t)=>{const n=C.slice();n[t].email=e,M(n),G(!0)})(t.target.value,C.indexOf(e)),placeholder:v.emailHeader,value:e.email,ref:V,disabled:A}),re(e,S.EMAIL)?se(v.emailErrorMessage):null),i.default.createElement(h.Table.Cell,{width:"fill-container",className:re(e,S.NAME)||re(e,S.EMAIL)?"hs-int-tos-redesign-recipients-table-delete-button--middle":"hs-int-tos-redesign-recipients-table-delete-button--bottom"},i.default.createElement(f.IconButton,{"aria-label":"delete",className:"hs-int-tos-redesign-recipients-info-delete-button",onClick:()=>(e=>{if(O.current>1){O.current-=1;const t=C.slice();t.splice(e,1),M(t),D.current.has(String(e))&&D.current.delete(String(e));const n=new Set(D.current);for(const t of n)if(Number(t)>e){const e=Number(t)-1;D.current.delete(t),D.current.add(String(e))}U(D.current),x.current.has(String(e))&&x.current.delete(String(e));const i=new Set(x.current);for(const t of i)if(Number(t)>e){x.current.delete(t);const e=Number(t)-1;x.current.add(String(e))}F(x.current)}})(C.indexOf(e)),variant:"transparent",disabled:0===C.indexOf(e)&&1===C.length},i.default.createElement(m.UIIcon,{src:p.DeleteLine,className:0===C.indexOf(e)&&1===C.length?"":"hs-int-tos-redesign-recipients-info-delete-button-icon"})))))))),i.default.createElement("div",{className:"hs-int-tos-redesign-recipients-info-button-section"},i.default.createElement(a.Button,{variant:"outline",size:"large",onClick:$,disabled:A||19===O.current,"data-uxa-log":"bt_tos_with_recipients_info_add_signer"},v.addSignerButton))),i.default.createElement("div",{className:"hs-int-tos-redesign-checkbox"},I?null:i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"hs-int-tos-redesign-terms-checkbox"},i.default.createElement(r.Checkbox,{onChange:te,checked:N,"aria-label":ne,className:"hs-int-tos-redesign-checkbox-square"}),i.default.createElement(E.Text,{size:"small"},ee)),y&&!I?i.default.createElement("div",{className:"hs-int-tos-redesign-email-promotion-checkbox"},i.default.createElement(r.Checkbox,{onChange:B,checked:P,"aria-label":v.emailOptedInStatement,className:"hs-int-tos-redesign-checkbox-square"}),i.default.createElement(E.Text,{size:"small"},v.emailOptedInStatement)):null)));return i.default.createElement("div",{className:"hs-int-tos-redesign-container"},i.default.createElement("div",{className:"hs-int-tos-redesign-header-container"},ie),i.default.createElement("div",{className:"hs-int-tos-redesign-scrollable-content-container"},ae),i.default.createElement("div",{className:"hs-int-tos-redesign-main-content-footer-container"},i.default.createElement("div",{className:"hs-int-tos-redesign-action-button"},i.default.createElement(a.Button,{onClick:I?K:q,title:v.nextButton,variant:"primary",disabled:!N&&!I,className:"hs-int-tos-accept-button","data-uxa-log":"bt_tos_with_recipients_info_next_button"},v.nextButton))))},["/static/css/integrations/hellosign_deep_integration-vfleChvnf.css","/static/js/typescript/component_libraries/deep-integrations/src/index.web-vflVod6hW.css"])})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/assets",["require","exports","tslib","react"],(function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DropboxLogo=void 0,i=n.__importDefault(i);t.DropboxLogo=({color:e})=>{const t="sapphire"===e?"#0d2484":"white";return i.default.createElement("svg",{width:"48",height:"40",viewBox:"0 0 48 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7061 14.9679L0 7.51017L11.7888 0L23.5682 7.5045L35.3483 0L47.1366 7.51017L35.4305 14.9677L47.1368 22.4256L35.3481 29.9359L23.5683 22.4313L11.7886 29.9359L0 22.4256L11.7061 14.9679ZM23.5682 7.51584L35.2656 14.9679L23.5683 22.4199L11.871 14.9677L23.5682 7.51584ZM23.6531 39.9351L11.8644 32.4247L23.6531 24.9153L35.4419 32.4247L23.6531 39.9351Z",fill:t}))},t.DropboxLogo.displayName="DropboxLogo"})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/channel",["require","exports"],(function(e,t){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.Channel=t.SentMessageType=t.MessageType=void 0,(function(e){e.APP_CONFIGURE="hellosign:configure",e.APP_ERROR="hellosign:error",e.APP_INITIALIZE="hellosign:initialize",e.DEEP_INTEGRATION_FINISHED="hellosign:deepIntegrationFinished",e.USER_CANCEL_REQUEST="hellosign:userCancelRequest",e.USER_CREATE_TEMPLATE="hellosign:userCreateTemplate",e.USER_DECLINE_REQUEST="hellosign:userDeclineRequest",e.USER_FINISH_REQUEST="hellosign:userFinishRequest",e.USER_PREP_SEND_EDITOR_CONTINUE="hellosign:userPrepSendEditorContinue",e.USER_REASSIGN_REQUEST="hellosign:userReassignRequest",e.USER_SEND_REQUEST="hellosign:userSendRequest",e.USER_SIGN_REQUEST="hellosign:userSignRequest",e.USER_PREP_SEND_EDITOR_DELETE_DOC="hellosign:userPrepSendEditorDeleteDoc",e.VERIFY_DOMAIN_REQUEST="hellosign:verifyDomainRequest",e.DEEP_INTEGRATION_WAITING_FOR_RECIPIENTS="hellosign:deepIntegrationWaitingForRecipients"})(n=t.MessageType||(t.MessageType={})),(function(e){e.DEEP_INTEGRATION_SEND_RECIPIENTS="dropbox:deepIntegrationSendRecipients"})(i=t.SentMessageType||(t.SentMessageType={}));const s=e=>"object"==typeof e&&"string"==typeof e.type&&(void 0===e.payload||"object"==typeof e.payload),r=e=>!!s(e)&&!(e.type!==n.VERIFY_DOMAIN_REQUEST||!e.payload||"string"!=typeof e.payload.token),a={[n.APP_CONFIGURE]:e=>!!s(e)&&e.type===n.APP_CONFIGURE,[n.APP_ERROR]:e=>!!s(e)&&e.type===n.APP_ERROR,[n.APP_INITIALIZE]:e=>!!s(e)&&e.type===n.APP_INITIALIZE,[n.DEEP_INTEGRATION_FINISHED]:e=>!!s(e)&&!(e.type!==n.DEEP_INTEGRATION_FINISHED||!e.payload||"string"!=typeof e.payload.filePath),[n.USER_CANCEL_REQUEST]:e=>!!s(e)&&e.type===n.USER_CANCEL_REQUEST,[n.USER_CREATE_TEMPLATE]:e=>!!s(e)&&e.type===n.USER_CREATE_TEMPLATE,[n.USER_DECLINE_REQUEST]:e=>!!s(e)&&e.type===n.USER_DECLINE_REQUEST,[n.USER_FINISH_REQUEST]:e=>!!s(e)&&e.type===n.USER_FINISH_REQUEST,[n.USER_PREP_SEND_EDITOR_CONTINUE]:e=>!!s(e)&&e.type===n.USER_PREP_SEND_EDITOR_CONTINUE,[n.USER_REASSIGN_REQUEST]:e=>!!s(e)&&e.type===n.USER_REASSIGN_REQUEST,[n.USER_SEND_REQUEST]:e=>!!s(e)&&e.type===n.USER_SEND_REQUEST,[n.USER_SIGN_REQUEST]:e=>!!s(e)&&e.type===n.USER_SIGN_REQUEST,[n.USER_PREP_SEND_EDITOR_DELETE_DOC]:e=>!!s(e)&&e.type===n.USER_PREP_SEND_EDITOR_DELETE_DOC,[n.VERIFY_DOMAIN_REQUEST]:r,[n.DEEP_INTEGRATION_WAITING_FOR_RECIPIENTS]:e=>!!s(e)&&e.type===n.DEEP_INTEGRATION_WAITING_FOR_RECIPIENTS},o=()=>{},l={[n.APP_CONFIGURE]:o,[n.APP_ERROR]:o,[n.APP_INITIALIZE]:o,[n.DEEP_INTEGRATION_FINISHED]:o,[n.USER_CANCEL_REQUEST]:o,[n.USER_CREATE_TEMPLATE]:o,[n.USER_DECLINE_REQUEST]:o,[n.USER_FINISH_REQUEST]:o,[n.USER_PREP_SEND_EDITOR_CONTINUE]:o,[n.USER_REASSIGN_REQUEST]:o,[n.USER_SEND_REQUEST]:o,[n.USER_SIGN_REQUEST]:o,[n.USER_PREP_SEND_EDITOR_DELETE_DOC]:o,[n.VERIFY_DOMAIN_REQUEST]:o,[n.DEEP_INTEGRATION_WAITING_FOR_RECIPIENTS]:o};class c{constructor(e,t,n={},o){this.startListening=()=>{window&&window.addEventListener("message",this.onMessageHandler)},this.stopListening=()=>{window&&window.removeEventListener("message",this.onMessageHandler)},this.onMessageHandler=e=>{if(!this.canHandleMessage(e))return;const t=e.data;if(!s(t))return void this.unknownMessageHandler("unknown",JSON.stringify(t));if(!(0,a[t.type])(t))return void this.unknownMessageHandler(t.type,JSON.stringify(t));const n=this.externalHandlers[t.type];if(!n)throw`couldn't find messageHandler for message type ${t.type}`;r(t)&&this.respondVerifyDomainRequest(t),n(t)},this.respondVerifyDomainRequest=e=>{this.allowedSource&&this.allowedSource.postMessage({type:"hellosign:verifyDomainResponse",payload:{token:e.payload.token}},this.allowedOrigin)},this.sendRecipients=e=>{this.allowedSource&&this.allowedSource.postMessage({type:i.DEEP_INTEGRATION_SEND_RECIPIENTS,payload:e},this.allowedOrigin)},this.canHandleMessage=e=>e.origin===this.allowedOrigin&&e.source===this.allowedSource,this.allowedOrigin=e,this.allowedSource=t,this.externalHandlers=Object.assign(Object.assign({},l),n),this.unknownMessageHandler=o}static new(e,t,n={},i){return new c(e,t,n,i)}}t.Channel=c})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/localized_graphic",["require","exports","metaserver/static/js/modules/constants/page_load","metaserver/static/js/modules/clean/static_urls"],(function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localizedAsset=void 0,t.localizedAsset=function(){switch(n.USER_LOCALE||"en_US"){case"da_DK":return i.static_url("/static/images/integrations/hellosign/launcher/onboarding-da_DK-vflev2nla.gif");case"de":return i.static_url("/static/images/integrations/hellosign/launcher/onboarding-de-vflmTVCdO.gif");case"en_GB":return i.static_url("/static/images/integrations/hellosign/launcher/onboarding-en_GB-vflmA_g94.gif");case"es":return i.static_url("/static/images/integrations/hellosign/launcher/onboarding-es-vfllHw0PM.gif");case"es_ES":return i.static_url("/static/images/integrations/hellosign/launcher/onboarding-es_ES-vflRmKQl4.gif");case"fr":return i.static_url("/static/images/integrations/hellosign/launcher/onboarding-fr-vflqcThGf.gif");case"id":return i.static_url("/static/images/integrations/hellosign/launcher/onboarding-id-vflT5Hn2D.gif");case"it":return i.static_url("/static/images/integrations/hellosign/launcher/onboarding-it-vflOYD-0N.gif");case"ja":return i.static_url("/static/images/integrations/hellosign/launcher/onboarding-ja-vfliiIOOL.gif");case"ko":return i.static_url("/static/images/integrations/hellosign/launcher/onboarding-ko-vflSPFPmr.gif");case"ms":return i.static_url("/static/images/integrations/hellosign/launcher/onboarding-ms-vfli8wwVt.gif");case"nb_NO":return i.static_url("/static/images/integrations/hellosign/launcher/onboarding-nb_NO-vflcDuOCP.gif");case"nl_NL":return i.static_url("/static/images/integrations/hellosign/launcher/onboarding-nl_NL-vflPQqelQ.gif");case"pl":return i.static_url("/static/images/integrations/hellosign/launcher/onboarding-pl-vflwp4_NJ.gif");case"pt_BR":return i.static_url("/static/images/integrations/hellosign/launcher/onboarding-pt_BR-vflm25c60.gif");case"ru":return i.static_url("/static/images/integrations/hellosign/launcher/onboarding-ru-vfl6KsI3f.gif");case"sv_SE":return i.static_url("/static/images/integrations/hellosign/launcher/onboarding-sv_SE-vflPSZhlS.gif");case"th_TH":return i.static_url("/static/images/integrations/hellosign/launcher/onboarding-th_TH-vflI-EUYa.gif");case"uk_UA":return i.static_url("/static/images/integrations/hellosign/launcher/onboarding-uk_UA-vflCSYd-h.gif");case"zh_CN":return i.static_url("/static/images/integrations/hellosign/launcher/onboarding-zh_CN-vfldFx8CJ.gif");case"zh_TW":return i.static_url("/static/images/integrations/hellosign/launcher/onboarding-zh_TW-vflbjmtiv.gif");default:return i.static_url("/static/images/integrations/hellosign/launcher/onboarding-vfl5F6roQ.gif")}}})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/safari_unsupported_modal",["require","exports","tslib","react","metaserver/static/js/components/ui/css","dig-components/buttons","dig-components/modal","dig-components/typography","metaserver/static/js/modules/core/browser","metaserver/static/js/modules/core/i18n"],(function(e,t,n,i,s,r,a,o,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SafariUnsupportedModalWithCSS=void 0,i=n.__importStar(i),l=n.__importStar(l);t.SafariUnsupportedModalWithCSS=s.requireCssWithComponent(({title:e,body:t,buttonName:n,learnMoreLink:s,onClose:d})=>{const[u,_]=i.useState(!0),m=()=>{_(e=>!e),d()},p=c.intl.formatMessage({id:"zcHXrL",defaultMessage:"Learn more"});return i.createElement(a.Modal,{className:"hs-int-safari-unspported-modal",open:u,width:"small",isCentered:!0,withCloseButton:"Close",onRequestClose:m},i.createElement(a.Modal.Header,{hasBottomSpacing:"title-standard"},i.createElement(o.Title,null,e)),i.createElement(a.Modal.Body,{hasVerticalSpacing:!1},t),i.createElement(a.Modal.Footer,null,i.createElement(r.Button,{variant:"transparent",onClick:()=>{l.open_tab(s)}},p),i.createElement("div",{style:{display:"none"}},i.createElement(r.Button,{variant:"opacity"},"Button")),i.createElement(r.Button,{variant:"primary",onClick:m},n)))},["/static/css/integrations/hellosign_deep_integration-vfleChvnf.css","/static/js/typescript/component_libraries/deep-integrations/src/index.web-vflVod6hW.css"])})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/A",["require","exports","tslib","react","metaserver/static/js/components/ui/css","dig-components/typography","metaserver/static/js/modules/core/i18n","dig-components/buttons","spectrum/icon_form/index","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/footer","metaserver/static/js/modules/clean/static_urls","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/common","typescript/component_libraries/deep-integrations/src/instrumentation/function_wrapper","typescript/component_libraries/deep-integrations/src/instrumentation/constants"],(function(e,t,n,i,s,r,a,o,l,c,d,u,_,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermsOfServiceWithCSS=void 0,i=n.__importDefault(i);const p={heading:a.intl.formatMessage({id:"AGYgMb",defaultMessage:"Allow signatures in Dropbox"}),poweredBy:a.intl.formatMessage({id:"sANI63",defaultMessage:"Powered by HelloSign, a Dropbox company"}),allowText:a.intl.formatMessage({id:"87Ic6S",defaultMessage:"Allow"}),cancelText:a.intl.formatMessage({id:"Z9Inrz",defaultMessage:"Cancel"}),graphicAlt:a.intl.formatMessage({id:"fwZb1h",defaultMessage:"Animated Image"}),hsLogoAlt:a.intl.formatMessage({id:"Te8HfQ",defaultMessage:"HelloSign Logo"})};t.TermsOfServiceWithCSS=s.requireCssWithComponent(({onAcceptTos:e,onClose:t,onStart:n,onChooseFile:s,chooseFileRequired:f,optInRequired:h,logEvent:g,pageNum:E})=>{const v=i.default.createElement(r.Link,{href:"https://help.dropbox.com/installs-integrations/third-party/hellosign",target:"_blank",rel:"noopener noreferrer",inverse:!0},a.intl.formatMessage(u.learnMoreDescriptor)),S=a.intl.formatMessage({id:"9yYWu+",defaultMessage:"Close"}),b=_.functionWrapperProvider(g,m.InstrFeatureType.HelloSignDeepIntegrationTOS),y=_.onClickWrapper(b,m.InstrActionType.AcceptTOS,t=>{e(t),f?s():n()},{extra:{tos_page_name:u.PageName.AcceptTosVariantA}});return i.default.createElement("div",{className:"hs-int-tos-v2-container"},i.default.createElement("div",{className:"hs-int-tos-v2-col"},i.default.createElement("div",{className:"hs-int-tos-container-right-col-close-wrapper"},i.default.createElement("div",{className:"hs-int-tos-container-right-col-close"},i.default.createElement(o.Button,{onClick:t,title:S,variant:"transparent",hasNoUnderline:!0},i.default.createElement(l.IconForm,{name:"cancel"})))),i.default.createElement("div",{className:"hs-int-tos-v2-content"},i.default.createElement("div",{className:"hs-int-tos-v2-header"},i.default.createElement("img",{alt:p.graphicAlt,src:d.static_url("/static/images/integrations/hellosign/onboarding/pen-vflmXZ_fa.png")}),i.default.createElement("br",null),i.default.createElement(r.Title,{size:"standard",tagName:"h1"},p.heading),i.default.createElement("div",{className:"hs-int-v2-header-powered-by-wrapper"},i.default.createElement("img",{alt:p.hsLogoAlt,src:d.static_url("/static/images/integrations/hellosign/onboarding/hs-logo-vflYPyKIW.svg"),className:"hs-int-tos-v2-header-small-hs-logo"}),i.default.createElement(r.Text,{size:"small",color:"faint",tagName:"p",className:"hs-int-v2-header-powered-by"},p.poweredBy))),i.default.createElement("ul",{className:"hs-int-tos-v2-tos-content-list"},i.default.createElement("li",{className:"hs-int-tos-v2-tos-content-list-item"},i.default.createElement(r.Text,null,a.intl.formatMessage({id:"KlXIQn",defaultMessage:"This allows information to be shared between HelloSign and Dropbox."})," ",v)),i.default.createElement("li",{className:"hs-int-tos-v2-tos-content-list-item"},i.default.createElement(r.Text,null,a.intl.formatMessage({id:"y3WkMl",defaultMessage:"If you don't have a HelloSign account, we'll create one for you with your Dropbox email address."}))))),i.default.createElement(c.Footer,{termsMarkup:u.richAcceptTosStatement,termsText:u.plainAcceptTosStatement,primaryButtonText:p.allowText,onClickPrimaryButton:y,secondaryButtonText:p.cancelText,onClickSecondaryButton:t,optInRequired:h})))},["/static/css/integrations/hellosign_deep_integration-vfleChvnf.css","/static/js/typescript/component_libraries/deep-integrations/src/index.web-vflVod6hW.css"])})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/B",["require","exports","tslib","react","metaserver/static/js/components/ui/css","dig-components/typography","metaserver/static/js/modules/core/i18n","dig-components/buttons","spectrum/icon_form/index","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/footer","metaserver/static/js/modules/clean/static_urls","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/common","typescript/component_libraries/deep-integrations/src/instrumentation/function_wrapper","typescript/component_libraries/deep-integrations/src/instrumentation/constants"],(function(e,t,n,i,s,r,a,o,l,c,d,u,_,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermsOfServiceWithCSS=void 0,i=n.__importDefault(i);const p={heading:a.intl.formatMessage({id:"1NiHAS",defaultMessage:"Sign and send right in Dropbox"}),allowText:a.intl.formatMessage({id:"+clSP7",defaultMessage:"Turn on"}),cancelText:a.intl.formatMessage({id:"Z9Inrz",defaultMessage:"Cancel"}),graphicAlt:a.intl.formatMessage({id:"fwZb1h",defaultMessage:"Animated Image"}),hsLogoAlt:a.intl.formatMessage({id:"Te8HfQ",defaultMessage:"HelloSign Logo"})};t.TermsOfServiceWithCSS=s.requireCssWithComponent(({onAcceptTos:e,onClose:t,onStart:n,onChooseFile:s,chooseFileRequired:f,optInRequired:h,logEvent:g,pageNum:E})=>{const v=i.default.createElement(r.Link,{href:"https://help.dropbox.com/installs-integrations/third-party/hellosign",target:"_blank",rel:"noopener noreferrer",inverse:!0},a.intl.formatMessage(u.learnMoreDescriptor)),S=a.intl.formatMessage({id:"9yYWu+",defaultMessage:"Close"}),b=_.functionWrapperProvider(g,m.InstrFeatureType.HelloSignDeepIntegrationTOS),y=_.onClickWrapper(b,m.InstrActionType.AcceptTOS,t=>{e(t),f?s():n()},{extra:{tos_page_name:u.PageName.AcceptTosVariantB}});return i.default.createElement("div",{className:"hs-int-tos-v2-container"},i.default.createElement("div",{className:"hs-int-tos-v2-col"},i.default.createElement("div",{className:"hs-int-tos-container-right-col-close-wrapper"},i.default.createElement("div",{className:"hs-int-tos-container-right-col-close"},i.default.createElement(o.Button,{onClick:t,title:S,variant:"transparent",hasNoUnderline:!0},i.default.createElement(l.IconForm,{name:"cancel"})))),i.default.createElement("div",{className:"hs-int-tos-v2-content"},i.default.createElement("div",{className:"hs-int-tos-v2-header"},i.default.createElement("img",{alt:p.graphicAlt,src:d.static_url("/static/images/integrations/hellosign/onboarding/pen-vflmXZ_fa.png")}),i.default.createElement("br",null),i.default.createElement("br",null),i.default.createElement(r.Title,{size:"standard",tagName:"h1"},p.heading)),i.default.createElement("ul",{className:"hs-int-tos-v2-tos-content-list"},i.default.createElement("li",{className:"hs-int-tos-v2-tos-content-list-item"},i.default.createElement(r.Text,null,a.intl.formatMessage({id:"v85or7",defaultMessage:"Signatures are powered by HelloSign, a Dropbox company."}))),i.default.createElement("li",{className:"hs-int-tos-v2-tos-content-list-item"},i.default.createElement(r.Text,null,a.intl.formatMessage({id:"5FRDvH",defaultMessage:"Information is shared between HelloSign and Dropbox."})," ",v)),i.default.createElement("li",{className:"hs-int-tos-v2-tos-content-list-item"},i.default.createElement(r.Text,null,a.intl.formatMessage({id:"y3WkMl",defaultMessage:"If you don't have a HelloSign account, we'll create one for you with your Dropbox email address."}))))),i.default.createElement(c.Footer,{termsMarkup:u.richAcceptTosStatement,termsText:u.plainAcceptTosStatement,primaryButtonText:p.allowText,onClickPrimaryButton:y,secondaryButtonText:p.cancelText,onClickSecondaryButton:t,optInRequired:h})))},["/static/css/integrations/hellosign_deep_integration-vfleChvnf.css","/static/js/typescript/component_libraries/deep-integrations/src/index.web-vflVod6hW.css"])})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/V3",["require","exports","tslib","react","metaserver/static/js/components/ui/css","dig-components/typography","metaserver/static/js/modules/core/i18n","dig-components/buttons","spectrum/icon_form/index","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/footer","metaserver/static/js/modules/clean/static_urls","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/common","typescript/component_libraries/deep-integrations/src/instrumentation/function_wrapper","typescript/component_libraries/deep-integrations/src/instrumentation/constants","react-intl"],(function(e,t,n,i,s,r,a,o,l,c,d,u,_,m,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermsOfServiceWithCSS=void 0,i=n.__importDefault(i);const f={heading:a.intl.formatMessage({id:"1NiHAS",defaultMessage:"Sign and send right in Dropbox"}),nextText:a.intl.formatMessage({id:"zJzY3w",defaultMessage:"Next"}),cancelText:a.intl.formatMessage({id:"Z9Inrz",defaultMessage:"Cancel"}),graphicAlt:a.intl.formatMessage({id:"fwZb1h",defaultMessage:"Animated Image"}),hsLogoAlt:a.intl.formatMessage({id:"Te8HfQ",defaultMessage:"HelloSign Logo"})};t.TermsOfServiceWithCSS=s.requireCssWithComponent(({onAcceptTos:e,onClose:t,onStart:n,onChooseFile:s,chooseFileRequired:h,logEvent:g,optInRequired:E,pageNum:v})=>{const S=a.intl.formatMessage({id:"9yYWu+",defaultMessage:"Close"}),b=_.functionWrapperProvider(g,m.InstrFeatureType.HelloSignDeepIntegrationTOS),y=_.onClickWrapper(b,m.InstrActionType.AcceptTOS,t=>{e(t),h?s():n()},{extra:{tos_page_name:u.PageName.AcceptTosVariantV3}}),I=_.onClickWrapper(b,m.InstrActionType.CancelFlow,t,{extra:{tos_page_name:u.PageName.AcceptTosVariantV3}}),T=_.onClickWrapper(b,m.InstrActionType.ViewTerms,()=>{},{extra:{tos_page_name:u.PageName.AcceptTosVariantV3}}),N=_.onClickWrapper(b,m.InstrActionType.ViewPrivacyPolicy,()=>{},{extra:{tos_page_name:u.PageName.AcceptTosVariantV3}}),w=p.defineMessage({id:"I+BnMT",defaultMessage:"By clicking Next, I agree to HelloSign’s <term>Terms</term> & <privacy>Privacy Policy</privacy>."}),O=a.intl.formatMessage(w,{term:e=>i.default.createElement("a",{href:"https://www.hellosign.com/terms",target:"_blank",rel:"noopener noreferrer",onClick:T},e),privacy:e=>i.default.createElement("a",{href:"https://www.hellosign.com/privacy",target:"_blank",rel:"noopener noreferrer",onClick:N},e)}),C=p.defineMessage({id:"1PZp6M",defaultMessage:"By clicking Next, I agree to HelloSign’s Terms & Privacy Policy."}),M=a.intl.formatMessage(C,{term:e=>e});return i.default.createElement("div",{className:"hs-int-tos-v3-container"},i.default.createElement("div",{className:"hs-int-tos-v2-col"},i.default.createElement("div",{className:"hs-int-tos-container-right-col-close-wrapper"},i.default.createElement("div",{className:"hs-int-tos-container-right-col-close"},i.default.createElement(o.Button,{onClick:t,title:S,variant:"transparent",hasNoUnderline:!0},i.default.createElement(l.IconForm,{name:"cancel"})))),i.default.createElement("div",{className:"hs-int-tos-v2-content"},i.default.createElement("div",{className:"hs-int-tos-v2-header"},i.default.createElement("img",{alt:f.graphicAlt,src:d.static_url("/static/images/integrations/hellosign/onboarding/pen-vflmXZ_fa.png")}),i.default.createElement("br",null),i.default.createElement(r.Title,{size:"standard",tagName:"h1"},f.heading)),i.default.createElement("ul",{className:"hs-int-tos-v3-tos-content-list"},i.default.createElement("li",{className:"hs-int-tos-v3-tos-content-list-item"},i.default.createElement(r.Text,null,a.intl.formatMessage({id:"Nzi1eT",defaultMessage:"<b>Drag and drop fields</b> on your document to show where to sign"},{b:e=>i.default.createElement("strong",null,e)}))),i.default.createElement("li",{className:"hs-int-tos-v3-tos-content-list-item"},i.default.createElement(r.Text,null,a.intl.formatMessage({id:"5TjDyk",defaultMessage:"<b>Choose the Dropbox folder</b> where you want to save signed documents"},{b:e=>i.default.createElement("strong",null,e)}))),i.default.createElement("li",{className:"hs-int-tos-v3-tos-content-list-item"},i.default.createElement(r.Text,null,a.intl.formatMessage({id:"TS8wPS",defaultMessage:"<b>Send a signature request</b> while keeping the orignal document intact"},{b:e=>i.default.createElement("strong",null,e)}))))),i.default.createElement(c.Footer,{termsMarkup:O,termsText:M,primaryButtonText:f.nextText,onClickPrimaryButton:y,secondaryButtonText:f.cancelText,onClickSecondaryButton:I,optInRequired:E,noTosCheckbox:!0})))},["/static/css/integrations/hellosign_deep_integration-vfleChvnf.css","/static/js/typescript/component_libraries/deep-integrations/src/index.web-vflVod6hW.css"])})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/common",["require","exports","tslib","react-intl","metaserver/static/js/modules/core/i18n","react"],(function(e,t,n,i,s,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.learnMoreDescriptor=t.plainAcceptTosStatement=t.richAcceptTosStatement=t.acceptTosStatementMsgDescriptor=t.PageName=void 0,r=n.__importDefault(r),(function(e){e.AcceptTosVariantA="accept_tos_a",e.AcceptTosVariantB="accept_tos_b",e.AcceptTosVariantV3="accept_tos_v3"})(t.PageName||(t.PageName={})),t.acceptTosStatementMsgDescriptor=i.defineMessage({id:"b96zXA",defaultMessage:"I agree to HelloSign's <term>Terms of Service</term>."}),t.richAcceptTosStatement=s.intl.formatMessage(t.acceptTosStatementMsgDescriptor,{term:e=>r.default.createElement("a",{href:"https://www.hellosign.com/terms",target:"_blank",rel:"noopener noreferrer"},e)}),t.plainAcceptTosStatement=s.intl.formatMessage(t.acceptTosStatementMsgDescriptor,{term:e=>e}),t.learnMoreDescriptor=i.defineMessage({id:"49giA7",defaultMessage:"Learn more"})})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/footer",["require","exports","tslib","react","typescript/component_libraries/deep-integrations/src/text/text","dig-components/typography","dig-components/controls","dig-components/buttons","metaserver/static/js/modules/core/i18n"],(function(e,t,n,i,s,r,a,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=void 0,i=n.__importDefault(i);const c={emailOptedInStatement:l.intl.formatMessage({id:"gMMLpm",defaultMessage:"Send me HelloSign updates."})};t.Footer=({termsMarkup:e,termsText:t,primaryButtonText:n,onClickPrimaryButton:d,secondaryButtonText:u,onClickSecondaryButton:_,noTosCheckbox:m,optInRequired:p})=>{const[f,h]=i.default.useState(!!m),[g,E]=i.default.useState(!1),v=u&&_?i.default.createElement(o.Button,{onClick:_,title:"Cancel",variant:"opacity"},"Cancel"):null,S=i.default.createElement("div",{className:"hs-int-tos-v2-action-buttons"},v,i.default.createElement("div",{className:"hs-int-tos-v2-footer-checkbox-spacer"}),i.default.createElement(o.Button,{title:n,variant:"primary",disabled:!f,onClick:()=>d(!1===p||g)},n)),b=m?i.default.createElement(i.default.Fragment,null):i.default.createElement(i.default.Fragment,null,i.default.createElement(a.Checkbox,{checked:f,onChange:()=>h(e=>!e),"aria-label":t}),i.default.createElement("div",{className:"hs-int-tos-v2-footer-checkbox-spacer"})),y=p?"hs-int-tos-v2-tos-sub-text-non-us":"hs-int-tos-v2-tos-sub-text";return i.default.createElement(i.default.Fragment,null,p?i.default.createElement("div",{className:"hs-int-tos-v2-footer-optin"},i.default.createElement(a.Checkbox,{onChange:()=>E(e=>!e),checked:g,"aria-label":c.emailOptedInStatement}),i.default.createElement("div",{className:"hs-int-tos-v2-footer-checkbox-spacer"}),i.default.createElement(s.Text,{color:"text",size:"medium"},c.emailOptedInStatement)):null,i.default.createElement("div",{className:y},i.default.createElement(r.Text,{size:"small",tagName:"p"},l.intl.formatMessage({id:"h1fwqP",defaultMessage:"We’ll create a HelloSign account with your Dropbox email address if you don’t have one, or link your existing one if you do. Your accounts will be linked across both platforms."}))),i.default.createElement("div",{className:"hs-int-tos-v3-footer"},i.default.createElement("div",{className:"hs-int-tos-v2-footer-wrapper"},i.default.createElement("div",{className:"hs-int-tos-v2-footer-checkbox"},b,i.default.createElement(s.Text,{color:"inherit",size:"small"},e)),S)))}})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/send_file_viewer_plugin",["require","exports","tslib","react","metaserver/static/js/file_store/utils","dig-components/icons/src","dig-components/icons","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/launcher","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/core/browser_detection","metaserver/static/js/file_viewer/sdk_file_viewer/action_plugins/action_plugin_menu_item","metaserver/static/js/modules/clean/stormcrow/gating_factory","typescript/component_libraries/deep-integrations/src/instrumentation/constants","metaserver/static/js/modules/clean/analytics","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/send_file_viewer_plugin_types"],(function(e,t,n,i,s,r,a,o,l,c,d,u,_,m,p){"use strict";var f;Object.defineProperty(t,"__esModule",{value:!0}),t.makeSendForSignatureLoader=t.getOverflowItem=void 0,i=n.__importDefault(i),(function(e){e.V1="V1",e.V2="V2",e.CONTROL="CONTROL"})(f||(f={}));const h=e=>e&&s.isBrowseFile(e)&&o.HELLOSIGN_SUPPORTED_EXTENSIONS.includes("."+s.getExtension(e));t.getOverflowItem=(e,t,s,p,g="preview_workflows_button",E="file_preview_workflows_tab",v="send_signatures_on_workflow")=>{if(!t||!h(e)||c.is_supported_mobile_browser())return;if(p===f.V1||p===f.V2||p===f.CONTROL){u.getGatingClientSingleton().logExposure({stormcrowVariantInfo:{feature:_.InstrFeatureType.SendForSignatureNaming,variant:p}})}const S=e=>{s(`send_for_signature_${e}`,g)},b=e=>{s("send_for_signature_failure",g,{reason:e})};return i.default.createElement(d.ActionPluginMenuItem,{key:"send-for-signature-action",withLeftAccessory:i.default.createElement(a.UIIcon,{src:r.SignatureLine}),withTitle:p===f.V1?l.intl.formatMessage({id:"w66HWC",defaultMessage:"Request signature"}):p===f.V2?l.intl.formatMessage({id:"/pwnHb",defaultMessage:"Send signature request"}):l.intl.formatMessage({id:"X1C5SI",defaultMessage:"Send for signature"}),"data-uxa-log":v+"_click",onAction:()=>n.__awaiter(void 0,void 0,void 0,(function*(){if(p!==f.V1&&p!==f.V2&&p!==f.CONTROL||m.ProEventsLogger.log(`bt_send_for_signature_naming_${null==p?void 0:p.toLowerCase()}_click`,{entryPoint:"file_preview_workflows_tab"}),S("click"),t)if(h(e))try{const n=o.getLauncher();n.init({entryPoint:E,file:e,user:t}),n.launch(),S("launched")}catch(e){b("launcher_error")}else b("invalid_file");else b("invalid_user")}))})};t.makeSendForSignatureLoader=(e,n,i,s)=>({actionDefinitions:()=>{const{file:r}=e();return{categories:{workflows:[{overflowItem:t.getOverflowItem(r,n,i.logUserAction,s),id:p.SEND_FOR_SIGNATURE_ACTION_PLUGIN_ID}]}}}})})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/self_sign_plugin",["require","exports","tslib","react","metaserver/static/js/file_store/utils","dig-components/icons/src","dig-components/icons","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/launcher","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/stormcrow/gating_factory","typescript/component_libraries/deep-integrations/src/instrumentation/constants","metaserver/static/js/modules/core/browser_detection","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/launcher","metaserver/static/js/file_viewer/sdk_file_viewer/action_plugins/action_plugin_menu_item","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/send_file_viewer_plugin_types"],(function(e,t,n,i,s,r,a,o,l,c,d,u,_,m,p){"use strict";var f;Object.defineProperty(t,"__esModule",{value:!0}),t.makeSelfSignPlugin=t.getOverflowItem=void 0,i=n.__importDefault(i),(function(e){e.V1="V1",e.V2="V2",e.CONTROL="CONTROL"})(f||(f={}));const h=e=>e&&s.isBrowseFile(e)&&_.HELLOSIGN_SUPPORTED_EXTENSIONS.includes("."+s.getExtension(e));t.getOverflowItem=(e,t,s,_,p="file_preview_workflows_tab_self_sign",g="preview_workflows_button",E="self_sign_on_workflow")=>{if(!t||!h(e)||u.is_supported_mobile_browser())return;if(_!==f.V1&&_!==f.V2&&_!==f.CONTROL)return;if(c.getGatingClientSingleton().logExposure({stormcrowVariantInfo:{feature:d.InstrFeatureType.SelfSignEntryPoint,variant:_}}),_===f.CONTROL)return;const v=_===f.V1?l.intl.formatMessage({id:"5b2GuK",defaultMessage:"Self-sign"}):_===f.V2?l.intl.formatMessage({id:"x6z5A7",defaultMessage:"Add my signature"}):void 0,S=e=>{s(`self_sign_${e}`,g)},b=e=>{s("self_sign_failure",g,{reason:e})};return i.default.createElement(m.ActionPluginMenuItem,{key:"self-sign-action",withLeftAccessory:i.default.createElement(a.UIIcon,{src:r.EditLine}),"data-uxa-log":E+"_click_"+(null==_?void 0:_.toLowerCase()),withTitle:v,onAction:()=>n.__awaiter(void 0,void 0,void 0,(function*(){if(S("click"),t)if(h(e))try{const n=o.getLauncher();n.init({entryPoint:p,file:e,user:t,selfSign:!0}),n.launch(),S("launched")}catch(e){b("launcher_error")}else b("invalid_file");else b("invalid_user")}))})};t.makeSelfSignPlugin=(e,n,i,s)=>({actionDefinitions:()=>{const{file:r}=e();return{categories:{workflows:[{overflowItem:t.getOverflowItem(r,n,i.logUserAction,s),id:p.SELF_SIGN_ACTION_PLUGIN_ID}]}}}})})),define("metaserver/static/js/modules/clean/react/extensions/connect_flow",["require","exports","tslib","metaserver/static/js/modules/clean/integrations/link_service","metaserver/static/js/modules/clean/integrations/log_event","typescript/component_libraries/deep-integrations/src/platform/log_event","typescript/component_libraries/deep-integrations/src/instrumentation/common_context","typescript/component_libraries/deep-integrations/src/instrumentation/constants","typescript/component_libraries/deep-integrations/src/instrumentation/connect_service_flow_wrapper"],(function(e,t,n,i,s,r,a,o,l){"use strict";function c(e,t){return!!e&&t in e&&"is_connected"===e[t].connection_state[".tag"]}function d(e,t,d,u,_,m){return n.__awaiter(this,void 0,void 0,(function*(){if(c(t,u))return!0;const n=r.withDefaults(s.createIntegrationsActionsLogger().logEvent,{extra:a.getCommonContextExtra({serviceList:Object.keys(t).map(e=>t[e])})}),p=t[u];p&&n(l.buildStartEvent(p.service_type,p.connection_state,_,o.InstrConnectServiceFlowOutcome.Connected));try{yield i.linkService(e.id,u,m);const t=c(yield(function(e,t){return new Promise(n=>t({user:e,onRefresh:n}))})(e,d),u);return p&&n(t?l.buildEndEvent(p.service_type,_,o.InstrConnectServiceFlowOutcome.Connected,o.InstrConnectServiceFlowOutcome.Connected):l.buildEndEvent(p.service_type,_,o.InstrConnectServiceFlowOutcome.Connected,o.InstrConnectServiceFlowOutcome.Error)),t}catch(e){throw p&&n(l.buildEndEvent(p.service_type,_,o.InstrConnectServiceFlowOutcome.Connected,o.InstrConnectServiceFlowOutcome.Error,{error:JSON.stringify(e)})),e}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.shareInCanvasFlow=t.shareInTrelloFlow=t.shareInSlackFlow=t.presentInZoomFlow=void 0,t.presentInZoomFlow=function(e,t,n,i,s,r,a){d(e,t,n,"zoom",s,r).then(e=>{e&&(a&&a(),i())})},t.shareInSlackFlow=function(t,i,s,r,a,o,l){d(t,i,s,"slack_dropbox",a,o).then(i=>n.__awaiter(this,void 0,void 0,(function*(){if(i){l&&l();const{showSendToSlackModal:i}=yield new Promise((t,n)=>{e(["metaserver/static/js/modules/clean/integrations/send_to_slack"],t,n)}).then(n.__importStar);i(t,r)}})))},t.shareInTrelloFlow=function(t,i,s,r,a,o,l){d(t,i,s,"trello",a,o).then(i=>n.__awaiter(this,void 0,void 0,(function*(){if(i){l&&l();const{showShareToTrelloModal:i}=yield new Promise((t,n)=>{e(["metaserver/static/js/modules/clean/integrations/share_to_trello"],t,n)}).then(n.__importStar);i(t,r)}})))},t.shareInCanvasFlow=function(t,i,s,r,a,o,l){d(t,i,s,"canvas",a,o).then(i=>n.__awaiter(this,void 0,void 0,(function*(){if(i){l&&l();const{showUploadToCanvasModal:i}=yield new Promise((t,n)=>{e(["metaserver/static/js/modules/clean/integrations/canvas/upload_to_canvas"],t,n)}).then(n.__importStar);i(t,r)}})))}})),define("metaserver/static/js/modules/clean/react/file_viewer/open_button/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenButtonAction=void 0,(function(e){e[e.DOWNLOAD=0]="DOWNLOAD",e[e.UNITY_FILE=1]="UNITY_FILE",e[e.UNITY_FOLDER=2]="UNITY_FOLDER",e[e.OPEN_WITH=3]="OPEN_WITH",e[e.APP_ACTION=5]="APP_ACTION",e[e.PREPARE_FOR_SIGNATURE=6]="PREPARE_FOR_SIGNATURE",e[e.SHARE_TO_SLACK=7]="SHARE_TO_SLACK",e[e.PRESENT_IN_ZOOM=8]="PRESENT_IN_ZOOM",e[e.SHARE_TO_TRELLO=9]="SHARE_TO_TRELLO",e[e.INVITE_VIA_EMAIL=10]="INVITE_VIA_EMAIL",e[e.OPEN_WITH_CLOUD_DOC=11]="OPEN_WITH_CLOUD_DOC",e[e.OPEN_MORE_APPS=12]="OPEN_MORE_APPS",e[e.OPEN_ADD_APPS=13]="OPEN_ADD_APPS",e[e.DECOMPRESS_FILE=14]="DECOMPRESS_FILE",e[e.PREVIEW_FILE=15]="PREVIEW_FILE",e[e.TRANSFER=16]="TRANSFER",e[e.OPEN_IN_DESKTOP=17]="OPEN_IN_DESKTOP",e[e.GO_TO_FOLDER=18]="GO_TO_FOLDER",e[e.OPEN_IN_REPLAY=19]="OPEN_IN_REPLAY",e[e.OPEN_IN_NEW_TAB=20]="OPEN_IN_NEW_TAB",e[e.CONVERT_AND_SHARE=22]="CONVERT_AND_SHARE",e[e.CREATE_CLIENT_PORTAL=21]="CREATE_CLIENT_PORTAL",e[e.EDIT_CLIENT_PORTAL=22]="EDIT_CLIENT_PORTAL",e[e.SHARE_WITH_ANALYTICS=23]="SHARE_WITH_ANALYTICS"})(t.OpenButtonAction||(t.OpenButtonAction={}))})),define("metaserver/static/js/modules/clean/react/file_viewer/open_button/open_with_helpers",["require","exports","tslib","metaserver/static/js/modules/clean/open_with","metaserver/static/js/file_viewer/sdk_file_viewer/experiments"],(function(e,t,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenWithHelpers=void 0,i=n.__importDefault(i),t.OpenWithHelpers={canOpenWith:function(e,t){return s.fileViewerConfiguration.wopiButtonVisible&&e.bytes<=i.default.MAX_SUPPORTED_FILE_SIZE_B&&null!==i.default.getWopiOpenWithButtonInfo(e)}}})),define("metaserver/static/js/modules/clean/sharing/views/share_modal_evolution/utils/logging",["require","exports","spectrum-sharing/utils/logging"],(function(e,t,n){"use strict";function i(e){const t=new URL(e);if(-1!==t.search.indexOf("rlkey")){const e=t.searchParams.get("rlkey");return{kind:n.LinkKeyTypes.RL,val:e,link_type:n.LinkTypes.Righteous}}if(-1!==t.pathname.indexOf("/s/")||-1!==t.pathname.indexOf("/sh/")){const e=(e=>e.pathname.indexOf("/raw/")*e.pathname.indexOf("/dl/")*e.pathname.indexOf("/print/")>0)(t)?3:2,i=t.pathname.split("/")[e];return{kind:n.LinkKeyTypes.SH,val:i,link_type:n.LinkTypes.Shmodel}}return{kind:n.LinkKeyTypes.NONE,val:"",link_type:n.LinkTypes.NONE}}function s(e){if(!e)return{};const t={link_id:e.id,link_access_level:(s=e.link_permissions.link_access_level,s?s.hasOwnProperty(".tag")?s[".tag"]:s:n.AccessType.Viewer)};var s;const r=i(e.url);return r.kind!==n.LinkKeyTypes.NONE&&(t[r.kind]=r.val,t.link_type=r.link_type),t}Object.defineProperty(t,"__esModule",{value:!0}),t.buildExtraFromLinkMetadata=t.getLinkKey=t.buildExtraFromMetadata=void 0,t.buildExtraFromMetadata=function(e,t){return Object.assign(Object.assign({},(function(e){return{user_access_type:e.access_type,is_folder:e.isFolder(),fq_path:e.path_lower,content_id:e.contentId(),ns_id:e.nsId(),can_create_edit_link:e.canCreateEditLink(),can_create_view_link:e.canCreateViewLink(),can_edit_inband_invite:e.canEditInbandInvite(),can_view_inband_invite:e.canViewInbandInvite(),max_access:e.canCreateEditLink()||e.canEditInbandInvite()?n.AccessType.Editor:n.AccessType.Viewer}})(e)),s(t))},t.getLinkKey=i,t.buildExtraFromLinkMetadata=s})),define("metaserver/static/js/modules/clean/unity/check_file_cache",["require","exports","metaserver/static/js/modules/clean/unity/features"],(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{static is_cached_and_locally_available(e,t){const i=this._cache[n.UnityFeatures.server_path(e,t)];return null!=i&&i.is_locally_available}static get(e,t){return this._cache[n.UnityFeatures.server_path(e,t)]}static set(e,t){this._cache[e]=t}static set_batch(e){Object.assign(this._cache,e)}static clear(){this._cache={}}}i._cache={};let s=i;n.UnityFeatures.isUnitySupported()||(s=void 0),t.default=s})),define("metaserver/static/js/modules/clean/unity/connection",["require","exports","tslib","lodash","metaserver/static/js/deprecated_ajax/ajax_jquery","metaserver/static/js/modules/clean/unity/connection_error","metaserver/static/js/modules/clean/unity/logger","metaserver/static/js/modules/clean/unity/versions","metaserver/static/js/modules/clean/unity/websocket_config","metaserver/static/js/modules/clean/unity/web_socket","metaserver/static/js/modules/clean/viewer","metaserver/static/js/modules/constants/unity","metaserver/static/js/modules/core/assert","metaserver/static/js/modules/core/uri"],(function(e,t,n,i,s,r,a,o,l,c,d,u,_,m){"use strict";var p,f,h;Object.defineProperty(t,"__esModule",{value:!0}),t.isUnitySupported=t.UnityConnection=t.MAX_PORT=t.MIN_PORT=t.Permissions=t.ConnectionState=t.LastCompletedSecurityHandshakeStep=void 0,s=n.__importStar(s),a=n.__importDefault(a),o=n.__importDefault(o),u=n.__importStar(u),(function(e){e.CONNECTION_OPENED="CONNECTION_OPENED",e.VERSION_CHECK="VERSION_CHECK",e.FETCHING_NONCE="FETCHING_NONCE",e.NONCE_RETURNED_TO_CLIENT="NONCE_RETURNED_TO_CLIENT",e.HANDSHAKE_COMPLETED="HANDSHAKE_COMPLETED"})(p=t.LastCompletedSecurityHandshakeStep||(t.LastCompletedSecurityHandshakeStep={})),(function(e){e.PENDING="PENDING",e.ESTABLISHED="ESTABLISHED",e.CLOSED="CLOSED",e.RETRYING="RETRYING"})(f=t.ConnectionState||(t.ConnectionState={})),(function(e){e.SECURE_PERMISSION="secure",e.INSECURE_WEB_PERMISSION="insecure_web",e.INSECURE_CLIENT_PERMISSION="insecure_client",e.INSECURE_PERMISSION="insecure"})(h=t.Permissions||(t.Permissions={}));t.MIN_PORT=17600,t.MAX_PORT=17602;class g{constructor(){this.client_version=null,this.logger=new a.default,this._on_open_callbacks=[],this._on_open_failed_callbacks=[],this._on_close_callbacks=[],this._pending_callbacks=[],this._response_callbacks={},this._webSocket=null,this._port=null,this._active_ports={},this._connection_state=f.PENDING,this._current_message_id=1,this._permission_level=null,this._on_close=e=>t=>{[1e3,1001,1005,1006].includes(t.code)||this.logger.report_event("unity_failure",{message:`WebSocket closed. Code: ${t.code}. Reason: ${t.reason}`,port:e}),this._close_port(e)},this._on_error=e=>t=>{this.logger.report_event("unity_failure",{message:"WebSocket unknown error",port:e}),this._close_port(e)},this._set_connection_state=e=>{if(e===this._connection_state)return;const t=this._connection_state;if(_.assert(t!==f.CLOSED,"Shouldn't unclose a closed connection."),this._connection_state=e,e===f.ESTABLISHED){_.assert(this._is_connection_in_progress(t),"Can only establish from pending or retrying."),this.logger.report_event("handshake_complete"),t===f.PENDING&&this._on_open_callbacks.forEach(e=>e());const e=[];for(;this._pending_callbacks.length;){const{callback:t,error_callback:n}=this._pending_callbacks.pop();this.is_ready()?e.push(t()):e.push("function"==typeof n?n(r.UnityConnectionError.UNEXPECTED_ERROR):void 0)}return e}if(e!==f.RETRYING){if(e===f.CLOSED){t===f.PENDING?(this.logger.report_event("connection_not_established"),this._on_open_failed_callbacks.forEach(e=>e())):t===f.RETRYING?(this.logger.report_event("connection_terminated"),this._on_close_callbacks.forEach(e=>e())):_.assert(!1,"CONNECTION_CLOSED can only be set from PENDING or RETRYING");const e=[];for(;this._pending_callbacks.length;){const{error_callback:t}=this._pending_callbacks.pop();e.push("function"==typeof t?t(r.UnityConnectionError.CONNECTION_CLOSED):void 0)}return e}return _.assert(!1,"Changing connection_state to CONNECTION_PENDING not supported.")}},this._on_message=e=>t=>{const n=JSON.parse(t.data);if(n.func&&n.header&&n.header.message_id&&void 0!==n.header.should_respond)if(n.header.log_data&&this.logger.update(n.header.log_data),this.logger.update({port:e.port}),"response"===n.func)this._on_response(n.header.message_id,n.data);else{const t=this._routes[n.func];if(null==t)return void this._terminate_handshake(e.ws,"Unknown function.",{function:n.func});const i=this.is_ready()?t(n.data):t(e,n.data);n.header&&n.header.should_respond&&this.send("response",i,null,null,n.header.message_id)}else this._terminate_handshake(e.ws,"Malformed message from client.",{message:t.data})},this._on_response_timeout=e=>()=>{const{error_callback:t}=this._response_callbacks[e];delete this._response_callbacks[e],t&&t(r.UnityConnectionError.CONNECTION_TIMEOUT)},this._check_unity_version=(e,t)=>{if(e.state!==p.CONNECTION_OPENED)return void this._terminate_handshake(e.ws,"Handshake version check at wrong time of protocol.");if(e.state=p.VERSION_CHECK,e.client_version=t.client_version,t.client_version<o.default.UNITY_HANDSHAKE)return void this._terminate_handshake(e.ws,"Client version is too old.");const n=this._web_has_auth();if(!(t.client_version<o.default.PERMISSION_LEVELS)||n)return this.logger.report_event("handshake_version_check"),t.client_version>=o.default.PERMISSION_LEVELS?this._send_with_ws(e.ws,"initiate_handshake",{secure_web:n}):this._send_with_ws(e.ws,"initiate_handshake");this._terminate_handshake(e.ws,"Client version is too old to support insecure web connections.")},this._fetch_unity_nonce=(e,t)=>{e.state===p.VERSION_CHECK?(e.state=p.FETCHING_NONCE,this.logger.report_event("handshake_fetch_nonce"),this._retrieve_unity_nonce(e,t.nonce_key)):this._terminate_handshake(e.ws,"Fetch Unity nonce at wrong time of protocol.")},this._complete_handshake=(e,t)=>{if(e.state===p.NONCE_RETURNED_TO_CLIENT&&t.is_success)if(e.state=p.HANDSHAKE_COMPLETED,this._connection_state===f.CLOSED)this._terminate_handshake(e.ws,"No more handshakes are allowed to complete.");else if(null!=this._webSocket){const t="Only one Unity handshake can succeed! There's likely a MITM attack, so close all connections.";this._terminate_handshake(e.ws,t),this._terminate_handshake(this._webSocket,t),this.client_version=null,this._webSocket=null,this._port=null,this._set_connection_state(f.CLOSED)}else this.client_version=e.client_version,this._webSocket=e.ws,this._port=e.port,this._set_connection_state(f.ESTABLISHED);else this._terminate_handshake(e.ws,"Unable to complete handshake.")},this._routes={check_unity_version:this._check_unity_version,fetch_unity_nonce:this._fetch_unity_nonce,complete_handshake:this._complete_handshake}}start(){l.WebSocketConfig.canUnityConnect()?this._attempt_handshake():(this._set_connection_state(f.CLOSED),this.logger.report_event("unity_failure",{message:"WebSocket creation failed. Not able to create web socket."}))}_attempt_handshake(){for(let e=t.MIN_PORT;e<=t.MAX_PORT;e++)try{this._active_ports[e]=!0;const t={scheme:"ws",authority:`127.0.0.1:${e.toString()}`,path:"/ws"},n=c.UnityWebSocket.create(new m.URI(t).toString());n.onmessage=this._on_message({ws:n,port:e,state:p.CONNECTION_OPENED,client_version:null,client_has_auth:null}),n.onclose=this._on_close(e),n.onerror=this._on_error(e)}catch(t){this.logger.report_event("unity_failure",{message:`WebSocket creation failed. Message: ${t.message}`,error_name:t.name,port:e}),this._set_connection_state(f.CLOSED)}this.logger.report_event("handshake_started")}_close_port(e){if(e in this._active_ports&&(delete this._active_ports[e],i.isEmpty(this._active_ports)))return this._connection_state===f.ESTABLISHED?this._retry_connection():this._set_connection_state(f.CLOSED)}_retry_connection(){return this.logger.report_event("connection_retrying"),this._set_connection_state(f.RETRYING),this.client_version=this._webSocket=this._port=null,this._attempt_handshake()}send(e,t=null,n=null,i=null,s=null){if(this._webSocket)return this._send_with_ws(this._webSocket,e,t,n,i,s)}_send_with_ws(e,t,n=null,i=null,s=null,a=null){if(null==a&&(a=this._current_message_id,_.assert(this._current_message_id%2==1,"Web-initiated message_ids should remain odd"),this._current_message_id+=2),null!==i){const e=window.setTimeout(this._on_response_timeout(a),5e3);this._response_callbacks[a]={response_callback:i,error_callback:s,timeout_id:e}}const o={func:t,header:{message_id:a,should_respond:null!==i,log_data:this.logger.get_log_data_for_client()}};null!=n&&(o.data=n);try{return e.send(JSON.stringify(o))}catch(e){this.logger.report_event("unity_failure",{message:`WebSocket send failed. Message: ${e.message}`,error_name:e.name}),s&&s(r.UnityConnectionError.COULD_NOT_SEND)}}_on_response(e,t){if(e in this._response_callbacks){const{response_callback:n,timeout_id:i}=this._response_callbacks[e];delete this._response_callbacks[e],window.clearTimeout(i),n&&n(t)}}_web_has_auth(){return d.Viewer.get_viewer().is_signed_in}_retrieve_unity_nonce(e,t){return s.WebRequest({url:new m.URI({path:"/retrieve_unity_nonce"}),dataType:"json",data:{nonce_key:t},success:t=>{switch(t.status){case"OK":if(e.state=p.NONCE_RETURNED_TO_CLIENT,(null===e.client_version||e.client_version>=o.default.PORT_CHECK)&&(_.assert(t.message.client_port,`Port check must happen in version ${e.client_version}`),t.message.client_port!==e.port))return void this._terminate_handshake(e.ws,"Mismatched ports.",{client_port:t.message.client_port,web_port:e.port});e.client_has_auth=t.message.client_has_auth;const n=this._web_has_auth();return e.client_has_auth&&n?this._permission_level=g.SECURE_PERMISSION:(_.assert(null===e.client_version||e.client_version>=o.default.PERMISSION_LEVELS,`Insecure connections only supported by client_version >= ${o.default.PERMISSION_LEVELS}.`),this._permission_level=e.client_has_auth?g.INSECURE_WEB_PERMISSION:n?g.INSECURE_CLIENT_PERMISSION:g.INSECURE_PERMISSION),this.logger.update({unity_permission_level:this._permission_level}),this.logger.report_event("handshake_nonce_sent_to_unity_server"),this._send_with_ws(e.ws,"verify_unity_nonce",{nonce:t.message.nonce});case"MISMATCHED_USER_IDS":return this._terminate_handshake(e.ws,"Mismatched user_ids.",{client_user_ids:t.message.client_user_ids,web_user_ids:t.message.web_user_ids});case"INVALID":return this._terminate_handshake(e.ws,"Could not find nonce with given nonce_key.");case"AUTH_REQUIRED":return this._terminate_handshake(e.ws,"Did not have the necessary authentication to retrieve nonce.");case"LOCAL_INFORMATION_PERMISSION_REQUIRED":return this._terminate_handshake(e.ws,"Did not have permission to start a local-information-allowed connection.")}},error:(t,n,i)=>{this._terminate_handshake(e.ws,"Unable to retrieve nonce from server",{status:n,error_string:i})}})}_terminate_handshake(e,t,n={}){const i=Object.assign({message:t},n);u.UNITY_WEB_DEBUG&&console.error(i),this.logger.report_event("unity_failure",i),e&&e.close()}_is_connection_in_progress(e){return e===f.PENDING||e===f.RETRYING}add_on_open_callback(e){this._on_open_callbacks.push(e)}add_on_open_failed_callback(e){this._on_open_failed_callbacks.push(e)}add_on_close_callback(e){this._on_close_callbacks.push(e)}call_when_ready(e,t=null){return this.is_ready()?e():this._is_connection_in_progress(this._connection_state)?this._pending_callbacks.push({callback:e,error_callback:t}):t?t(r.UnityConnectionError.CONNECTION_CLOSED):void 0}is_ready(){return this._webSocket&&this._webSocket.readyState===WebSocket.OPEN&&this._connection_state===f.ESTABLISHED}feature_supported(e,t=[]){return _.assert(null!==this._permission_level,"Connection is not ready."),!(null!==this.client_version&&this.client_version<e)&&t.includes(this._permission_level)}}t.UnityConnection=g,g.SECURE_PERMISSION=h.SECURE_PERMISSION,g.INSECURE_WEB_PERMISSION=h.INSECURE_WEB_PERMISSION,g.INSECURE_CLIENT_PERMISSION=h.INSECURE_CLIENT_PERMISSION,g.INSECURE_PERMISSION=h.INSECURE_PERMISSION;t.isUnitySupported=()=>c.UnityWebSocket.web_sockets_supported()})),define("metaserver/static/js/modules/clean/unity/connection_error",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnityConnectionError=void 0,(function(e){e.CONNECTION_TIMEOUT="connection_timeout",e.CONNECTION_CLOSED="connection_closed",e.COULD_NOT_SEND="could_not_send",e.UNEXPECTED_ERROR="unexpected_error"})(t.UnityConnectionError||(t.UnityConnectionError={}))})),define("metaserver/static/js/modules/clean/unity/features",["require","exports","tslib","metaserver/static/js/deprecated_ajax/ajax_jquery","metaserver/static/js/modules/clean/filepath/filepath","metaserver/static/js/modules/clean/unity/connection","metaserver/static/js/modules/clean/unity/versions","metaserver/static/js/modules/core/assert","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/core/notify","metaserver/static/js/modules/core/uri"],(function(e,t,n,i,s,r,a,o,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnityFeatures=void 0,i=n.__importStar(i),s=n.__importStar(s),a=n.__importDefault(a),t.UnityFeatures={_uc:new r.UnityConnection,_has_handshake_started:!1,_cached_file_browser_display_name:null,_start_handshake_if_needed(){this._has_handshake_started||(this._uc.start(),this._has_handshake_started=!0)},continue_as_user(e,t,n,i=null){return this._start_handshake_if_needed(),this._uc.call_when_ready(()=>{if(this._uc.feature_supported(a.default.WEB_DESTINY,[r.UnityConnection.INSECURE_WEB_PERMISSION]))return this._uc.logger.report_event("continue_as_user",{browser:e,refresh_token:t}),this._uc.send("continue_as_user",{browser:e,refresh_token:t},n,i)},i)},continue_as_user_direct(e,t=null){return this._start_handshake_if_needed(),this._uc.call_when_ready(()=>{if(this._uc.feature_supported(a.default.WEB_DESTINY_V2,[r.UnityConnection.INSECURE_WEB_PERMISSION]))return this._uc.logger.report_event("continue_as_user_direct"),this._uc.send("continue_as_user_direct",null,e,t)},t)},web_destiny_info(e,t=null){return this._start_handshake_if_needed(),this._uc.call_when_ready(()=>{if(this._uc.feature_supported(a.default.WEB_DESTINY_V2,[r.UnityConnection.INSECURE_WEB_PERMISSION]))return this._uc.logger.report_event("web_destiny_info"),this._uc.send("web_destiny_info",null,e,t)},t)},client_supports_open_in_file_browser(){return this._uc.feature_supported(a.default.OPEN_IN_FILE_BROWSER,[r.UnityConnection.SECURE_PERMISSION])},ensure_unity_ready(){return this._start_handshake_if_needed(),new Promise(e=>this._uc.call_when_ready(()=>{e(!0)},()=>{this._uc=new r.UnityConnection,this._has_handshake_started=!1,e(!1)}))},open_file(e,t,n,l,c=null,u=!1){this._start_handshake_if_needed();const _=this.server_path(e,t);return this._uc.call_when_ready(()=>{if(this._uc.feature_supported(a.default.UNITY_HANDSHAKE,[r.UnityConnection.SECURE_PERMISSION])){this._uc.logger.report_event("open_file",{user_id:n,path_id:_,file_extension:s.file_extension(_),in_file_browser:u}),i.SilentBackgroundRequest({url:new d.URI({path:"/unity_open_log"}),data:{user_id:n,server_path:_,file_extension:s.file_extension(_),in_file_browser:u,unity_session_id:this._uc.logger.unity_session_id(),buildno:this._uc.logger._data.buildno,host_id:this._uc.logger._data.host_id}});const e={server_path:_,user_id:n};this._uc.client_version>=a.default.OPEN_IN_FILE_BROWSER?e.in_file_browser=u:o.assert(!u,"The connected client doesn't support opening in file browser."),this._uc.send("open_file",e,l,c)}},c)},standard_open_file_handler(e){if(!e)return c.Notify.error(l.intl.formatMessage({id:"9HWjA9",defaultMessage:"Error opening file"}))},check_file(e,t,n,i,o=null){this._start_handshake_if_needed();const l=this.server_path(e,t),c=e=>{this._check_file_deprecated_on_client()&&(e={is_locally_available:e}),i(e)};this._uc.call_when_ready(()=>{if(this._uc.feature_supported(a.default.UNITY_HANDSHAKE,[r.UnityConnection.SECURE_PERMISSION]))return this._uc.logger.report_event("check_file",{user_id:n,path_id:l,file_extension:s.file_extension(l)}),this._uc.send("check_file",{server_path:l,user_id:n},c,o)},o)},add_on_ready_callback(e){return this._uc.call_when_ready(e)},check_file_batch(e,t,n,i=null){return new Promise((o,l)=>{this._start_handshake_if_needed();const c=e.map(e=>this.server_path(e.ns_id,e.ns_path)),d=e=>{if(this._check_file_deprecated_on_client())for(const t in e){const n=e[t];e[t]={is_locally_available:n}}n&&n(e),o(e)},u=function(e){i&&i(e),l(e)};this._uc.call_when_ready(()=>{if(this._uc.feature_supported(a.default.UNITY_HANDSHAKE,[r.UnityConnection.SECURE_PERMISSION]))return this._uc.logger.report_event("check_file_batch",{user_id:t,path_ids:c,file_extensions:c.map(s.file_extension)}),this._uc.send("check_file_batch",{server_paths:c,user_id:t},d,u)},u)})},file_browser_display_name(e,t=null){if(null!=this._cached_file_browser_display_name)return void e(this._cached_file_browser_display_name);const n=t=>(this._cached_file_browser_display_name=t,e(t));this._start_handshake_if_needed();return this._uc.call_when_ready(()=>this._uc.feature_supported(a.default.CHECK_FILE_RETURNS_OBJ,[r.UnityConnection.SECURE_PERMISSION])?(this._uc.logger.report_event("file_browser_display_name"),this._uc.send("file_browser_display_name",null,n,t)):e(null),t)},_check_file_deprecated_on_client(){return a.default.UNITY_HANDSHAKE<=this._uc.client_version&&this._uc.client_version<a.default.CHECK_FILE_RETURNS_OBJ},server_path:(e,t)=>`${e}:${t}`,has_chime(e,t=null){this._start_handshake_if_needed();return this._uc.call_when_ready(()=>{if(this._uc.feature_supported(a.default.CHIME_OPEN,[r.UnityConnection.SECURE_PERMISSION]))return this._uc.logger.report_event("has_chime"),this._uc.send("has_chime",null,e,t)},t)},open_chime(e,t,n=null){this._start_handshake_if_needed();return this._uc.call_when_ready(()=>{if(this._uc.feature_supported(a.default.CHIME_OPEN,[r.UnityConnection.SECURE_PERMISSION]))return this._uc.logger.report_event("open_chime",{parameters:e}),this._uc.send("open_chime",e,t,n)},n)},growth_deep_link(e,t={}){return new Promise((n,i)=>{this._start_handshake_if_needed(),this._uc.call_when_ready(()=>{if(this._uc.feature_supported(a.default.GROWTH_DEEP_LINK,[r.UnityConnection.SECURE_PERMISSION]))return this._uc.logger.report_event("growth_deep_link"),this._uc.send("growth_deep_link",{resource:e,data:t},n,i);i("featured_unsupported")},i)})},can_open_apollo(){return new Promise((e,t)=>(this._start_handshake_if_needed(),this._uc.call_when_ready(()=>{this._uc.feature_supported(a.default.OPEN_COLLAB_BROWSE,[r.UnityConnection.SECURE_PERMISSION,r.UnityConnection.INSECURE_WEB_PERMISSION])&&this._uc.send("can_open_apollo",{},e,t)},t)))},open_apollo_main_window(){return new Promise((e,t)=>(this._start_handshake_if_needed(),this._uc.call_when_ready(()=>{this._uc.feature_supported(a.default.OPEN_COLLAB_BROWSE,[r.UnityConnection.SECURE_PERMISSION,r.UnityConnection.INSECURE_WEB_PERMISSION])&&this._uc.send("open_apollo_main_window",{},e,t)},t)))},isUnitySupported:()=>r.isUnitySupported()};const u=r.isUnitySupported()?t.UnityFeatures:void 0;t.default=u})),define("metaserver/static/js/modules/clean/unity/logger",["require","exports","tslib","metaserver/static/js/deprecated_ajax/ajax_jquery","metaserver/static/js/modules/clean/unity/versions","metaserver/static/js/modules/constants/unity","metaserver/static/js/modules/core/uri"],(function(e,t,n,i,s,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=n.__importStar(i),s=n.__importDefault(s),r=n.__importStar(r);t.default=class{constructor(){this._data={logging_source:"web",web_unity_version:s.default.LATEST}}update(e){return this._data=Object.assign(Object.assign({},this._data),e),this._data}report_event(e,t=null){if(this._data.event_name=e,this._data.local_ts=(new Date).getTime()/1e3,this._data.extra=JSON.stringify(t||{}),i.SilentBackgroundRequest({url:new a.URI({path:"/unity_connection_log"}),data:this._data}),r.UNITY_WEB_DEBUG)return console.log(this._data)}get_log_data_for_client(){return{web_unity_version:this._data.web_unity_version,user_agent:window.navigator.userAgent}}unity_session_id(){return this._data.unity_session_id}}})),define("metaserver/static/js/modules/clean/unity/versions",["require","exports"],(function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e[e.LATEST=16]="LATEST",e[e.INITIAL_UNITY=1]="INITIAL_UNITY",e[e.UNITY_HANDSHAKE=2]="UNITY_HANDSHAKE",e[e.REUNITY=3]="REUNITY",e[e.OPEN_IN_FILE_BROWSER=4]="OPEN_IN_FILE_BROWSER",e[e.CHECK_FILE_RETURNS_OBJ=5]="CHECK_FILE_RETURNS_OBJ",e[e.PERMISSION_LEVELS=6]="PERMISSION_LEVELS",e[e.WEB_DESTINY=7]="WEB_DESTINY",e[e.WEB_DESTINY_V2=8]="WEB_DESTINY_V2",e[e.PORT_CHECK=9]="PORT_CHECK",e[e.CHIME_OPEN=10]="CHIME_OPEN",e[e.GROWTH_DEEP_LINK=15]="GROWTH_DEEP_LINK",e[e.OPEN_COLLAB_BROWSE=16]="OPEN_COLLAB_BROWSE"})(n||(n={})),t.default=n})),define("metaserver/static/js/modules/clean/unity/web_socket",["require","exports","tslib","metaserver/static/js/modules/clean/unity/logger","metaserver/static/js/modules/clean/unity/websocket_config"],(function(e,t,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnityWebSocket=void 0,i=n.__importDefault(i),t.UnityWebSocket={create(e){const t=new i.default;return s.WebSocketConfig.canUnityConnect()&&t.report_event("using_default_web_socket"),new WebSocket(e)},web_sockets_supported:()=>s.WebSocketConfig.canUnityConnect()}})),define("metaserver/static/js/modules/clean/unity/websocket_config",["require","exports","tslib","metaserver/static/js/modules/core/browser_detection"],(function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketConfig=void 0,i=n.__importStar(i),t.WebSocketConfig={canUnityConnect:()=>t.WebSocketConfig.canBrowserSupportNonSecureWebsocket(),canBrowserSupportNonSecureWebsocket(){const e=parseInt(i.version,10);return!!(i.safari&&e<9)||(!!(i.mozilla&&e>=55)||(!!(i.chrome&&e>=53)||!!i.edgeChromium()))}},t.default=t.WebSocketConfig})),define("spectrum-sharing/utils/logging",["require","exports"],(function(e,t){"use strict";var n,i,s,r,a,o,l;Object.defineProperty(t,"__esModule",{value:!0}),t.TeamsWebEventName=t.LinkKeyTypes=t.LinkTypes=t.AccessType=t.ScreenName=t.SettingsTabName=t.ShareTabName=t.TiburonEventName=void 0,(n=t.TiburonEventName||(t.TiburonEventName={})).AttemptTargetValidation="ATTEMPT_TARGET_VALIDATION",n.BeginShareFlow="BEGIN_SHARE_FLOW",n.ClickManageAccess="CLICK_MANAGE_ACCESS",n.SelectChangeMemberPermission="SELECT_CHANGE_MEMBER_PERMISSION",n.SucceedChangeMemberPermission="SUCCEED_CHANGE_MEMBER_PERMISSION",n.FailChangeMemberPermission="FAIL_CHANGE_MEMBER_PERMISSION",n.AttemptCreateSharedLinkWithSettings="ATTEMPT_CREATE_SHARED_LINK_WITH_SETTINGS",n.SucceedCreateSharedLinkWithSettings="SUCCEED_CREATE_SHARED_LINK_WITH_SETTINGS",n.FailCreateSharedLinkWithSettings="FAIL_CREATE_SHARED_LINK_WITH_SETTINGS",n.ClickTibCopyLink="CLICK_TIB_COPY_LINK",n.ClickTibCreateLink="CLICK_TIB_CREATE_LINK",n.ClickInbandShareButton="CLICK_INBAND_SHARE_BUTTON",n.CopySharedLink="COPY_SHARED_LINK",n.CopySharedLinkFailure="COPY_SHARED_LINK_FAILURE",n.ElementClick="ELEMENT_CLICK",n.ElementView="ELEMENT_VIEW",n.FailInbandShare="FAIL_INBAND_SHARE",n.InconclusiveInbandShare="INCONCLUSIVE_INBAND_SHARE",n.FailTargetValidation="FAIL_TARGET_VALIDATION",n.MemberListLoaded="MEMBER_LIST_LOADED",n.OpenFileSettingsModal="OPEN_FILE_SETTINGS_MODAL",n.OpenFolderSettingsModal="OPEN_FOLDER_SETTINGS_MODAL",n.OpenLinkSettingsModal="OPEN_LINK_SETTINGS_MODAL",n.OpenParentFolderAccessModal="OPEN_PARENT_FOLDER_ACCESS_MODAL",n.ShareModalEmailUnverified="SHARE_MODAL_EMAIL_UNVERIFIED",n.SucceedInbandShare="SUCCEED_INBAND_SHARE",n.SucceedTargetValidation="SUCCEED_TARGET_VALIDATION",n.ViewLinkOnlyModal="VIEW_LINK_ONLY_MODAL",n.ViewShareModal="VIEW_SHARE_MODAL",n.AttemptTargetSearch="ATTEMPT_TARGET_SEARCH",n.SucceedTargetSearch="SUCCEED_TARGET_SEARCH",n.FailTargetSearch="FAIL_TARGET_SEARCH",n.AttemptNavigateAwayDuringShare="ATTEMPT_NAVIGATE_AWAY_DURING_SHARE",n.SucceedNavigateAwayDuringShare="SUCCEED_NAVIGATE_AWAY_DURING_SHARE",n.AttemptRemoveAllMembers="ATTEMPT_REMOVE_ALL_MEMBERS",n.SucceedRemoveAllMembers="SUCCEED_REMOVE_ALL_MEMBERS",n.FailRemoveAllMembers="FAIL_REMOVE_ALL_MEMBERS",n.AttemptRemoveMember="ATTEMPT_REMOVE_MEMBER",n.SucceedRemoveMember="SUCCEED_REMOVE_MEMBER",n.FailRemoveMember="FAIL_REMOVE_MEMBER",n.AttemptUpdateFolderPolicy="ATTEMPT_UPDATE_FOLDER_POLICY",n.SucceedUpdateFolderPolicy="SUCCEED_UPDATE_FOLDER_POLICY",n.FailUpdateFolderPolicy="FAIL_UPDATE_FOLDER_POLICY",n.AttemptDeleteSharedLink="ATTEMPT_DELETE_SHARED_LINK",n.SucceedDeleteSharedLink="SUCCEED_DELETE_SHARED_LINK",n.FailDeleteSharedLink="FAIL_DELETE_SHARED_LINK",n.ChangeSharedLinkAudience="CHANGE_SHARED_LINK_AUDIENCE",n.ClickShareButtonLinkSettingsStatus="CLICK_SHARE_BUTTON_LINK_SETTINGS_STATUS",n.ClickSettingsText="CLICK_SETTINGS_TEXT",n.ClickSettingsGear="CLICK_SETTINGS_GEAR",n.CloseShareModal="CLOSE_SHARE_MODAL",n.ViewManageAccessScreen="VIEW_MANAGE_ACCESS_SCREEN",n.ViewSettingsScreen="VIEW_SETTINGS_SCREEN",n.ViewShareScreen="VIEW_SHARE_SCREEN",n.ViewShareTab="VIEW_SHARE_TAB",n.ViewSettingsTab="VIEW_SETTINGS_TAB",(i=t.ShareTabName||(t.ShareTabName={})).EditTab="edit_tab",i.ViewTab="view_tab",(s=t.SettingsTabName||(t.SettingsTabName={})).FileSettingsTab="file_settings",s.FolderSettingsTab="folder_settings",s.EditLinkSettingsTab="edit_link_settings",s.ViewLinkSettingsTab="view_link_settings",(r=t.ScreenName||(t.ScreenName={})).ShareScreen="share_screen",r.ManageAccessScreen="manage_access_screen",r.SettingsScreen="settings_screen",(a=t.AccessType||(t.AccessType={})).Editor="editor",a.Viewer="viewer",(o=t.LinkTypes||(t.LinkTypes={}))[o.NONE=0]="NONE",o.Righteous="righteous",o.Shmodel="shmodel",(l=t.LinkKeyTypes||(t.LinkKeyTypes={}))[l.NONE=0]="NONE",l.RL="rlkey",l.SH="tkey",(t.TeamsWebEventName||(t.TeamsWebEventName={})).ImportContactsComplete="import_contacts_complete"})),define("metaserver/static/js/share_download/ui/copy_to_dropbox/actions",["require","exports","tslib","metaserver/static/js/share_download/ui/copy_to_dropbox/api","metaserver/static/js/modules/core/browser"],(function(e,t,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copySharedFile=void 0,i=n.__importStar(i),s=n.__importStar(s),t.copySharedFile=function(e,t){return n.__awaiter(this,void 0,void 0,(function*(){const n=yield i.copySharedFile(e,t);s.redirect(n)}))}})),define("metaserver/static/js/share_download/ui/copy_to_dropbox/copy_to_dropbox_modal",["require","exports","tslib","react","metaserver/static/js/modules/clean/analytics","metaserver/static/js/modules/clean/em_string","metaserver/static/js/share_download/ui/copy_to_dropbox/actions","metaserver/static/js/share_download/ui/copy_to_dropbox/copy_to_dropbox_renamer","metaserver/static/js/share_download/ui/copy_to_dropbox/copy_to_dropbox_location_picker","metaserver/static/js/modules/core/i18n","dig-components/buttons","dig-components/modal","metaserver/static/js/share_download/ui/utils","metaserver/static/js/modules/core/notify","metaserver/static/js/loggers/folder_preview_logger","metaserver/static/js/modules/clean/react/file_viewer/constants","metaserver/static/js/modules/clean/sharing/ui_notifications_util"],(function(e,t,n,i,s,r,a,o,l,c,d,u,_,m,p,f,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToDropboxRenamingLocationModal=void 0,i=n.__importDefault(i);t.CopyToDropboxRenamingLocationModal=({shareToken:e,copyable:t,user:n,onDismiss:g,onAccept:E,folderPreviewSession:v})=>{const[S,b]=i.default.useState(!0),[y,I]=i.default.useState("");i.default.useEffect(()=>{s.WebMiscActivityLogger.log("show-c2d-modal")},[]);const T=_.getCopyableName(t);return i.default.createElement(u.Modal,{open:S},i.default.createElement(u.Modal.Header,{hasBottomSpacing:"title-standard"},i.default.createElement(u.Modal.Title,null,c.intl.formatMessage({id:"oJTqsC",defaultMessage:"Change folder name and location?"},{name:r.Emstring.em_snippet(T,15)}))),i.default.createElement(u.Modal.Body,{hasVerticalSpacing:!0},i.default.createElement(o.CopyToDropboxRenamer,{name:T,setError:I}),i.default.createElement(l.CopyToDropboxLocationPicker,{user:n})),i.default.createElement(u.Modal.Footer,null,i.default.createElement(d.Button,{variant:"opacity",onClick:()=>{null==g||g(),v&&p.logEvent(f.UserAction.SaveToDropboxCancel,v),b(!1)}},c.intl.formatMessage({id:"gCHIo+",defaultMessage:"Just go to folder"})),i.default.createElement(d.Button,{variant:"primary",onClick:()=>{if(y)h.failSnackbarWithHelpCenter(y,"https://help.dropbox.com/files-folders/sort-preview/file-names");else{null==E||E();const t=c.intl.formatMessage({id:"5NN7Lp",defaultMessage:"Saving to your Dropbox..."});m.Notify.success(t),a.copySharedFile(e,n.id),v&&p.logEvent(f.UserAction.SaveToDropboxApprove,v),b(!1)}},disabled:!!y},c.intl.formatMessage({id:"ScnDj9",defaultMessage:"Save changes"}))))},t.CopyToDropboxRenamingLocationModal.displayName="CopyToDropboxRenamingLocationModal"})),define("metaserver/static/js/share_download/ui/copy_to_dropbox/copy_to_dropbox_renamer",["require","exports","tslib","react","dig-components/text_fields","dig-components/typography","metaserver/static/js/modules/core/i18n"],(function(e,t,n,i,s,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToDropboxRenamer=void 0,i=n.__importDefault(i);t.CopyToDropboxRenamer=({name:e,setError:t})=>{const[n,o]=i.default.useState(!1),l=a.intl.formatMessage({id:"48fka+",defaultMessage:"Remove “/”, “\\”, and emoji characters."}),c=a.intl.formatMessage({id:"ynAdKz",defaultMessage:"Max 255 characters."}),d=i.default.useCallback(e=>(e=>e.length>255)(e)?c:(e=>-1!==e.indexOf("/")||-1!==e.indexOf("\\"))(e)?l:"",[c,l]);return i.default.createElement("div",null,i.default.createElement(r.Text,{variant:"label",isBold:!0},a.intl.formatMessage({id:"JooWfa",defaultMessage:"Name"})),i.default.createElement(s.TextInput,{placeholder:e,isInvalid:n,onChange:e=>{const i=e.target.value,s=d(i);t(s),s?o(!0):!0===n&&o(!1)}}))},t.CopyToDropboxRenamer.displayName="CopyToDropboxRenamer"})),define("metaserver/static/js/share_download/ui/copy_to_dropbox/copy_to_dropbox_location_picker",["require","exports","tslib","react","metaserver/static/js/modules/clean/react/tree_view","metaserver/static/js/modules/clean/viewer","dig-components/typography","metaserver/static/js/modules/core/i18n"],(function(e,t,n,i,s,r,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToDropboxLocationPicker=void 0,i=n.__importDefault(i);t.CopyToDropboxLocationPicker=({user:e})=>{const t=o.intl.formatMessage({id:"rLmkyk",defaultMessage:"Dropbox"});return i.default.createElement("div",null,i.default.createElement(a.Text,{variant:"label",isBold:!0},o.intl.formatMessage({id:"8jZXf7",defaultMessage:"Location"})),i.default.createElement(s.UserFolderTreeView,{user:e,onFolderSelected:(e,t)=>{},is_paired:r.Viewer.get_viewer().is_paired,treeRootName:t}))},t.CopyToDropboxLocationPicker.displayName="CopyToDropboxLocationPicker"})),define("metaserver/static/js/share_download/ui/copy_to_dropbox/modal",["require","exports","tslib","react","metaserver/static/js/modules/clean/analytics","metaserver/static/js/modules/clean/em_string","metaserver/static/js/modules/clean/filepath/filepath","metaserver/static/js/share_download/ui/copy_to_dropbox/actions","dig-components/buttons","dig-components/modal","metaserver/static/js/modules/clean/share_download/types","metaserver/static/js/share_download/ui/utils","metaserver/static/js/modules/clean/viewer","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/core/notify","metaserver/static/js/loggers/folder_preview_logger","metaserver/static/js/modules/clean/react/file_viewer/constants"],(function(e,t,n,i,s,r,a,o,l,c,d,u,_,m,p,f,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToDropboxModal=void 0,i=n.__importDefault(i),a=n.__importStar(a);class g extends i.default.Component{constructor(e){super(e),this.handleAccept=()=>{var e,t;null===(t=(e=this.props).onAccept)||void 0===t||t.call(e);const n=(function(e){const t=_.Viewer.get_viewer();if(t.is_paired)switch(e){case"personal":return m.intl.formatMessage({id:"t88rzz",defaultMessage:"Saving to your personal Dropbox..."});case"work":return m.intl.formatMessage({id:"85Xqre",defaultMessage:"Saving to your {team_name} Dropbox..."},{team_name:t.team_name})}return m.intl.formatMessage({id:"5NN7Lp",defaultMessage:"Saving to your Dropbox..."})})(this.props.role);p.Notify.success(n),o.copySharedFile(this.props.shareToken,this.props.userId),this.props.folderPreviewSession&&f.logEvent(h.UserAction.SaveToDropboxApprove,this.props.folderPreviewSession),this.setState({open:!1})},this.handleDismiss=()=>{var e,t;null===(t=(e=this.props).onDismiss)||void 0===t||t.call(e),this.props.folderPreviewSession&&f.logEvent(h.UserAction.SaveToDropboxCancel,this.props.folderPreviewSession),this.setState({open:!1})},this.state={open:!0}}componentDidMount(){s.WebMiscActivityLogger.log("show-c2d-modal")}render(){const{copyable:e,role:t}=this.props,n=u.getCopyableName(e),s=u.getCopyableType(e);return i.default.createElement(c.Modal,{open:this.state.open,className:"copy-to-dropbox-modal"},i.default.createElement(c.Modal.Header,{hasBottomSpacing:"title-standard"},i.default.createElement(c.Modal.Title,{className:"copy-to-dropbox-modal-title"},(function(e,t){const n=_.Viewer.get_viewer(),i=n.get_user_by_role(t);if(i&&i.is_cdm_member)return m.intl.formatMessage({id:"zjOueW",defaultMessage:"Save to your member folder?"});if(n.is_paired)switch(t){case"personal":return m.intl.formatMessage({id:"00nqoS",defaultMessage:"Save to your personal Dropbox account?"});case"work":{const t=n.team_name,i=new r.Emstring(t||"").length,s=Math.max(10,15-i);return m.intl.formatMessage({id:"r4Ywvk",defaultMessage:"Save ‘{name}’ to my {team_name} Dropbox"},{name:r.Emstring.em_snippet(e,s),team_name:t})}}return m.intl.formatMessage({id:"zQuTVM",defaultMessage:"Save ‘{name}’ to my Dropbox"},{name:r.Emstring.em_snippet(e,15)})})(n,t))),i.default.createElement(c.Modal.Body,{className:"copy-to-dropbox-modal-body"},(function(e,t,n){const s=_.Viewer.get_viewer(),o=s.get_user_by_role(t);if(e=r.Emstring.em_snippet(e,15),o&&o.is_cdm_member)return m.intl.formatMessage({id:"gkPIfL",defaultMessage:"<strong>{name}</strong> will be saved to the <strong>{cdm_tmf_name}</strong> folder in your {team_name} Dropbox account."},{name:e,cdm_tmf_name:a.filename(o.cdm_tmf_path),team_name:s.team_name,strong:e=>i.default.createElement("strong",null,e)});if(s.is_paired)switch(t){case"personal":return m.intl.formatMessage({id:"3jWVWV",defaultMessage:"<strong>{name}</strong> will be saved to your personal Dropbox account and synced to any connected devices."},{name:e,strong:e=>i.default.createElement("strong",null,e)});case"work":switch(n){case d.CopyableType.Collection:return m.intl.formatMessage({id:"ECKq7R",defaultMessage:"Files will be instantly saved to your {team_name} Dropbox and downloaded to all the computers linked to your {team_name} account."},{team_name:s.team_name});case d.CopyableType.Folder:return m.intl.formatMessage({id:"NvybH5",defaultMessage:"This folder will be instantly saved to your {team_name} Dropbox and downloaded to all the computers linked to your {team_name} account."},{team_name:s.team_name});default:return m.intl.formatMessage({id:"EFSpqC",defaultMessage:"This file will be instantly saved to your {team_name} Dropbox and downloaded to all the computers linked to your {team_name} account."},{team_name:s.team_name})}}switch(n){case d.CopyableType.Collection:return m.intl.formatMessage({id:"cP3HHk",defaultMessage:"Files will be instantly saved to your Dropbox and downloaded to all the computers linked to your account."});case d.CopyableType.Folder:return m.intl.formatMessage({id:"dt8MMJ",defaultMessage:"This folder will be instantly saved to your Dropbox and downloaded to all the computers linked to your account."});default:return m.intl.formatMessage({id:"V1hruZ",defaultMessage:"This file will be instantly saved to your Dropbox and downloaded to all the computers linked to your account."})}})(n,t,s)),i.default.createElement(c.Modal.Footer,null,i.default.createElement(l.Button,{variant:"opacity",onClick:this.handleDismiss},m.intl.formatMessage({id:"Ud6Avu",defaultMessage:"Cancel"})),i.default.createElement(l.Button,{className:"copy-to-dropbox-modal-primary-button",variant:"primary",onClick:this.handleAccept},m.intl.formatMessage({id:"9aiQNT",defaultMessage:"Save"}))))}}t.CopyToDropboxModal=g,g.displayName="CopyToDropboxModal"})),define("metaserver/static/js/share_download/ui/actions",["require","exports","tslib","react","metaserver/static/js/auth/login_or_register/types","metaserver/static/js/modules/clean/analytics","metaserver/static/js/modules/clean/downloads","metaserver/static/js/share_download/ui/copy_to_dropbox/modal","metaserver/static/js/share_download/ui/copy_to_dropbox/copy_to_dropbox_modal","metaserver/static/js/components/ui/modal","metaserver/static/js/share_download/ui/api","metaserver/static/js/share_download/ui/api","metaserver/static/js/modules/core/persistence/storage","metaserver/static/js/modules/clean/viewer","metaserver/static/js/modules/core/assert","metaserver/static/js/modules/core/browser","metaserver/static/js/modules/core/exception","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/core/notify","spectrum-sharing/utils/sharing_constants"],(function(e,t,n,i,s,r,a,o,l,c,d,u,_,m,p,f,h,g,E,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authModalHelpers=t.toDropbox=t.direct=void 0,i=n.__importDefault(i),a=n.__importStar(a),d=n.__importStar(d),f=n.__importStar(f),t.direct=function(e,i,s,r,o){return n.__awaiter(this,void 0,void 0,(function*(){const{downloadTestUrl:n,url:l}=e;if(s||h.reportException({err:new Error("No encryption options provided for direct download action"),severity:"non-critical",tags:["sharing-encryption-options"]}),yield t.authModalHelpers.authenticateForDownload(i||null,s),n)try{yield d.testDownload(n,r)}catch(e){return void(e instanceof u.TooLargeError?E.Notify.error(g.intl.formatMessage({id:"pcsTpL",defaultMessage:"The zip file is too large."})):E.Notify.error(g.intl.formatMessage({id:"pllUQE",defaultMessage:"Failed to download zip file."})))}try{const e=yield d.fetchDownloadUrl(l,r,o);a.get({url:e})}catch(e){E.Notify.error(g.intl.formatMessage({id:"6OUwIN",defaultMessage:"Failed to download."}))}}))},t.toDropbox=function(e,s,a,d,u,_,g,E,S){return n.__awaiter(this,void 0,void 0,(function*(){let n,b=!1;const y=f.get_href(),I=e.linkType===v.SharedLinkType.Content?r.ShareTibEventLogger.get_scl_extra_for_logging(e,y,null==_?void 0:_.ns_id):r.ShareTibEventLogger.get_shmodel_extra_for_logging(e,y);if("anonymous"===a)u||h.reportException({err:new Error("No encryption options provided for anonymous sharing action"),severity:"non-critical",tags:["sharing-encryption-options"]}),r.ShareTibEventLogger.log_unauth("VIEW_AUTH_PAGE",v.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,I),n=yield t.authModalHelpers.authenticateForSaveToDropbox(e.linkType,u,I),b=!0;else{n=d?d.id:-1,p.assert(-1!==n,"role isn't anonymous => user cannot be null or undefined!"),m.Viewer.get_viewer().is_user_signed_in(d)||(u||h.reportException({err:new Error("No encryption options provided for multiaccount sharing action"),severity:"non-critical",tags:["sharing-encryption-options"]}),r.ShareTibEventLogger.log_unauth("VIEW_AUTH_PAGE",v.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,I),yield t.authModalHelpers.doMultiAccountAuthentication(a,u))}const T=()=>{null==S||S(),b&&f.reload()},N=()=>{null==E||E()};"ON"===g?c.Modal.showInstance(i.default.createElement(l.CopyToDropboxRenamingLocationModal,{shareToken:e,copyable:s,user:d,onDismiss:T,onAccept:N,folderPreviewSession:_})):c.Modal.showInstance(i.default.createElement(o.CopyToDropboxModal,{shareToken:e,copyable:s,userId:n,role:a,onDismiss:T,onAccept:N,folderPreviewSession:_}))}))},t.authModalHelpers={authenticateForDownload:(t,r)=>t!==s.LoginOrRegisterKind.DOWNLOAD||_.LocalStorage.get("has_seen_download_signup_modal")?Promise.resolve():new Promise((a,o)=>{const l=()=>{_.LocalStorage.set("has_seen_download_signup_modal",!0),a()},d=()=>{_.LocalStorage.set("has_seen_download_signup_modal",!0),o()};new Promise((t,n)=>{e(["metaserver/static/js/auth/login_or_register/modal"],t,n)}).then(n.__importStar).then(({LoginOrRegisterModal:e})=>{c.Modal.showInstance(i.default.createElement(e,{downloadAction:s.DownloadAction.DIRECT_DOWNLOAD,id:"shared-link-download-signup-modal",initialMode:s.Mode.REGISTER,kind:t,onAuthenticateSuccess:l,onCancel:d,signup_tag:"shmodel_download_register",encryptionOptions:r,loggingExtra:{source:"download_button"}}))})}),authenticateForSaveToDropbox:(t,r,a)=>{const o=t===v.SharedLinkType.Content?"shared_content_link_register":"shmodel_modal_register";return new Promise((t,l)=>{const d=e=>t(e.id);new Promise((t,n)=>{e(["metaserver/static/js/auth/login_or_register/modal"],t,n)}).then(n.__importStar).then(({LoginOrRegisterModal:e})=>{c.Modal.showInstance(i.default.createElement(e,{downloadAction:s.DownloadAction.SAVE_TO_DROPBOX,id:"shared-link-immediate-signup-modal",initialMode:s.Mode.REGISTER,kind:s.LoginOrRegisterKind.DOWNLOAD,onAuthenticateSuccess:d,onCancel:l,signup_tag:o,encryptionOptions:r,additionalLoginData:a,additionalRegisterData:a,loggingExtra:{source:"save_to_dropbox"}}))})})},doMultiAccountAuthentication:(t,s)=>new Promise((r,a)=>{new Promise((t,n)=>{e(["metaserver/static/js/auth/multi_account_login_modal"],t,n)}).then(n.__importStar).then(({MultiAccountLoginModal:e})=>{c.Modal.showInstance(i.default.createElement(e,{onAuthenticateSuccess:r,onCancel:a,role:t,encryptionOptions:s}))})})}})),define("metaserver/static/js/share_download/ui/models",["require","exports","tslib","immutable","react","metaserver/static/js/modules/clean/filepath/filepath","metaserver/static/js/modules/clean/react/file_viewer/constants","metaserver/static/js/share_download/ui/actions","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/core/exception","metaserver/static/js/flows/conversions/actions/unzip","metaserver/static/js/modules/clean/analytics","metaserver/static/js/modules/core/browser","spectrum-sharing/utils/sharing_constants"],(function(e,t,n,i,s,r,a,o,l,c,d,u,_,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShareDownloadActionOption=void 0,i=n.__importStar(i),s=n.__importDefault(s),r=n.__importStar(r),o=n.__importStar(o),_=n.__importStar(_);const p={text:void 0,handler:void 0,spriteName:void 0,isDisabled:void 0,userAction:void 0,role:void 0};class f extends(i.Record(p)){static buildDirectOption(e,t,i,s,r){i||c.reportException({err:new Error("No encryption options for building direct download option"),severity:"non-critical",tags:["sharing-encryption-options"]});let d={rlkey:r,encryptionType:null==i?void 0:i.type};const p=s===m.SharedLinkType.Content?u.ShareTibEventLogger.get_scl_extra_for_logging(void 0,_.get_href()):u.ShareTibEventLogger.get_shmodel_extra_for_logging(void 0,_.get_href());return d=Object.assign(Object.assign({},d),p),new f({text:l.intl.formatMessage({id:"n1Nx/q",defaultMessage:"Direct download"}),handler:()=>n.__awaiter(this,void 0,void 0,(function*(){u.ShareTibEventLogger.log_unauth("CLICK_DOWNLOAD",m.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,d),yield o.direct(e,t,i,r,m.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE)})),spriteName:"download_arrow",userAction:a.UserAction.Download})}static buildToDropboxOption(e,t,n,i,d,u=!1,_,m,p,h,g){_||c.reportException({err:new Error("No encryption options for building to dropbox option"),severity:"non-critical",tags:["sharing-encryption-options"]});let E=l.intl.formatMessage({id:"l/lvUk",defaultMessage:"Save to my Dropbox"}),v="dropbox",S=a.UserAction.SaveToDropbox;if(i&&i.is_cdm_member){const e=r.filename(i.cdm_tmf_path);E=e.length>12?l.intl.formatMessage({id:"QPvsZL",defaultMessage:"Save to my member folder"}):l.intl.formatMessage({id:"VIDWC/",defaultMessage:"Save to <strong>{cdm_tmf_name}</strong> folder"},{cdm_tmf_name:e,strong:e=>s.default.createElement("strong",null,e)}),n.is_paired&&(v="s_briefcase",S=a.UserAction.SaveToDropboxWork)}else if(n.is_paired)switch(d){case"personal":E=l.intl.formatMessage({id:"S5UJEB",defaultMessage:"Save to personal Dropbox"}),v="s_house",S=a.UserAction.SaveToDropboxPersonal;break;case"work":E=l.intl.formatMessage({id:"76AF1h",defaultMessage:"Save to {team_name} Dropbox"},{team_name:n.team_name}),v="s_briefcase",S=a.UserAction.SaveToDropboxWork}const b=()=>{this.logEvent("SAVE_TO_DROPBOX_CONFIRM",i,e,t),h&&h()},y=()=>{this.logEvent("SAVE_TO_DROPBOX_CANCEL",i,e,t),g&&g()};return new f({text:E,handler:()=>{this.logEvent("SAVE_TO_DROPBOX",i,e,t),o.toDropbox(e,t,d,i,_,m,p,b,y)},spriteName:v,isDisabled:u,userAction:S,role:d})}static extractToDropboxOption(e,t,n,i,s=!1){let o=l.intl.formatMessage({id:"IoJAyh",defaultMessage:"Extract to my Dropbox"});const c=a.UserAction.DecompressFile;if(e&&e.is_cdm_member){const t=r.filename(e.cdm_tmf_path);o=t.length>12?l.intl.formatMessage({id:"eN3/4H",defaultMessage:"Extract to my member folder"}):l.intl.formatMessage({id:"J+cK0b",defaultMessage:"Extract to {cdm_tmf_name} folder"},{cdm_tmf_name:t})}return new f({text:o,handler:()=>d.UnzipAction.convert([t],e,{shareToken:i}),spriteName:"dropbox",isDisabled:s,userAction:c,role:n})}}t.ShareDownloadActionOption=f,f.logEvent=(e,t,n,i)=>{let s={};"ns_id"in i&&"folder_id"in i&&(s=i.shared_folder_id||i.ns_id===i.folder_id?{ns_id:i.shared_folder_id||i.ns_id}:{content_id:i.folder_id});const r=n.linkType===m.SharedLinkType.Content?u.ShareTibEventLogger.get_scl_extra_for_logging(n):u.ShareTibEventLogger.get_shmodel_extra_for_logging(n);if(s=Object.assign(Object.assign({},s),r),null==t?void 0:t.id)u.ShareTibEventLogger.log(t.id,e,m.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,s);else{const t=_.get_href(),i=n.linkType===m.SharedLinkType.Content?u.ShareTibEventLogger.get_scl_extra_for_logging(void 0,t):u.ShareTibEventLogger.get_shmodel_extra_for_logging(void 0,t);s=Object.assign(Object.assign({},s),i),u.ShareTibEventLogger.log_unauth(e,m.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,s)}}})),define("metaserver/static/js/title_bar/overflow_menu",["require","exports","tslib","react","metaserver/static/js/modules/core/browser_detection","metaserver/static/js/modules/clean/react/title_bubble","metaserver/static/js/modules/core/i18n","dig-components/icons","dig-components/icons/src","spectrum/popover/index","spectrum/mobile_menu/index","metaserver/static/js/modules/clean/react/sticky_position"],(function(e,t,n,i,s,r,a,o,l,c,d,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopoverOrMobileItem=t.OverflowMenu=void 0,i=n.__importDefault(i);class _ extends i.default.Component{constructor(){super(...arguments),this.handlePopoverSelection=(e,t)=>e&&e(t)}render(){const{children:e,contentWrapperClassName:t,hideOnDisabled:n}=this.props,o=(function(e){const t=Array.isArray(e)?e.filter(e=>!!e):e;return null==e||Array.isArray(t)&&0===t.length})(e);return o&&n?null:s.is_mobile_or_tablet()?i.default.createElement(d.MobileMenu,{trigger:({openMobileMenu:e})=>i.default.createElement(m,{disabled:o,onClick:e})},e):i.default.createElement(c.Popover,{className:"more-button-popover",onSelection:this.handlePopoverSelection},i.default.createElement(c.PopoverTrigger,{"aria-label":a.intl.formatMessage({id:"oeNPkV",defaultMessage:"More actions"}),disabled:o},i.default.createElement(r.TitleBubble,{content:a.intl.formatMessage({id:"S6stj+",defaultMessage:"More"}),distanceFromTarget:10,isTargetPositionFixed:!0,position:u.StickyPosition.BOTTOM},i.default.createElement(m,{disabled:o}))),i.default.createElement("div",{className:t},i.default.createElement(c.PopoverContent,{attachment:"right",position:"below"},e)))}}function m({disabled:e,onClick:t}){return i.default.createElement("span",{"aria-label":a.intl.formatMessage({id:"S6stj+",defaultMessage:"More"}),className:"u-mar-left-xs more-button",onClick:t},i.default.createElement(o.UIIcon,{src:l.MoreHorizontalLine}))}t.OverflowMenu=_,_.displayName="OverflowMenu";class p extends i.default.Component{constructor(){super(...arguments),this.onSelect=e=>{s.is_mobile_or_tablet()&&e.preventDefault();const{onSelect:t}=this.props;return t&&t(e)}}render(){const e=s.is_mobile_or_tablet(),t=this.props,{onSelect:r}=t,a=n.__rest(t,["onSelect"]);return e?i.default.createElement(d.MobileMenuItem,Object.assign({onSelect:this.onSelect},a)):i.default.createElement(c.PopoverContentItem,Object.assign({value:this.onSelect},a))}}t.PopoverOrMobileItem=p,p.displayName="PopoverOrMobileItem"})),define("metaserver/static/js/modules/clean/share_download/types",["require","exports"],(function(e,t){"use strict";function n(e){return"ns_id"in e}Object.defineProperty(t,"__esModule",{value:!0}),t.isPendingEntry=t.isEntry=t.CopyableType=void 0,(function(e){e[e.Collection=0]="Collection",e[e.File=1]="File",e[e.Folder=2]="Folder"})(t.CopyableType||(t.CopyableType={})),t.isEntry=n,t.isPendingEntry=function(e){return n(e)&&null==e.ns_id}})),define("metaserver/static/js/share_download/ui/utils",["require","exports","metaserver/static/js/modules/clean/share_download/types"],(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCopyableType=t.getCopyableName=void 0,t.getCopyableName=function(e){return n.isEntry(e)?e.filename:e.name},t.getCopyableType=function(e){return n.isEntry(e)?e.is_dir?n.CopyableType.Folder:n.CopyableType.File:n.CopyableType.Collection}})),define("metaserver/static/js/modules/clean/shared_link/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEntrySharedFile=void 0,t.isEntrySharedFile=function(e){return"sjid"in e}})),define("spectrum/mobile_menu/index",["require","exports","tslib","spectrum/mobile_menu/mobile_menu","spectrum/mobile_menu/mobile_menu_close_button","spectrum/mobile_menu/mobile_menu_content","spectrum/mobile_menu/mobile_menu_item"],(function(e,t,n,i,s,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.__exportStar(i,t),n.__exportStar(s,t),n.__exportStar(r,t),n.__exportStar(a,t)})),define("metaserver/static/js/loggers/folder_preview_logger",["require","exports","tslib","metaserver/static/js/deprecated_ajax/ajax_jquery","metaserver/static/js/modules/constants/request","metaserver/static/js/modules/clean/react/previews/constants","metaserver/static/js/modules/clean/web_timing_logger","metaserver/static/js/modules/clean/uuid/uuid","metaserver/static/js/loggers/device_type","metaserver/static/js/perf_tools/web_timing_utils"],(function(e,t,n,i,s,r,a,o,l,c){"use strict";var d;function u(e){return+!!e}function _(e){return JSON.stringify(Object.assign(Object.assign({},e),{has_cached_data:u(e.has_cached_data),folder_preview_timeline:JSON.stringify(e.folder_preview_timeline),subfolder_nav_tracking:u(e.subfolder_nav_tracking),web_timing_data:JSON.stringify(e.web_timing_data)}))}function m(e){const t=Object.assign({},e.extra),n=window.performance.timing;return(null==n?void 0:n.fetchStart)&&(t.time_to_first_byte=n.responseStart-n.fetchStart,t.web_timing_data=n),{device_type:e.deviceType,folder_preview_session_id:e.id,folder_ns_id:e.ns_id||0,web_request_id:e.web_request_id,extra:_(t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.logEvent=t.markPrimaryEvent=t.createSession=t.EventType=void 0,i=n.__importStar(i),s=n.__importStar(s),(function(e){e.attempted="preview_attempted",e.renderSucceeded="render_succeeded",e.renderFailed="render_failed",e.ended="preview_session_ended",e.appDownloadInterstitialClose="app_download_interstitial_close",e.appDownloadInterstitialContinue="app_download_interstitial_continue",e.appDownloadInterstitialInstall="app_download_interstitial_install",e.appDownloadInterstitialView="app_download_interstitial_view",e.breadcrumbClicked="breadcrumb_clicked"})(d=t.EventType||(t.EventType={})),t.createSession=function({id:e=o.UUID.v4({allowInsecure:!0}),ns_id:t=0,deviceType:n=l.getDeviceType(),web_request_id:i=s.REQUEST_ID,source_action:d=r.PreviewSourceAction.Visit,subfolder_nav_tracking:u,has_cached_data:_,folder_id:m}={}){return{id:e,ns_id:t,web_request_id:i,deviceType:n,extra:{start_time:d===r.PreviewSourceAction.Visit?a.start_time():c.WebTimingUtil.getNow(),subfolder_nav_tracking:u,has_cached_data:_,source_action:d,folder_preview_timeline:{},folder_id:m}}},t.markPrimaryEvent=function(e){const{extra:t}=e;if(t.primary_mark_ts)return;const n=c.WebTimingUtil.getNow();t.primary_mark_ts=n;const{start_time:i}=t;i&&t.primary_mark_ts&&(t.time_to_primary_mark=t.primary_mark_ts-i)},t.logEvent=function(e,t){const{extra:{folder_preview_timeline:n}}=t,s=c.WebTimingUtil.getNow();if(!n.preview_session_ended_ts){switch(e){case d.attempted:if(n.preview_attempted_ts)return;n.preview_attempted_ts=s;break;case d.ended:if(n.preview_session_ended_ts)return;n.preview_session_ended_ts=s;break;case d.renderSucceeded:if(n.render_succeeded_ts)return;n.render_succeeded_ts=s;break;case d.renderFailed:if(n.render_failed_ts)return;n.render_failed_ts=s}return(function(e,t){return i.SilentBackgroundBeaconRequest({url:"/log/folder_preview",data:Object.assign(Object.assign({},m(t)),{event_name:e})})})(e,t)}}})),define("spectrum/backdrop/index",["require","exports","tslib","spectrum/backdrop/backdrop"],(function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.__exportStar(i,t)})),define("spectrum/backdrop/backdrop",["require","exports","tslib","classnames","react"],(function(e,t,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Backdrop=void 0,i=n.__importDefault(i),s=n.__importStar(s);t.Backdrop=e=>{var{className:t,isVisible:r}=e,a=n.__rest(e,["className","isVisible"]);return r?s.createElement("div",Object.assign({className:i.default("mc-backdrop",t)},a)):null},t.Backdrop.displayName="Backdrop"})),define("spectrum/mobile_menu/mobile_menu",["require","exports","tslib","react","classnames","focus-trap-react","spectrum/backdrop/index","spectrum/mobile_menu/mobile_menu_content","spectrum/mobile_menu/mobile_menu_close_button","spectrum/portal/index","spectrum/scroll_locker/index"],(function(e,t,n,i,s,r,a,o,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileMenu=void 0,i=n.__importStar(i),s=n.__importDefault(s),r=n.__importDefault(r);class u extends i.Component{constructor(){super(...arguments),this.initBodyPadding="0",this.state={isVisible:!1},this.openMobileMenu=()=>{this.initBodyPadding=d.getBodyPadding(),this.setState({isVisible:!0},d.lockScroll)},this.closeMobileMenu=()=>{this.setState({isVisible:!1},()=>d.unlockScroll(this.initBodyPadding))},this.handleKeyDown=e=>{const t=e.key;if("Escape"===t)return void this.closeMobileMenu();const n=e.target;if("ArrowUp"===t||"ArrowLeft"===t){const e=n.previousElementSibling;e&&e.focus()}if("ArrowDown"===t||"ArrowRight"===t){const e=n.nextElementSibling;e&&e.focus()}}}render(){const e=this.props,{children:t,className:d,closeButton:u,trigger:_}=e,m=n.__rest(e,["children","className","closeButton","trigger"]);return i.createElement("div",Object.assign({className:s.default("mc-mobile-menu",d)},m),_({openMobileMenu:this.openMobileMenu}),this.state.isVisible?i.createElement(c.Portal,{isShowInitially:!0},i.createElement(r.default,{focusTrapOptions:{returnFocusOnDeactivate:!0}},i.createElement("div",{className:"mc-mobile-menu-container",onKeyDown:this.handleKeyDown},i.createElement(a.Backdrop,{onClick:this.closeMobileMenu,isVisible:!0}),i.createElement(o.MobileMenuContent,{closeMobileMenu:this.closeMobileMenu},i.createElement("div",{className:"mc-mobile-menu-section"},t),i.createElement("div",{className:"mc-mobile-menu-section"},u?u({closeMobileMenu:this.closeMobileMenu}):i.createElement(l.MobileMenuCloseButton,null)))))):null)}}t.MobileMenu=u})),define("spectrum/mobile_menu/mobile_menu_close_button",["require","exports","tslib","react","spectrum/mobile_menu/mobile_menu_item"],(function(e,t,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileMenuCloseButton=void 0,i=n.__importStar(i);t.MobileMenuCloseButton=()=>i.createElement(s.MobileMenuItem,{className:"mc-mobile-menu-close-button",shouldCloseMenuOnSelect:!0},"Close"),t.MobileMenuCloseButton.displayName="MobileMenuCloseButton"})),define("spectrum/mobile_menu/mobile_menu_content",["require","exports","tslib","react","classnames","prop-types"],(function(e,t,n,i,s,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileMenuContent=void 0,i=n.__importStar(i),s=n.__importDefault(s),r=n.__importDefault(r);class a extends i.Component{getChildContext(){return{closeMobileMenu:this.props.closeMobileMenu}}render(){const e=this.props,{className:t,children:r,closeMobileMenu:a}=e,o=n.__rest(e,["className","children","closeMobileMenu"]);return i.createElement("div",Object.assign({className:s.default("mc-mobile-menu-content",t)},o),r)}}t.MobileMenuContent=a,a.childContextTypes={closeMobileMenu:r.default.func}})),define("spectrum/mobile_menu/mobile_menu_item",["require","exports","tslib","react","classnames","prop-types","react-touch-events"],(function(e,t,n,i,s,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileMenuItem=void 0,i=n.__importStar(i),s=n.__importDefault(s),r=n.__importDefault(r),a=n.__importDefault(a);class o extends i.Component{constructor(){super(...arguments),this.handleSelect=e=>{const{shouldCloseMenuOnSelect:t,shouldPreventDefaultOnSelectItem:n,onSelect:i}=this.props;t&&this.context.closeMobileMenu(),n&&e.preventDefault(),i&&i(e)}}render(){const e=this.props,{className:t,shouldCloseMenuOnSelect:r,children:o,onSelect:l,shouldPreventDefaultOnSelectItem:c}=e,d=n.__rest(e,["className","shouldCloseMenuOnSelect","children","onSelect","shouldPreventDefaultOnSelectItem"]);return i.createElement(a.default,{onTap:this.handleSelect},i.createElement("button",Object.assign({},d,{className:s.default("mc-mobile-menu-item",t),onClick:this.handleSelect}),o))}}t.MobileMenuItem=o,o.contextTypes={closeMobileMenu:r.default.func},o.defaultProps={shouldCloseMenuOnSelect:!0,shouldPreventDefaultOnSelectItem:!0}})),define("metaserver/static/js/modules/clean/sharing/clean/util/link_util/parser",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCleanedSharingUrl=t.parseLink=void 0;t.parseLink=e=>{const t=new URL(e),n=null!=t.searchParams.get("rlkey"),i=t.pathname.startsWith("/s/")||t.pathname.startsWith("/sh/");return{protocol:t.protocol,hostname:t.hostname,pathname:t.pathname,searchParams:t.searchParams,doesContainRlKey:n,doesContainShmodelLink:i}};t.getCleanedSharingUrl=e=>{const t=e.searchParams,n=new URLSearchParams;let i="";return t.get("dl")&&(i="?",n.append("dl",t.get("dl"))),t.get("rlkey")&&(i="?",n.append("rlkey",t.get("rlkey"))),i+=n.toString(),e.protocol+"//"+e.hostname+e.pathname+i}})),define("metaserver/static/js/modules/clean/react/previews/sharing_plugin/copy_link_button",["require","exports","tslib","metaserver/static/js/modules/clean/sharing/ui_notifications_util","metaserver/static/js/modules/clean/sharing/clean/util/link_util/parser","metaserver/static/js/modules/clean/clipboard_v3","dig-components/buttons","react","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/snackbar"],(function(e,t,n,i,s,r,a,o,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyLinkButton=void 0,s=n.__importStar(s),o=n.__importDefault(o);t.CopyLinkButton=e=>{var t;const n=l.intl.formatMessage({id:"8QMEOE",defaultMessage:"Copy link"});return o.default.createElement(a.Button,{className:"copy-link-button",variant:null!==(t=e.variant)&&void 0!==t?t:"opacity",onClick:()=>{r.copyToClipboard(s.getCleanedSharingUrl(e.parsedLink),()=>{(()=>{var t;null===(t=c.Snackbar.manager)||void 0===t||t.reset(),i.showCopyLinkSuccessSnackbar(s.getCleanedSharingUrl(e.parsedLink),e.linkAccessLevel),e.logSuccess()})()},()=>{(()=>{var t;null===(t=c.Snackbar.manager)||void 0===t||t.reset(),i.showCopyLinkErrorSnackbar(s.getCleanedSharingUrl(e.parsedLink)),e.logFailure()})()})}},n)},t.CopyLinkButton.displayName="CopyLinkButton"})),define("metaserver/static/js/share_download/ui/copy_to_dropbox/api",["require","exports","tslib","metaserver/static/js/deprecated_ajax/ajax_as_promised_jquery"],(function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copySharedFile=void 0,i=n.__importStar(i),t.copySharedFile=function(e,t){const n={link_key:e.linkKey,link_type:e.linkType,secure_hash:e.secureHash,subpath:e.subPath,rlkey:e.rlkey};return e.itemId&&(n.item_id=e.itemId),new Promise((e,s)=>i.WebProgressRequest({url:"/sm/c2d",data:n,subject_user:t,success:e}))}})),define("metaserver/static/js/share_download/ui/util",["require","exports","tslib","react","metaserver/static/js/file_viewer/sdk_file_viewer/utils","metaserver/static/js/share_download/ui/models","metaserver/static/js/modules/clean/share_download/types","metaserver/static/js/modules/clean/shared_link/types","metaserver/static/js/modules/clean/viewer","metaserver/static/js/loggers/folder_preview_logger","metaserver/static/js/flows/conversions/actions/unzip","metaserver/static/js/flows/conversions/utils","metaserver/static/js/modules/core/i18n","typescript/libraries/file-viewer/src/core/config","dig-components/modal","metaserver/static/js/dig-illustrations/hero/remote-work","dig-components/typography","dig-components/buttons","metaserver/static/js/components/ui/modal","metaserver/static/js/modules/clean/analytics","spectrum-sharing/utils/sharing_constants"],(function(e,t,n,i,s,r,a,o,l,c,d,u,_,m,p,f,h,g,E,v,S){"use strict";function b({canCopyToDropboxRoles:e},t,n,i,s,a,o,c){const d=[];if(e.length>0){const u=l.Viewer.get_viewer(),_=u.get_users(!0),m=(l,_)=>{const m=-1===e.indexOf(_);d.push(r.ShareDownloadActionOption.buildToDropboxOption(t,n,u,l,_,m,i,s,a,o,c))};_.forEach(e=>{m(e,e.role)}),e.indexOf("anonymous")>-1&&m(void 0,"anonymous")}return d}Object.defineProperty(t,"__esModule",{value:!0}),t.showPostDownloadSignInModal=t.PostDownloadSignInModal=t.isDownloadAllowed=t.callOptionHandler=t.getDownloadOptions=t.getToDropboxOptions=void 0,i=n.__importDefault(i),t.getToDropboxOptions=b,t.getDownloadOptions=function(e,t,n,i,s,l,c,_){const{canDownloadRoles:m}=e,{buildDirectOption:p}=r.ShareDownloadActionOption,f=[];return a.isPendingEntry(i)?f:(m.length>0&&f.push(p(t,s,l,n.linkType)),f.push(...b(e,n,i,l,_)),c&&a.isEntry(i)&&o.isEntrySharedFile(i)&&u.canConvertFile(i,e)&&d.UnzipAction.selector([i])&&f.push(r.ShareDownloadActionOption.extractToDropboxOption(c,i,c.role,n,!1)),f)},t.callOptionHandler=function(e,t,n){return()=>{n&&n(),e.handler&&e.handler(),t&&c.logEvent(e.userAction,t)}},t.isDownloadAllowed=function(e){return e.canDownloadRoles.length>0};t.PostDownloadSignInModal=({encryptionOptions:e,logUserAction:t,isFolder:n,shareToken:r,link_url:a})=>{const[o,l]=i.default.useState(!0),c=()=>{l(!1),null==t||t("post_download_signin_modal_close","post_download_sigin_modal")},d=_.intl.formatMessage({id:"RfGyPH",defaultMessage:"Close"}),u=n=>{y(r,a),s.showAuthModal({mode:n,kind:m.LoginOrRegisterKind.DOWNLOAD,encryptionOptions:e,loggingExtra:{source:"post_download_modal"}}),null==t||t(n===m.AuthMode.LOGIN?"post_download_signin_modal_login":"post_download_signin_modal_register","post_download_sigin_modal")};return i.default.createElement(p.Modal,{open:o,isCentered:!0,onRequestClose:c},i.default.createElement(p.Modal.Header,{hasBottomSpacing:"title-standard",className:"naming-conventions__header"},i.default.createElement(f.RemoteWorkHero,{aspectRatio:"16:9"})),i.default.createElement(p.Modal.Body,{hasVerticalSpacing:!0},n?i.default.createElement(h.Title,null,_.intl.formatMessage({id:"gGscZD",defaultMessage:"Your folder is downloading"})):i.default.createElement(h.Title,null,_.intl.formatMessage({id:"I4X18Q",defaultMessage:"Your file is downloading"})),i.default.createElement("div",null,i.default.createElement(h.Text,null,_.intl.formatMessage({id:"F2Wlhv",defaultMessage:"In the meantime, sign up for Dropbox to have secure access to all your files. "}))),i.default.createElement(h.Text,{tagName:"span"},_.intl.formatMessage({id:"NoO24L",defaultMessage:"Collaborate with friends, family, and coworkers from any device."}))),i.default.createElement(p.Modal.Footer,null,i.default.createElement(g.Button,{variant:"transparent",onClick:c},d),i.default.createElement(g.Button,{variant:"opacity",onClick:()=>u(m.AuthMode.LOGIN)},_.intl.formatMessage({id:"N0xz5m",defaultMessage:"Sign in"})),i.default.createElement(g.Button,{variant:"primary",onClick:()=>u(m.AuthMode.REGISTER)},_.intl.formatMessage({id:"5KEf7W",defaultMessage:"Sign up"}))))},t.showPostDownloadSignInModal=function(e){var n;if((function(e){const t=window.localStorage.getItem(e);if(!t)return!0;const n=JSON.parse(t);if((new Date).getTime()>n)return window.localStorage.removeItem(e),!0;return!1})("dbx_previews_log_out_download_modal")){E.Modal.showInstance(i.default.createElement(t.PostDownloadSignInModal,Object.assign({},e))),null===(n=e.logUserAction)||void 0===n||n.call(e,"show_post_download_signin_modal","download"),e.isFolder&&I(e.shareToken,e.link_url);const s=(new Date).getTime()+864e5;window.localStorage.setItem("dbx_previews_log_out_download_modal",JSON.stringify(s))}};const y=(e,t)=>{const n=e&&e.linkType===S.SharedLinkType.Content?v.ShareTibEventLogger.get_scl_extra_for_logging(e,t):v.ShareTibEventLogger.get_shmodel_extra_for_logging(e,t);return v.ShareTibEventLogger.log_unauth("VIEW_AUTH_PAGE",S.SHARE_ACTION_ORIGIN_TYPE.POST_DOWNLOAD_MODAL,n)},I=(e,t)=>{const n=e&&e.linkType===S.SharedLinkType.Content?v.ShareTibEventLogger.get_scl_extra_for_logging(e,t):v.ShareTibEventLogger.get_shmodel_extra_for_logging(e,t);return v.ShareTibEventLogger.log_unauth("VIEW_POST_DOWNLOAD_SIGNIN_SIGNUP_MODAL",S.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,n)}})),define("metaserver/static/js/dig-illustrations/spot/file-folders",["require","exports","tslib","react"],(function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileFoldersSpot=void 0,i=n.__importStar(i);t.FileFoldersSpot=e=>{var{altText:t,inverse:s}=e,r=n.__rest(e,["altText","inverse"]);const a=`dig-Illustration dig-Illustration-spot${s?" dig-Illustration--inverse":""}`;return i.createElement("svg",Object.assign(Object.assign({role:"presentation"},r),{className:a,viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),i.createElement("title",null,t),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M408.6 42.5c-30.9 10.2-63.2 18.4-95.4 27.9-15.3 4.9-24.9 15.4-38.4 22.2-12.7 7.2-27.4 14.6-39.9 22.3-20.5 11.2-17.4 29.2-21.7 47.4-1.5 4.4-4.2 10.3-5.1 15.2-2.7 12.8-3 24.6-6.1 37.1.3 9.9-12.2 19.3-1.5 27.3 2.5 1.9 4 3.1 7.1 3.1 10.5-.5 23.5-19.5 29-28.2.5-2.3 8.3-5 11.7-6.7 4.9-2.4 11.9-7 14-9.1 4.5-4.4.7-13.8-.6-19.2 9.3-4 19.8-15 27.8-21.1 4.5-2 15.5-3.5 21.4-5.3 1 9.5 2.3 29.2 3.8 35.3 2.4 6.9 2.7 17.4 2.9 23.8-.3 3.2-6.6 10.6-7.4 13.5-3.3 6.1-5.1 17.5-2.3 23.5 2.9 6.9 11.7 8.7 18.2 6.5 6.8-1.6 19.6-15.4 24.5-18.4 22.2-12.2 37.7-37.1 57-52.5 10.6-6.5 18.7-10.1 29.9-17 5.9-4 11.9-5.9 15.1-10.8 2.6-3 8.7-5.8 10.5-8.6v-8.8c1.8-.3 1.7-.8 2.2-4.8.3-3.6 1.2-2.3.4-6.4-.1-13.3-16.6-30.5-23.5-39.8-9.2-11.3-11.3-26.9-20.5-38.8 0 3.5-5.6 3.4-4.3-3.5-1.4 3.4-3.2 2.4-3.2-2.3-2.8 1.3 1.3-.6 1.4-1.1-.6 2.5-2.6.2-2.8 0-.3-.8-4.2-1.4-4.2-2.7zm-58.9 120.2c1.2.3 7.8 1.5 8.8 1.9-1.7 6.7-8.1 15.9-13.3 21.3.9-1.2.8-22.5 2.4-23.7.1 0 1.1.2 2.1.5z",fill:"#E39D77"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M295.2 192.2c-5.2 2.4-20.7 14.7-28 18.9-.1-10.7-1.6-15.3-12.9-7.8-10.4 6.2-16.5 9.6-25.7 15.3-14.7 6.3-10 16.4-13.3 23.6-1.3.4-4.8 5.1-5.6 5.8-.4.1-2.2 1.2-4 2.3-21 12.8-38.8 24.3-59 37-25.1 16.1-49.1 31.5-72.6 47.8-9 6.7-16.2 10.3-26.2 17.6-7.1 4-5.8 14.3-4 23 1.5 4.2 0 5.7 3 7.2 2 .7 6.9.4 7-1.5 10.8-7.8 18.1-13.7 27.5-20.3 41.3-24.9 83.8-50.8 125.7-77.2 26.7-18 47.7-40.2 71.5-58.5 5.5-4 29.7-19.8 31.2-21.4 2.2-3-2.1-2.7-4-3.2-.9-3.2-3.2-9.3-5.6-8.1-2.3-.8-1.7-2.1-5-.5z",fill:"#B4DC19"}),i.createElement("g",{fillRule:"evenodd",clipRule:"evenodd",fill:"#1E1919"},i.createElement("path",{d:"M317.1 69.9c-23.2 10-31.6 23.2-46.2 41.8-7.1 5.3-11.8 8.4-25.2 18.9-5.8 6.7-15.9 11.4-21.7 18.6-6.5 8.3-12.3 18.2-16.9 26.9-.2.6-.2.7.5 1 1.7 1 3.6-1.7 4.8-3.3 19 6 27.4 2.6 3.9-1.2-.7-.3-2.3-.2-2.8-.4.1-.3 2-3.3 2.6-2.8 2.8.9 12.2 1.8 11.2-1-1.2-.4-8.1-.7-10.9-.6 5.2-7.6 7.3-14 15.3-20.3 4.2-4.3 11.2-7.3 14.8-11.5 5.9-6.9 16.9-13.6 26.4-20.6 8.1-6.3 12.5-16.4 20.5-23.7 7.5-9.3 16.3-13.6 28.2-19.2 7.7-2.3-.2-5.6-4.5-2.6z"}),i.createElement("path",{d:"M232.9 119.2c-3.8 2.1 7.5 4.7 9.5 5.9 3.5 1.8 8.6 1.5 6.6-1.2-.6-.3-8.1-2.7-8.7-3-2.4-.8-5.3-2.8-7.4-1.7zm-8.1 6.1c-1.9 1-2 1.6-.3 2.5 3.4 1.6 7.1 3.2 7.8 3.2 1.5-.1 4.3-2.1 4-2.9-.4-1.1-10.5-4.7-11.5-2.8zm106.4.5c-1.9.4-4 1-1.3 3.1 6.8 6.2 20.7 25.1 27.5 26.8 4.9-1.5 1.4-3-2.4-7-6.2-4.2-19.7-23.9-23.8-22.9z"}),i.createElement("path",{d:"M371.5 138.7c-5 8-9.3 14.2-13.3 21.3-1.2-.4-5.7-2.5-6.7-3.1-3.1-1.6-11-4.9-14.1-6.6-1.4-.5-1.6-1.4-2.5-1.6-1 .1-5.1-2.8-5.9-1.5-.8.7-1.7-.7-3-.8-1.7-.5-6-.8-7.2.6-4.1 3.2-12.9 5.9-17.9 7-4 1.2 1.3 2.6 4.3 1.5 2.4-.4 6.6-2 7.9-1.9-3.7 4 5 1.3 6.6-.1 3.9.8 11.9 3.7 14.4 3.8.9-.4 9.8 5 9.1 5.8-.1.9.4 2.8 1.6 3 7.3.2-2-5.3 10.8-.5-.1.4-1.7 4.5-1.8 5 .5 3 3 1.2 5.4-3.9 7.3-13.7 13.1-19.8 19.8-29.4-1-1-3-1.5-4.8-1.6-.7-.1-1.1.3-2.7 3zm-110.8 12.1c-3.1 1.8.4 2.4 3.3 3.6 11.7 4.5 15.4 5.5 20.3 5.7 3 .1 6.3 0 7.5-1.6-6.7-.2-16.5-3.5-22.5-6.1-2.9-.8-6.6-2.9-8.6-1.6zm78.3 17.9c-4.1 1.8-11.4 3.5-15.5 6.6-1.3 2.6 5.9-1 3.3.9-5.1 3.9 2.1 2.9 5.9.4 2.8-1.7 7.9-5.8 7.8-6.2-.2-.5 1.7-1.5.9-1.8-.6-.3-.7-.3-2.4.1zm-79.6 11.9c-12.6 5.4-14 12.9-20.1 24-.5 2.6-12.1 13.5-3.6 9.8 2.9-1.2 9.9-11.4 12.9-15.8.6 2.1 2 10.4 2.4 9.7 7.7.5 5.1-3 3-11.7-.5-1.8-.3-2.4.8-2.4.6 0 1.8-1.1 8-7.7 1.3-1.8 6.1-3.9 2.3-4.5-1.1.1 1.8-1.3 1.5-1.5-1-1.5-5.1-1.4-7.2.1zm86 6.8c-8.2 4.8-18 13.5-23.4 22.1-.4-1.3-2.7-11.5-4-10.6-3.8.1.7 8.8.5 11.2.2 1.4 2.3 0 2.9.3-.8 2-7.8 10.1-3.5 9.1 10.3-2.4 18.6-22.2 29.6-28.3 1.8-1.4 3.7-2.2 1.2-2.8-2.1-.5-.7-1.6-3.3-1zm20.3 16.6c-1.8 4.8 5.9 6.7 4.6 3.4-1-.9-2.8-4.7-4.6-3.4zm-9.2 3.4c-.9 3.4 14.8 6.3 9.7 2.6-1.4-.5-9-3.8-9.7-2.6zm-14.7 3.5c-.8 1 1.3 1.3 3.3 1.6 4.1.4 12.9 4 15.9 6 2.5 1.8 9.3 8.9 11.6 4.3-7.4-6.3-20.2-12.6-30.8-11.9zm-137.7 1.3c-3.4 1.7-1.9 13.7-3.2 18.1-.2.9-5.7 6.8-4.7 6.8 3.6 1.9 7.7-3.6 9.3-6.6 1.4-3.3.6-14.4 1.2-18.6-.9-.1-1.8 0-2.6.3zm46.4 9.9c-.9.2-1.8.2-2.2 1.3-.2.5-.4.7-.4.4 0-.6-1-.9-2.3-.6-1 .2-1.1.3-2.9 3.7-2.5 4.8-4 7.5-5.3 9.2-.1-1.9.8-7.7 1.3-10.4.7-1.3-2.4-.7-2.7-.4-1.7 4-5.9 19.2 3.6 12.3.8-.6 3.3-4.5 3.8-5.2 0 1.4-.6 3.8 2 3.4 2.9.7 4.3-4.1 5.4-7.6 2.5.2 5.4-.3 5.2-3.1-.1-1.7-1-.2-1.7-.1-.9-1.6-1-3.8-3.8-2.9zm80.3 10.2c-2.6 1.1-7.1 2.7-9.1 4.6-2.8 4.2-8.1 11.7-9 16.2-.7 2.9-.8 5.1 2.2 2.3 2.7-5 6.7-11.1 9.5-15.4 1-3.2 5.2-4.9 9.3-6.4 2.5 2.1 3.9 6.6 5.4 9.8 10.1 4.9 2.3-8.7-1.2-10.5-.8-1.2-5.8-.8-7.1-.6z"})),i.createElement("g",{fill:"currentColor"},i.createElement("path",{d:"M489 150.6c-15.7-20-28.2-42.1-41.6-65.2C439.9 67.9 430.1 57 417 45c-.6-.1-2.1-2.2-2.6-2.3-.2-.2-1.6 1-1.7.6.1-.3-1.5-.8-1.2-1.1 1.8-1.6 29.2-10.5 20.6-12.6-4.8-1.6-3.3-2-8.5.4-4.8 2.8-20.6 6.6-18.4 10.8-2.6-.8-5.1 2.6-4.9 4.3 4.6 1.8 8.5.9 12.9 5.2 4.4 2.3 14.3 14.3 16.3 16.5 4.7 6 8.7 13.9 12.6 22.1 8.2 14.1 15.1 24.8 23.1 38-3.3-1 .2 12.2.5 14.6 1 3.7 1.9 4.5 3.8 6.6 1.6 1.7 1.6 1.3 1.8-1.9.1-2.4.5-4.6.9-6.8.6.8 1.7 2.4 2.5 2.4.4.1.8.3.9.5 2.3 3.5 5.2 7 8 10.6 2.4 3 2.7 3.3 2.9 3.3 1.5-.9 3.9-3.9 2.5-5.6zm-22-21c-.2.2-.9-1.1-1.1-1.4.2.3 1.2 1.2 1.1 1.4z"}),i.createElement("path",{d:"M465.9 128.2c.2.3.9 1.5 1.1 1.4.1-.2-.9-1.1-1.1-1.4zM96 351.6c40.9-26.6 82.5-48.1 122.1-76.8 20.2-15 33.9-27.4 53.5-41.6 6.4-5.1 14.7-9.4 19.9-14.7 4.5-4.5 4.8-4.7 12.5-10 1.5-.9 4.6-3.7 5.9-4.5.6-.2.6-.6-.1-1.1-.6-.4-.6-.4.5-.7 1.2-.3 1.5-.1 1.5 1.4-.4 3 3.9 3.4 5 1.9.4-.6-.4-4.8-1.4-5-5.2-2.6-14.3 4.7-18.9 7.8-1.9.4-10.3 8.6-12.8 10.8-9.1 6.6-27.8 19.1-36.9 27.2-25.4 21.1-54.2 41.3-82.8 58.4-24.7 14.3-50.2 30.6-74.5 45.6-1.6.8-16 10.5-17.3 11.1-5.3 3.1-14.7 8.5-17.1 13.3-2.7 5.7-1.9 15.7-2.4 22.2 1.4.6 4.6.9 5.4.3 1.2-3-1.3-19.4 3.9-23.2 7.1-6.7 22.9-15 34-22.4zm-51.5-56.7c23.5-16.3 52.5-29.4 74.3-46.4 1.9-11.5 4.3-30.2 19.1-33 4.5-.8 20.8-9.5 22.1-9.3 2-.3 1.2 3.1 1.9 5.6.4 6.3 1.8 10 8.4 8.6 8.3-3 20.2-11.5 28.4-15.3-4.3-4.9-13.4 1.5-17.4 4.4-17.5 10.5-11.7 10-15.9-3.3-6.2-7.9-19.9 3.6-28.9 6.3-18.4 3.6-21.3 20.4-24.1 34.9-14.3 11.4-31.3 19.8-46.8 29.8-20.2 12.1-39.9 26-59.6 38.8 11.9-4.3 27.9-14.4 38.5-21.1zm396-3.2c-2.3-18.4-2.4-42.8-4.8-60-1.2-3.1-6.7-.8-8.5-4.3-2.7-8.6-3.8-11.8-13-7.9-1.9-4.5 1.9-15.8-7-15.9-7.2 1-10.7 7.7-17.3 10.6-7.4 4-5.7 3.2-7.8 9-2.3 7.2-3.9 16-3.6 24.2-9.4 8-20 16.7-30 24.3-8.1 6.6-16.7 11.1-24.2 18.2-29.3 25.4-59.8 47.7-91.1 71.1-21.1 16-39.2 24.8-58.7 40.7-12.2 11-14.3 6.7-21.7 17.3-.7 0-2 20.3 3.8 10.9.4 0 .8-6.1 1.2-5.6 4.9 2.8 11.8 7.8 17.3 8.9 2.5.1.8 1.5-.6 2.1-1.6 1.4-.4 4.2-.5 7.8.4 4.1-.1 9.3-.5 17.9.4 1.6 6.2.3 6.4-.7 1.8-5 1.5-16.7 1.5-24.5 2.8-6.4 7.6-6.1 15.1-11.9 17.1-11.4 26.3-16.2 38.4-25.5 3-2.1 5.3-1.2 8.2-3.8 1-.7 1.5-1 2.5-1 2.1 0 2.8-.6 1.2-1.2-3-.2 11.3-10 12-11.4 15.8-14.2 31.1-25.3 47.9-38.5 25.1-18.1 49.1-38.2 71-59.6 16.9-15.9 33.7-36.7 51.5-50.7 3.8-4.2 1.8 7.1 2.9 14.9.8 20.2 2.7 39.1 3.8 58.3 0 5 1.5 6 4.5 4.6.8-.6.9-.8 1-2.4-.1-5.9 0-10.1-.9-15.9zm-56-60.1c1.5-5.3 1.8-11 4.2-13.2 5.5-2.2 14.3-9.4 19.6-12.6 3.1 2.6-1.4 14.1 1.8 15.9-6.4 3.7-19.1 14.8-25.8 20.3-3.6 4.2-.2-5.8.2-10.4zm37.1 2.9c-21.5 17.7-38.6 40.4-60.1 58.9-23.4 22-43.5 36.8-68.1 55.6-16 12.3-30.8 24-45.5 37.1-2.1 1.4-2.9.1-5.5 2.2-8 5.2-3.5.2-14.3 9.1-11.5 8.7-23 15.5-35.5 23.5-3 1.2-15.3 10.6-16.4 7.4 6.7-2.9-2.6-2.9-4.1-4-3.8-1.2-2.7 1-7.3-1.7-4.9-2.7-3.2-3.3-7.4.8-2.4-9.8 3.4-9.1 10-11.4 8-5 25.8-19.7 33.5-24.3 30.7-18 54.6-37.8 84.4-60 17.4-12.9 33.8-26.9 49.8-40.5 11.4-7.9 25-17.6 34.8-26.3 17-13.6 31.6-29 49.1-40.6 2.5-2.9 3.7 14.2 2.6 14.2zM87.3 395.9c-.6-13 29-26 38.8-33.7 14.5-9.1 25.6-16.6 39.8-25 31.6-19.6 57-36 88.6-54.5 16.5-10.1 36-22 44.9-28.9 3.5-2.9 10.9-5.3 4.8-5.9-6.5 1.8-24.8 15.5-32.5 19.4-.3-.7 9.8-8.1 11.8-10.1 11.4-10.1 23.4-24.8 32.7-36.3-1-.9-3.4-1.5-4.9.6-13.5 13.9-26.5 31-42.9 42.5-.1.1-4.5 3.9-4.6 4-.5 1.3-24.8 12.3-17.2 14.5-33.5 18.8-65.6 40.3-98 59.9-12.3 7.5-27.8 18.1-38.6 24.7-12.8 9-31.7 17.2-27.5 34.1.4 3.3.4 3.3 4 3.5 3.5.8-.1-5.8.8-8.8zM70.5 297c28.7-15.9 56-33.7 84.1-49.7 10.9-5.9 24.1-17.7 36.9-22.4 9.7-4.1 2.2-5-4.6-2.1-9.8 4-9.7 5-19.8 11.2-14.3 10.6-30.1 18.3-45.3 27.7-27.8 17.2-56 33.3-84.6 48.4-7.7 4.2-12.7 7-19.5 11.3 18.8-3.4 34.8-15.6 52.8-24.4z"}),i.createElement("path",{d:"M142 414.1c-1.4-.1-6.8-4.1-7.7-2.9-.9.6-.9.3-.3-1.6 6-6.1 22.3-15.6 34.2-23.6 29.6-19.9 58.1-38.5 87-58.5 17.9-12.3 41.9-29.3 58.5-44 17.2-14.4 38.4-35.6 57-49.2 2.6-.9-.8-2-2.5-1.9-12.2 5.1-24 19.2-34.8 26.4-.9-.2-3.6-1.2-4-1.2-.6.2-6.1 4.8-6.7 5-13.2 8.1-30.4 19.8-41.5 30.9-23.3 16.7-51.7 31.8-76.4 48.1-22.6 15.1-45.3 27-66.7 43-7.2 5.6-23.2 12-27.6 22.8l.2 7.6h3.1c1.1-3.3.8-7.6 2.8-10.8 2.7-4.9 9.5-8.7 13.7-11.5 13.4-7.8 30.7-21 44.4-28.3 20.3-12.5 41-25.7 61.7-38.5 17.5-11 37.9-20.2 55.3-35.6 9.4-8.4 24-18.7 33.6-23.5-2.7 3.6-14.2 12.7-19.1 17.1-55 44.1-114.8 81-172.2 120.4-4.8 2.8-4.8 7.7-7.1 12.7-2.5 3.8 3 4.1 4.5 1.7.7-2.8 4 0 6 .2 2.2 1.5 9.4-4 4.6-4.8zm-95.7-34.9c-7.5-1.9-16.2-5.8-24-4.8-2.6.1-2.4.3-2.8 2.4 8.9 2.7 18.9 5.1 27 8.5 1.9-1.9 3.6-5.7-.2-6.1zm32 8.7c-4.6-.4-11.7-4-12.8.5-1.5-4.7.9-5.8 1.3-9.5-.8-1.2-3.3 2.1-3.9 3.5-1.7 3.2-.3 8-.4 12.1-.3 8.1 3.4 2.7 3.2-1.5 0-1.5.1-2 .3-1.8 1.2-.4 10.7 4 12 1.3.7-1.4 1.9-3.9.3-4.6zm29.5 11.9c-2.3-1.1-11.4-4.4-11.8-4.3-.4 0-.8.1-.9.3-.8.8-1.4-1.5.3-1.7 2.2-.7 3.9-.8 4.8-3.5 1.7-5.7-5.3-.8-7 .4-2.5 3.1-2.8 5.1-1.2 10.4 1.2 5.6 2.7 3.7 3.5.1 0-1 .1-.8.9-.3 1.4.9 10.2 4.6 10.6 4.5.8-.6 3.5-5.1.8-5.9zm131.8-.7c-.2.3-.3.8-.3 1.2-.1 1.3 1.2-1.8 1.1-1.6-.3-.3-.6 0-.8.4z"}),i.createElement("path",{d:"M126.5 405.6c-1-1.4-4.1 3.3-4.5 3.9-.3.8-.5 9.4.8 8.7 4-.7 2.7-7.9 3.7-10.8.5-1.3.5-1.4 0-1.8zm27.1 4c-.4-1-.7-1.2-1.4-.1-.6 1-4.8 5.1-5.3 6.2-1 .6-1.6 11.8-.8 13.2.4.6 1.2-.6 1.6-.6 1-.3 1.7-1.8 2.2-2.5 1-1.3-.5-11.3 1.9-12.5.7-1 2.3-2.5 1.8-3.7z"})))},t.FileFoldersSpot.displayName="FileFoldersSpotIllustration"})),define("metaserver/static/js/dig-illustrations/hero/remote-work",["require","exports","tslib","react"],(function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteWorkHero=void 0,i=n.__importStar(i);t.RemoteWorkHero=e=>{var{aspectRatio:t,altText:s,inverse:r}=e,a=n.__rest(e,["aspectRatio","altText","inverse"]);let o=void 0;switch(t){case"16:9":o="0 0 1696 954";break;case"1:1":o="371 0 954 954";break;case"5:6":o="450 0 795 954"}const l=`dig-Illustration dig-Illustration-hero${r?" dig-Illustration--inverse":""}`;return i.createElement("svg",Object.assign(Object.assign({role:"presentation"},a),{className:l,viewBox:o,fill:"none",xmlns:"http://www.w3.org/2000/svg"}),i.createElement("title",null,s),i.createElement("g",{fill:"currentColor"},i.createElement("path",{d:"M1529.3 675.801c-22.1 32.2-7.6 74.5-7.9 111-2.3 5.7-5.8-1.9-5.9-4.9-12.9-46-20.1-95.3-40.9-138.3-12.5 33.9 30.2 111.5 37.8 147.4-10 7.4-46.2-70.1-57.8-78.4-1.1 6.2-2.6 11.1.8 16.8 12.1 20.7 24.1 41.3 34.8 62.7-2.9 2.4-4.8 1.1-6.4-1.3-29.1-29.8-51.4-66.3-82.4-93.9-8.2 13.2 47 78.6 58.1 92.3-14.3 4.7-26.8 14.7-39.6 22.6-8.8 6.1-15.5 14.9-17.2 25.9 15.9-4.3 29.7-15.2 44.7-22.2 7.2-4 14.3-8.3 21.4-12.5 3.5-2 3.5-2 7.5 1.2-20.9 26.1-50 52.5-54.3 86.8 10.5-8.5 68.8-89.1 76.2-78.4-6.8 29-20.7 56.7-20.3 87.1 25.8-28.4 36.4-67.9 50.1-103.1 4.6-.1 5.3.4 5.3 4.2.6 13.8-3.6 29.2 3.4 41.7 2-10.4.8-20.9 1.7-31.3 4.7-.3 5.7.1 6.7 4.2 1.6 6.2 3 12.4 4.3 18.6 1.8 8.6 3.9 17.1 8.2 24.9 5.5 10.9 20.1 26.9 19 3.4-2.6-18.6-1-40.9-11.8-56.7-4.6-4.6-9.6-8.9-12.7-14.8 8-2 15 6.2 17.6 12.8 3.5 9.7 15.2 13.6 24.4 10.7 6.5-1.5 29.4-15.9 14.2-19.8-12.5-3.5-25.3-5.3-38.1-6.6-2.7-.3-5.4-.4-8.1-2.8 17.3 1.6 33.2 3.7 49.4 9.1 16.4 4.3 1.3 15.5-6.5 20-10.2 6.6-21 2.9-31.5-1.5 3.4 19.7 8.1 39.1 6.8 59-2.2 11.2-16.5 1.7-20.6-3.6-10.7-11-12.2-25.6-17.4-39.2.7 50.9-18.1 9.1-15.5-14-12 29.5-22.1 61.3-43 86-27.3 15.2 4.1-69.5 5.2-78.6-23.3 21.6-41.8 47.7-62.5 71.5-2.7 2.6-4.5 2.6-8 1-7.8-5.1-.6-16.9 1.7-23.5 8.9-21.8 25.7-39.3 39.2-57.5-17.8 8.5-34.2 20.3-52.8 26.9-17.2.8-3.4-21.1 3.4-26.5 12.6-11.4 27.8-18.2 42.8-26.2-1.2-7.8-88.3-107-44.9-89.7 25.5 23.4 43 53.6 69 76.9-11.3-24-27.4-45.3-36.4-70.4 3-.4 5.1-.7 7.8-1 .2-39.3-.9-78.8 4.1-117.9 3.1-21 15.8-38.7 20-59.7-12.4-6.5-11-12.1-8.4-24.4-13.6-5.7-27.3 6.8-39.7-1.5-8.4-5.9 6-26.9 14-18.3-8 .8-12.3 10.2-11.4 17.4 2.4 1.8 5 .8 7.4.2 10.7-2.4 37-7.5 35.3 10.1-1.8 5.6-3.8 10.9 3.7 14 10.8-23.3 18.1-47.8 26.7-71.9 13.8-15.5-10.5 54.4-13.6 57.1-2.4 4.7-4.3 9.7-6.5 14.9 12.1 2.5 31.9-14 41.6-20.9 20.7-10.3 29.3 5.7 48.4 2.4 12.7-2.9 42.4-1.7 41.2-20-2.1-13.5-22.2-7.5-31.2-15.6-12.8-9.6 8.3-17.6 16.8-17.6 11.2-1 36.4-13 26.3-26.6-7.2-8.6-16.2-13.6-27.7-13.8-4-.3-8.9 1.3-11.2-3.2-10.2-12.2 8.8-29.6-3.8-29 11.3-5-11.9-7.6-12.9-13.4l-.1.1c6.6 2.7 13.4 5.4 18.6 10.4 1.4 1.3 2.7 1.8 4.5 1.8 16.3-.4 21-22.4 15.2-35-5.3-14.1 14-26.7 25.7-30.2 16.5-6.1 39.6-11.5 42.6-31.7-2.1-5.2-2.9-11.2-5.8-15.9l.7-.7c6.4 3.8 6 11.9 8.6 18.2-2.9 19.5-24.3 25.6-40.3 31.7-13 4.1-32.7 16.3-26 32 7 15.8-3.5 37.7-22.6 33.6 3.6 10.4-8.2 18.4-1.2 27.6 16.9-.1 30.7 6.8 40.7 20.1 3.8 4.8 3.6 8.8-.5 13.5-10.4 14.9-29.7 11.3-43.4 20.3-13.4 15.2 34.1 3.2 34.1 29.3-2.1 16.4-34.3 16.1-47.2 18.5-13.3 2.2-24.3-10.4-37.9-4.9-18.2 8.5-32.9 24.9-54.8 23.7-4.8 12.4-9.1 25.4-15.5 37.3-5.3 10.7-7 22.3-7.3 34.1-.7 34.7-.8 69.5-1 104.3 0 2.1 0 4 1.8 5.6 8.2 7.5 14 16.9 19.7 26.4 10.6 15.7 18.1 33.6 31.3 47.4-5.3-17.4-13.1-34.1-19.1-51.3-4-7.8-35.5-107.7-8.6-87 19 39.4 24.4 84 38.1 125.1-.4-25.5-12.1-78.7 11.9-94.7l-.3.1zm-85.2 29.5c1.1 3.2 1.2 5.7 3.6 7.5.7-5.4.7-5.4-3.6-7.5zm115 88.3c-.3.2-.6.5-.9.7 1 2.6 2.9 4.5 5.8 5.7-1.6-2.2-3.3-4.3-4.9-6.4zm-297.9-307.4c-4.5-56.7-7.3-114.5-28.4-168.1-13.3-27.1 3.8-54.6-.1-82.6 13.5 3.5 5 34 4 44.4-2.1 12.8-1.2 25.2 3.2 37.6 9.8 28 16.9 56.8 20.7 86.2 5.1 41.1 5.7 82.9 10.3 123.9 10.2-31 14.2-64.4 23.7-96 3.5-17 9-34.8 3.3-51.9-10.3-37-22.7-75.3-15-114-.1-2.5 2.9-7 4.4-2.9.2 2.6.1 5.1.1 7.7-3.6 45.7 20.2 89.3 15.9 134.7-7 37.9-17.6 75-24 113-4.2 14.6-7.4 29.2-5.5 44.7 5 44.3 13.3 87.9 19.9 131.9 10-24.2 16-50 25.3-74.7 10.2-32.7 7.9-67.5 15.2-101-8.7 4.2-16.4 15.1-26.3 12.1 9.7-7.3 19.7-13.3 27.3-23 7.9-24.6 3.9-53.1 13.5-77.4 2.3.3 2.2 1.8 2.1 3.1-1.9 23.2-3.2 46.2-5.6 69.4 29.3 4.8 29.4-23.9 40.6-42.9 3.8 12-3.8 25.1-8.3 36.1-6.5 17.7-31 3.1-34.2 18.2-6.5 33.6-7.7 68.8-19.3 101.2-11.4 27.3-16.9 56.7-28 84-.8 33 8.6 66.6 10.9 99.7 2.2 19.9 6.8 39.3 11.3 58.8.7 3.8.6 3.9-3.9 6.4-15.5-52-16.7-107.3-24.7-160.8-7.7-57.5-18.2-114.5-24-172.3-2.9-13.6 0-29.4-5.8-42-13.1-16.1-19.1-36.7-35.4-50.3-11.8-10.7-15.7-26.3-22.7-40.1-3.3-7.2-11.7-33.1-7.9-38.3 10.1 24.4 18.3 50.4 32.7 73 14.5 15.4 23.2 34.1 33.4 52.3.4.1.8 0 1.3-.1zM312 592.601c-30.7 19.5 46.7 10.8 55.1 12.8 9.9-.1 11.7-10.3 15.9-17.6-22-4.5-43.1-.1-64.8 2.3 16.3-5.1 34.1-5.5 51.2-5.9-13.5-9.7-76.9-46.6-75.5-61.7 16.4-10.2 64.6 28.1 77.5 40.2-13.7-32.4-30.2-64.3-40.8-98.2-.7-1.8-1.1-3.7.9-5.1 17.2-.4 47.3 61.9 52.3 78.4-.3-20.2-6.3-40.6-3.3-61.1.3-4.3.7-4.3 5-5.2 13.2 33.6 19.4 70.2 17.2 106.5 14.5-24.7 33.9-46.9 60.8-57.8-1.5 24.8-31.8 43.4-50 57.5 22.4-3.8 44.5-4.2 66.8.7 2.6.5 5.5.7 7.7 3.7-5.8 7.8-13.2 13.1-23 14.8 6.1-4.8 16.2-6.2 18.2-14.7-13.3-5.8-82.3-13.2-81.8 8.5 17.5 11.9 42.2 11.2 62.1 6.3-13.3 7.9-29.6 2-44.3 4.4 22.6 15 44.3 29.5 66 43.9l-.3 1.2c-28 .4-51.4-20.1-77.6-27.3 8.9 40.3 22.2 81.4 22.3 123.4-2 34.3-2.5 142.4-9.3 176.9 3.2-95 14-209.9-17.9-300.3-11.5-2.3-19.7-3.3-20.6-16.4-6.1 1.4-8.7 16.5-13 21.7-5.7 10-11.7 19.8-17.8 29.6-1.7 2.8-3.8 5.4-8.5 3.9 3.1-19.4 14.3-35.9 26-51.1-21.9-.7-43.8 1.7-65.1-1.9-9.9-6.3 6.2-13.7 12-15.3-1 1.1-2.2 2-3.4 2.9zm80.3-10.6c-10.8-43.7-25.9-88.2-58.3-120.9l-.9.6c13.7 40.9 31.7 80.6 53.1 118.2 1.3 2.1 2.6 4 6 4.3 0-.9.2-1.7.1-2.2zm-95.1-59.9c1.9 15.6 70.1 61.2 87 63.6-8.1-21.7-66.6-64.3-87-63.6zm104.4 82.7c2.3 9.4 2.7 12.4 13 14 20.4 7.8 40.2 20.1 61.5 24.3-25.7-15.4-47.7-36.2-75.8-47.1.5 3.3.9 6.1 1.3 8.8zm-18.6-122.4c-.1 33.3 6.4 67.2 13.7 99.4 3.7-35.5-2.6-69.7-13.3-103.4-.1 1.4-.3 2.7-.4 4zm24.3 96.1c21.4-12.8 43.4-29.9 52-54.1-23 12.5-40.3 30.1-52 54.1zm-9.8 16.9c-2.8-2-4.3-.7-6.3 1.3-11 5.8-.6 22.3 10.2 19.9-1.2-7.6-6.2-13.8-3.9-21.2zm-48.4 54.2c4.8-4 17.2-25.7 22.1-39-10.4 11.2-17.3 24.5-22.1 39zm42.3-60.8c.4.7 1 1.2 1.8 2.2.6-2.1.5-3.3-2-4.4 0 1.3-.1 1.8.2 2.2z"}),i.createElement("path",{d:"M1543.2 577.201c4.5-9.1 28.3-47.1 36-24.6.2 17.1-9.2 33-13.7 49.3-2.2 8.3-8.3 15.7-8.8 24.2 16.3-19.9 34.9-37.6 57.9-49.7 5.1-3.2 24.8-10.2 19.7 2.1-20.2 24.7-44.3 45.7-66 69.2 70-6.4 163.6 26.4 26.8 34 13.7 4.3 27.6 8.7 38.6 18.3 5 4 16.3 17.1 3.5 18.1-19.9-3.4-39.1-12.7-59.1-15.6 11 11.8 19.2 25.2 22.6 41.1 1.1 3.7.9 10.4-4.5 6.6-17.1-13.5-24.7-35.6-38.3-51.8 3.9 18.5 11.9 37.2 9.1 56.2-4.4-.1-6.2-2.5-7.5-5.8-6.7-17.1-12.3-33.6-20.6-50.2 13 10.6 14 27.7 22.5 41.1-.2-19-7.4-36.5-12-55.5 5.8 1.4 7.6 5.8 13.5 7.2 6.7 4.1 12.6 9.1 20.6 10.3 14.5 3.7 29.1 7.3 43.2 12.5 4.8 2.1 14.3 1.1 11-6.3-16-26-53.3-19.7-76.5-34.1.2-.4.3-.8.5-1.1 10.3 2.8 20 6.5 30.9 5.4 18.2-1.1 58.6.7 69.5-15.3-26.3-11.7-55.8-14.4-84.4-12-6.9-.7-16.2 6.9-21.7 1.7 24.9-25.9 52.2-49.3 74.9-77.1-.2-.3-.5-.7-.7-1-14.8 4-26.9 13.5-38.7 22.8-12.8 10.3-23.6 22.6-33.8 35.4-3.3 2.7-5.7 10.7-10.7 8.7-1.7-1-2.5-2.3-1.7-4.2 10.4-29.1 29.5-57 29.6-88.6-32.2 17.8-34.4 59.5-44.6 91-4.9-1.9-5.1-2.1-4-6.2 6-24.4 13.2-49.4 10.8-74.8-20.4 18-19.1 74.5-19.6 101.2-.4.1-.8.3-1.2.4-8.8-21.7-1.6-76.1 9.6-97.4 11.8-22.7 18.4.8 16.5 14.4.3-.1.6 0 .8.1zm17.8 117c3.2 10.3 29.3 49.3 35.2 52.3-2.9-21.1-14.3-44.1-35.2-52.3zm-393.4-208.3c34.3-25.1 8.3 9.9 46.5-4.1 2.3-.8 4.6-2 6.6.6-7 7.6-28 10.2-34.2-1.9-6 3.7-11.7 7.1-17.6 10.8 2.2 15.1 7.2 30 9.9 45.1 2.5 12.2 7.4 23.6 11.1 35.4.9 2.8 2.5 5.5.9 8.8-13.5-27.6-20.9-57.2-28.6-87.1-6.3-.5-13.3.5-17.8-7.6 5.5 4.5 10.5 4.2 16.3 2.5-8-25.1-12.6-54.8-31.3-74.4-20.3-16.2-39.6-33.7-60.8-48.8-3.9-2.8-6.6-6.3-8.9-10.5-6.8-12.9-13.7-25.8-20.7-38.6-4.1-7.3-12-12.4-12.8-21.4-6.9-48-10.9-68.9-53.6-95.4 17 2.1 28.7 18.1 40.5 29.3 16.2 19 13.7 45.7 18.2 68.8.6 3 1.7 6.2 3.6 8.4 13.6 16.3 20.2 36.6 32.8 53.5 21.3 16.6 42.8 32.7 63.8 50-3.2-11.1-9.3-20.4-13.4-31.2-11.4-25.1-31.9-44.3-47.7-66.5-5.1-6.5-7.6-14.1-9.1-22.2-4.7-23.1-9.6-46.1-19.7-67.6 9.9 5 12.3 17.5 16.5 27 4.9 14.3 10.8 28.3 13.8 43.2 1.5 7.6 5.8 13.9 10.5 19.9 17.6 22.8 38.3 44.1 47.3 72.1 14.8 33.5 29.4 65.8 37.9 101.9zm-608.3 42.7c.1-1.1 0-2.9.4-3 7.3-.9 9.1-31.3-1.3-21.8-8.5 5.6-6.3 22.7-13.3 19.7.9-15.2 9.6-36.7.3-50.1-21.5 10.1-11.8 47.8-22.6 42.8.2-26 9.9-52.3 4.1-78.2-10.1 7.3-11.6 20.5-14.8 31.6-2.4 10.8-3.4 21.8-4 32.8-.3 3.5.2 9-5.2 7.1-.9-27.2 4.4-54.9 1-82-.4-.1-.7-.2-1.1-.3-22.6 27.3-7.8 79.6-19 74.3.1-47.4 4.1-94.5 3.6-141.9-11.5 6.6-15.4 25.8-19.7 37.6-11.4 34.5-6.7 73.4-15.8 107.3-4.1-5.4 1-21.8.3-30-3.7 3.6-2.7 7.3-4.2 11.4-6.1 7.3-4.7-15.4-5.5-18.5-1.8.4-3.6.9-6 1.5-2.4-19.3 2.7-38.2-4-56.7-11 17.1-10.1 38.5-11.5 58.1-.1 1.6.6 3.5-1.9 4.8-4.2-19.8-1.4-42 6.8-60.7 19-20.4 14.2 32.8 14.7 41.8 8 3.4 5 10.9 6.9 16.5 2.1-1.8 4-3.4 6.6-5.6 2.6-31.2 5.4-64.2 19.3-93 2.6-5.3 11.5-24 16.8-12.4 2.5 27.1-1.8 53.4-.8 80.7 4.3-5.3 5.2-12.1 10.3-16.7 15-8.4 9.1 22.4 11.4 30.2 3.1-7.4 13.9-30.7 21.5-14.9 3.3 13.5.4 26.2-.3 40.1 22.4-24.1 22.8 5.4 20.5 22.6 29-14 14.9 28.9 6.5 24.9zm92.3-335.2c7.3 2.5 10.1 9.4 16.8 13.1-.2-6.9-13.7-49.7.9-43.8-4.2.7-4.7 5-4.3 8.5 1.9 13.8 3.6 38 12.7 48.4-1.5-16.1 1.5-44.6-8.6-57 14.3 3.2 7.8 58.3 13.6 69.9.3-24.8 7.3-47.9 26.6-64.4 2.7-2.5 5.6-4.8 10-4.6-23.3 16.5-33.3 39.2-32.2 67.9 7-17.6 38.7-51.1 34.5-67.6 15.4 8.9-34.4 60.3-34.5 76.6 18.7-13.3 34.1-33 57.7-37.8 10.6-2.4 16.5 1 7.5 10.5-7.4 15-85.9 31.8-67.7 42.2 12.3-11.2 32.6-14.1 48.5-11.1-11.9-.4-23.5.6-34.7 5.8 11 5.5 29.5 4 38.9-3.6-2-1-3.1-1.6-4.3-2.2 2.7.6 6-.4 7.8 2.8-5.6 8.6-29.5 8.8-39.1 5.9-6.2-3.1-15.3.7-14.8 8.3 1.9 23.8-8.7 46.7-17.1 68.4-15.3 31.9-9.5 70.2-18.3 102.9 1.5-30.8 3.1-61.8 11.2-91.6 3.4-28.4 9.8-56.7 20.5-83.3-11.4-10.8-23.6-22.6-38.8-27.8-4.7-1.5-9.2-3.7-12.5-8.3 16.2 3.5 29 15.3 43.9 22.3-7.8-13.5-37.8-40.3-33.8-56.8 4.4.5 7 3.8 9.8 6.6-2.2-1.1-4.5-2.2-7-3.4 1.4 19 22.6 38.3 33.8 53.2.3-.2.6-.4 1-.5-7.3-24.6-8.9-31.6-28-49.5zm39.1 46.3c.3.4.6.7.8 1.1 20.4-8.6 44.5-13.1 59.7-30.3 5.3-4.7 2.3-10.2-4.5-7.1-22.7 4.8-37.7 23.6-56 36.3zm-14.7 8.1c.2-.2.4-.5.6-.7-.8-.6-1.6-1.1-2.5-1.7-.1.2-.3.4-.4.5.9.7 1.6 1.3 2.3 1.9zm541 564.3c-10.9-38.5-17.3-77.7-21.5-117.3-3.1-19-1.2-50.1-13.1-65.2-1.5-.8-2.2-3.4-2.7-5.4-3.7-11.1-11.9-20.1-15.9-31.1-8.6-18.6-20.5-36.1-33.1-52.2-16.6-16.6-25.5-39.9-27.6-63-.6-11.2-6.5-19.4-14.5-26.4-9.9-6-22.2-7.5-31.8-14.5-3.7-2.4-8.2-2.8-10.9-6.8 12.9 4.2 25.4 12.1 38.9 15.9 15.1 5.7 28.8 20.2 28 37.1-.4 19 5.2 39.3 18 53.5 6.4 6.4 11.8 13.4 16.6 21.1 8 12.6 18.5 23.7 23.9 37.9 16 26.9 29.7 55.6 30.7 87.6 3 41.9 8.2 83.6 18 124.5.3 2 .7 3.8-3 4.3zm91-631.3c28.7-37.5-16.7-45.7-42.2-26.5-9.1 7-16.7 15.4-22.8 25.2-7.6 0-8.4-12.2-17.2-11.1-13.7 1.2-25.9-10.4-17.5-23.8 12.3-12.2 17.2-26.5 3.6-41-14.2-7.2-37.8 28-38.9-19.4-17.3-39.9-69.5-19.9-73.2 17.8-6.1 1.3-3.1-8-2.7-11.1 3.8-11.1 10.5-20.2 20.7-26.2 18-9.7 45.3-5.2 55.6 13.6 5.4 9.3 1.9 19.8 8.8 28.6 4.4-1.8 8.3-4 12.7-5.8 24.4-9.8 41.4 20.5 28.2 38.1-5.6 6-11.2 12.5-8.9 21.3.5 8.6 16.6 2.3 25.9 13.1 6.4-6.9 12.2-14.6 19.5-20.6 22.5-21.8 85.2-11 56.1 27.7 21.4 4.2 24.2 41.7 5.4 41.3 5.4-9 8.7-18.3 4.8-28.4-2.1-9.1-9.7-10.6-17.9-12.8zm-780.6 608.3c-13.3 23.4-16.2 48.4-18.4 73.5-5.1.5-2.1-9.8-2.9-13-1.5-26.7-2.5-55.6-10.2-80.8-7.1 24-2.6 49-.8 73.4.2 2.1.4 4.4-3.3 4.1-4.5-11.7-6-24.3-9.7-36.4.4 19 6.4 37.4 5.1 57.2-2.9-3.3-2.3-7.2-3.3-11.2-2.8-17.1-7.2-34.1-7.2-51.5-.5-5.1 6.1-8.3 8.3-2.6 1.5 4 2.6 8.1 4.5 12.2.6-11-2.4-41.8 7.6-47.7.9 0 2.2 1.6 2.4 2.7 4.5 22.7 6.2 45.2 9.2 68.4 2.3-10 10-51.7 21.9-51 3.5 17.4-2.2 35.8.9 53 2.1-6 16.9-32.7 22.8-19.6 1.9 10.5.7 21.3 1.2 32-.7 6.9 3.7 6.2 1.7 14.6h-5.1c-3.8-15.2 0-31.6-2.5-47.2-.4-.2-.8-.3-1.1-.5-9.9 9.5-14.1 23-16.8 36.1-.8 2.9-.8 2.9-5.3 3.1-1.9-23.3 4.3-45.7 1-68.8zm229-355.3c-13.4.8-23.8 12.9-35.5 18.8-10.6 6.8-20.4 14.7-29.5 23.4-2.9 1.7-8.2 9.4-11.2 5 20.5-32.6 50.6-57.7 76.3-86.1 2.3-2.4 4.7-5.1 5.1-8.9-26.1 1.2-63.6 55.3-78.9 76.5-2.1 2.7-3.5 6.7-7.3 7.2-.2-.3-.4-.6-.7-.9 12-26.8 31-50.4 42.5-77.4l-.9-.6c-29.1 22.8-41.4 59.8-61.8 89.4-.7-13.4 50.1-99.9 64.8-91.1 3.2 10.6-22.4 38.1-24.6 50 18.6-17.8 31.8-43.4 56.3-53.6 4.7-2.1 17.2-3.8 12.6 4.9-22.7 30.1-56.2 51.9-75.5 84.6 8.5-7.4 60.6-50.9 68.3-41.2zm-155.8 114.3c-8.6 5.5-5.9 35.4-8.1 46.2-.6 13.7-2 27.5-1.6 41.2.3 10.4 5 21.2 1.6 31.3-4.2-11.4-1.6-24-6.9-35.7-6.1 6.6-4.7 14.7-5.6 22.8-7 1.6-2.2-13.7-3.6-17.8-1.7-11.4 2.2-27.9-6.3-36.4-6 8-3.8 17.5-4.8 26.3-6.8 1.4-2.6-32.8-5.9-39.1-15.8 11.9-6.1 34.2-13.1 35-7.9-.4 5.6-36-7.1-36.4-9.1 9.4-6.2 33.7-11 46.3-.5 0-1-.1-1.4-.1-.6-7.3-2.1-13.3-5-20.2-7.1 6.8-9.4 15.1-11 23.8-.4-.1-.9-.1-1.3-.2-1.7-8.8 2.9-17 8.4-23.6 5-5.4 7 2.1 9.7 5.6 2.8-7.3 1.1-37.7 13.4-32.2 4.4 1.6 8.8 3.4 8.3 10.3 8.4-14.7 15.1-10.5 15.3 4.5 16.5-7.3 14.7 19.8 16 29.7 2.5-.2 4.6-.3 7.1-.5 2.5-12.1-.8-81 12.9-80.8zm734.5-399.3c7.4-13.3 10.6-29 22.6-38.8 16.1-10.3 26.8 5.9 23.9 21.6 11.4-7.2 17.5-18.2 25.7-28.4 5.8-7.2 14.8-7.1 22.6-3.5 10.8 3.7 14.9 11.6 14.4 22.8 7.8 2.3 14.6-3.1 21.7-5.3 16.4-4.4 34.1 2.9 49.5 8.3 12.5 4.6 12.7 18.5 15.3 29.6 1.4 6-5.8 6.3-10 8.6 9.1-11.1 1.7-17.3-.3-29.8-4.3-11-29.8-13-40.5-14.8-12.4-.9-23.3 11.1-35.8 6.2-5.3-1.3-5.8-5.9-5.5-10.8-.6-11.7-13.1-18.2-23.2-12-9.6 4.3-29.1 46.2-38.1 25.3.2-23.9-11.3-21.4-22.5-4.5-3.7 4.5-13 32.6-19.8 25.5zm135.4 49.6c-15.8.5-21.3 28.8-38.5 20.2 13-6 17.3-21.5 31.5-24.6 15.9-1.9 19.7 20.3 16.4 32.2 5.2-.1 8.3-1.5 12.7-3.2 5.1-1.6 9.5-.1 13.4 3.3 4.8 3.8-.7 6.7-3.3 10.4 15.8.5 18.4-4.8 34.8 5.7 13.4 12.7-15.6 20.4-21.6 28.7-4.7 5.3 2 10.1 3.6 15.2 3.9 11.5-8.3 21.2-16.9 19.3-4.2-.9-8.5-1.2-13.4-1.8 2.8-2.1 5.4-1.5 7.9-1 11.7 2.5 23-10.9 16-21.7-10.5-10.8-.8-15.8 8.5-21.5 5-3.7 19.4-10.8 11.8-17.9-6.8-8.6-40 4.9-33.4-8.8 1.5-1.6 3.8-4 3.1-6.3-2.9-4-8.4-.1-12 .8-5.3 2.6-17.4 1.3-15.5-6.7 2-8.4-4.1-14-5.1-22.3z"}),i.createElement("path",{d:"M643.6 296.201c-10 8.7-11.6 21.5-16.6 33-1.1 4.7-8.5 3.1-7.8-1.6.1-14.1 4.1-28.4-2.1-41.7-14.8 13.3-.4 33.6-4.9 50.1-12.1 1.1-7.5-21.6-18.3-21.4-17.9 10.7 21.4 36.1 18.2 48.3-8.3-13.6-21.7-24.9-26.7-40.2-2.1-7.6 7.7-13.2 13.4-8.1 7.3 4.7 5 14.3 11.1 19.6 1.6-11.6-2-22.1-2.6-33.5-.4-16.2 13.7-23.1 15.9-3 1.2 11.5-2.1 21.2-1.1 33.1 7.8-9.8 6.4-24.2 15.9-33.3 2.6-4.6 9.3-2.7 9.5 2.5 1.4 10.8-2.2 19.8-6.9 29.5 5.1-3 14.4-5.8 12.5 3-3.2 7.8-10.2 13.9-15.5 20.4-3.8 2.9-16.6 19.8-20.4 15.8 8.2-9.4 34.1-28.9 33.5-40.6-11.4 5-16.4 17.5-24.8 26-.3-.2-.6-.4-1-.6 2-6.9 7.7-12.3 11-18.6 6.1-11.3 12.8-25.8 7.7-38.7zm740.2 74.1c-14.2-1.9-22.2 17.6-34.4 12.6 13.8-12.2 41.7-29.8 43.2 1.3 22.7-8.7 49.2-12.6 70.8.7 17.9 16-22.8 19.4-31 26-11.7 9.3 16.6 11.4 8.1 21.7-4.4 10.6-21.1 1.8-21.7 11.6-1.1 13.2-21.1 10.4-30.2 15.6 4.3-10.1 22.5-4.3 25.1-15.5 1-6.6 2-7.6 8.6-7.5 5.8 0 9.9-2.2 12.9-7 6.6-8.6-18.4-11.6-7-20.1 9.8-6.6 23.2-6.7 32.3-14.4 9.9-14.6-19.1-16.1-28.1-15.5-9.3-.2-18.2 1.2-26.6 5.2-4.1 2-8.4 3.1-13 2-9.3-1-6.9-10-9-16.7zm-453.3-60.9c-2.9 1.8-4.8 1.1-7.5.3-11.9-1.5-14.9-5.8-23.3-13.7-7.7-9 3-18.8 9.5-25.3-11.4-4.6-30.6-7.9-28.8-23.7 1.3-10.3 7.7-17.8 17.8-20.3 4.8-.9 11.5-2 9.7-8.4-1.6-8-6.7-14.7-10.5-21.7-9.3-15.7 2-31.5 18-35.9 6.1-2.7 6.7-4.1 5.1-10.3-6.5-20.6 15.9-43.4 36.1-35.2-21.5 1.2-38.6 18.5-32 39.7 1.9 8.7-10.1 9.4-15.4 13-36.7 23.2 28.7 56.1-11 63.3-9.3 3.6-13.8 14-13.5 22.5 1.6 11.3 17.6 10.2 25.3 15.9 10.3 5.2-19 19.6-4.3 29.1 6.2 9.1 15.9 7.7 24.8 10.7zm-72.3 60.1c6.4 3.7 13.1 2.7 19.8 5.6 11.1 2.3 12-6.6 32.5-2-4.6 5.4-12.4-1.1-19.5 3.7-5.3 2.2-10.5 3.1-15.8-.2-2.9-1.1-6.8-.6-9.5-1.9-18.5-8.2-37.2 5.2-48.4 19.2-5.3 7.5-12.8 11.8-21.6 14.1-3.9 0-9.3 6.1-12.1 2 1.4-2.6 3.9-3.7 6.6-4.2 14-2.1 22.1-12 30.2-22.4 21-20.3 32.5-9.1 42.2-24.9 5.7-12.7 11.9-25.6 26.2-30 9.8-1.7 19.1 2.8 29.3 3.6 1.9-7.1 5.1-12.9 12.3-15.6 1.3 4.1-7 9.4-8.4 13.9-6.2 9.6-24.3-2.9-33.4 2.9-18.5 6.9-17 25.9-30.4 36.2zm290.6-214.4c-7-1.7-13.3-4.9-19.7.2-15.5 12.2-27.8 26.8-38.6.1-6-11.4-23.8-14.6-31.5-3.4-5.3 8.5-4.7 15.9-14.1 22-10.8 7.4-8-9.3-15.2-9.4-12.6-1.3-14 13.3-11 22.5-5.2-1.2-4.5-7.2-5.2-11.2-1.7-18.2 22.2-17 26.4-3.5 8.4-5 10.2-10.6 12.6-19.6 9.4-22 41.8-7.5 47.7 10.7.5 1.2.8 1.9 2.1 2.7 12.9-5.2 21.6-25.5 38-17 2.9 1.6 6.7 1.5 8.5 5.9zm-545 338.7c2.1-24.1 6.4-48.1 13.4-71.2 2.4-5.7 15.1-45.1 20.4-42.7 5.3 1.7 2.2 12 1.5 16.1-12.2 32.4-22.7 65.9-33.8 98.4l-1.5-.6zm33.8-112.1c-7.8 9-21 51.2-19.5 61.8 5.1-15.7 22.4-47.5 19.5-61.8zm-68.5 94.9c-9.7-28.5-9.4-58-14.9-87-2.7-14.1 6.2-36.9 16.4-13.1-.3.2-.6.4-.9.5-2.3-2.9-4.6-5.9-7.2-9.3-7.4 14.1-1.2 28.2.3 42.6 2.1 15 4 30 6.1 44.9-.6 4.6 8.6 22.7.2 21.4zm437.4-31.8c4 .4 6.4 3 8.3 6.1 4 6-5.4 10.4-8.8 14.4-9.1 8.2-6.5 26 6.6 28.1 4.2.8 8.5 1.4 12.8 1.9 10.3.4 34.6-9.2 40.3 2.4 5 7.6-10.4 8.4-14.4 15.4-7.5 8.8-4.5 12.6 6 15-26.9 1.5-15.1-22.2 2.6-26.5 3.4-1.2 1.9-7.3-1.7-6.8-9 .1-17.8 1.2-26.4 3.5-11.1-2.8-25.2-1.4-32.3-12.1-4.2-6.5-4.2-14.7.4-20.8 5.3-7 17.8-12.9 6.6-20.6zm-21.5-90.4c-1.8 9.2-16.4-5-21.5-6-11.7-5.6-4.2-17.5 1.9-24.5 9.6-12.6-14.2-15.1-8.6-28 3.4-15.8 24.4-27.7 39.8-20.9-14.2 1.6-27.3 6.8-32.9 20.9-5 10.2.8 12.6 7.2 19.2 7.5 9-6 15.9-7.8 24.4-3.1 8.7 7.5 9.8 12.7 13.9 4.5 2.8 4.4 2.9 9.2 1zm399.9 437.3c-2.9-1.4-2.6-3.3-2.6-4.9.8-8.1-7.8-9.7-12.4-15.4-.2 1.1-.4 1.9-.5 2.7-4-2.9-4.3-3.8-2.4-8.2-13.6-11.9-35.5-23.2-33.4-44.3 7.1-23.2 44.2 36.1 46.5 45.5 2.7 8.1 5.3 15.8 4.8 24.6zm-4.8-16.2c-.3-7.5-37-73.2-41.7-50.8-.8 24.9 26.4 35 41.7 50.8zm-806-395.3c6.8 3.7 11.3 33.3 14 42 4 20.2 7.2 40.6 10.6 61 .1 3.7 2 8.1-1.7 10.8-7.4-38-12.3-76.3-22.9-113.8zm564.2-146.3c-18.9 5.5-3.5 21.3-15.6 32.3-2.8 3.3-3.8 3.6-7.4 1.1-6.8-4.7-18.9-1.2-18.8 7.9-.1 3.5 0 7.1 0 11.2-5.4-3.5-2.2-10.2-3-15.5.2-9.1 12.7-11.7 19.4-7.3 3.6 2.3 4 2.1 6.8-1.2 6.4-6 5.2-13.7 4.6-21.7.5-6.7 8.2-12.1 14.4-8.3-.2.6-.3 1-.4 1.5zm-131.7 210.8c-9.9-4.7-25-7.9-23.7-21.9-1.2-17.6 14.6-40.8 33.6-31.1-20.2-1.2-28.1 17.6-28.5 34.8-1.8 11.4 12 12.7 18.6 18.2zm-383.8 86.7c6.1 10.8-.9 23.3-.2 34.7 4.2-7.1 8.2-28.8 17.3-29.5 7.5.4-.1 30.2-4.2 31.1-.8-10.5 8.3-19.6 3.4-29.7-8.8 12.1-13.1 25.7-15.9 40.3-.4 2-.3 4.5-3.3 5.7-1.5-17.4 3.8-35.1 2.9-52.6zm0-.1c-14.4 8.8-7.3 50.1-14.4 65.4-5.7.4-2.4-13.8-3.3-17.8.6-9.6-.6-19.7 1.4-29.1.6 8.6 1.2 17.2 1.8 25.6 2.3-9.9.3-44.9 14.4-44 .1 0 .1-.1.1-.1zm-15.6 55.4c.1 0 .3 0 .4-.1v-6h-.4v6.1zm981.1-270.7c-11.6-7.6-12.4-26.2-5.9-37.1 8.8-7.2 15.4-16 21-25.7 2.1-3.1 1.6-5.2-1.8-8.3 9.5 1.9 7.1 8.4 2.2 14.1-3.1 8.9-10.7 14.1-16.8 20.5-7.7 9.9-5.4 25.2 1.4 35.2.2.2-.1.8-.1 1.3zm-832 117.8c17.4 4.2-13.8 22.1-18.6 26.6-15.1 10.5-26.6 25.5-43.7 32.9 16.3-16.8 35.8-30.8 54.7-44.8 4.1-2.9 13.4-9.8 7.6-14.7z"}),i.createElement("path",{d:"M962.7 150.601c-21.6-21.9 32.4-18 18.7-39.7-3.5-5.9-7.4-11.6-5-18.6 4.2-2.2-.3 10.8 8 20.5 13.6 24.2-29.7 14.4-21.8 37.9l.1-.1zm-362.1 298.1c0-23.7 5.4-46.3 11.5-69.3 2 2.8 1.1 4.8.8 6.6-4.2 20.8-7.9 41.7-11.6 62.7h-.7zm972.7-244.8c-45.6-18-43.4 17.4-58.9-6.2l-.1.1c8.5 6.1 8.5 6.6 17.4.5 10.5-5.3 32.5-2.3 41.6 5.6zm0 .1c5 .9 10.9 5.4 9.3 10.9-4.2 12.8-.9 12.8 5 21.9 1.2 1.8 3.4 3 5.2 4.5l.1-.1c-11.1-2.9-19.8-16.8-14.6-27.8 2.2-4.4-2.2-6.7-4.9-9.5-.1 0-.1.1-.1.1zm-59.9 218.9c-12.2.8-24.7 7.2-35.7-1.2 1 0 2.2-.4 3 .1 9.9 5.3 24.9-7.9 32.7 1.3-.1-.1 0-.2 0-.2z"}),i.createElement("path",{d:"M1514.4 197.701c-6.1-4.7-12.4-2-19.2-4.8 7-3 14.4-.8 19.1 4.9l.1-.1zm73.8 118.4c7.8-1 15 .7 22 4.1-7.2-1.3-14.7-3.1-22-4.1zm-625.6-165.4c1.7-1 3 .5 4.5 1.2-.2.3-.3.6-.5.9-1.3-.8-2.6-1.5-4-2.2.1 0 0 .1 0 .1zM19 505.401c8.1-24.6 38.5-42.9 60.7-23.3 15.1 14 29.7-5.3 45.6-7.1 11.6-3 19.2 3.8 23.6 14.1 13.9 20.5 45.9-16.4 58.2 30.8-14.5-7.3 4.1-27.3-37.9-20.5-23.5 4.1-22-21.3-33.9-21-15-1.3-25.2 11.3-39.3 12.6-5.6 0-10.6-1.4-14.6-5.5-22.2-20.5-53.8.2-59.9 24.4-.7-.7-1.6-1.6-2.6-2.5.1-.6.1-1.3.1-2zm368.6 319.5c-16.4 14.8-22.9 35.9-31.2 56.3-1.4 3.3-1.3 3.3-5.5 4 1.4-24.3 10.1-47.7 10.7-72.1-.4-.2-.8-.3-1.1-.5-18.8 24.1-21.6 55.6-29.4 84.2-1.1 4.7-1.1 4.8-5.8 5-1.7-33.7 6.8-67.9 3.5-102-8.3 14.9-9.7 32.4-15 48.5-8 26.1-6.5 54.8-14.5 80.3-.4-13 1.6-25.8 2.6-38-31-55.1-32.9-122.7-46.7-183.7-16.4-123.7-10.2-253.4 18.5-374.7 1.9-.5 2.5.5 2.3 2.2-7 31.6-13.9 63.2-17.8 95.3-8.2 77.5-10.2 155.9-4.2 233.6 5.3 49.1 15.6 97.5 24.3 146.1 6.3 26.6 10.7 54.2 23.7 78.4 1.1-8.2 18.3-114.8 32-88.5 3.4 24.7-2.3 49.7-1.9 74.3 3.6-13.5 16.1-65.3 32.6-64.4 3.8 16-4.4 33-3.9 49.4 7.4-12.1 12.6-27.8 26.8-33.7zm-307.5-68.3c19.8-4.7 21.6 108.9 25.7 125 1.3-46.5 3.8-92.9 14.9-138.3.4-2.7 1.7-5.9 4.6-6.3 3.9 3.1 2.1 10.7 2.9 15.3.9 33.4-1.2 67.2 1.1 100.5 4.3-17.8 8.5-36 19.1-51.2 3.5-7.1 19.9-19.3 19.1-3.8 1 21.6-7.6 42.9-8.1 64 4.9-14.1 23.6-52.7 25.9-14.9 1.7 19.5 3.8 39.1 5.2 58.6-.1 1.9-.2 1.9-3.8 2.8-5.7-24.7-4.3-50.1-8.2-75-.4-.2-.8-.3-1.2-.4-12.8 16.8-17.6 38.3-22.8 58.4-.4 1.9-.9 3.3-3.7 3.3.5-34.5 15-68.6 11.9-103-17.4 5.4-28.1 48.5-30.8 65.3-2.1 11.8-3.7 23.8-5.6 35.7-.3 2 .3 4.7-3 4.9 1.1-51.6 2.6-102.4.6-154-16.8 49.4-8.3 104.8-18.8 154.2-5-24.1-6.3-131-25-141.1z"}),i.createElement("path",{d:"M260.2 321.901c-61.3 194.5-63 404-27.7 603.7-.4.2-.8.3-1.2.5-16-41-16.1-86.9-20.9-130.3-5.4-45.6-5.1-91.3-4.1-137.1 2-108.6 12.4-217.8 45.5-321.7 2.2-4.6 2.7-15.6 8.4-15.1zm20 12.7c-.4-6.1 1.4-11.9 4.4-17.1 23.6-42.5 46.8-85.5 82.7-119.1 38.2-43.4 84.2-80.3 136.1-105.8 6.3-2 17-9.7 22.9-7.5-110.5 45.4-195 142.9-246.1 249.5zm-12.9-38.8c14-56.3 25.3-112.1 38.6-168.3 3.3-14.1-1.9-34.3 10.2-44.4 1.3 1.9.6 3.7-.2 5.7-7 19.7-2.6 41.5-10.3 61.3-15.1 48.2-17.8 103.6-39.1 148.4-1.3-1.9-2.2-5.4.8-2.7zm120.3 529.2c8.2-.4 10.3 1.2 9.7 9.6-1.3 20.5-10 40.7-10.4 61 3.9-7 20.8-63.6 24.8-29.8.8 15.5 1.6 30.9 2.3 46.4.1 3 .7 6.5-3.8 5.9-2.7-19.2-1.9-38.8-3.7-58.2l-1.2-.3c-6.6 9.3-14 50.1-25.7 47.4-3.5-16.2 23.4-80.8 8-82zm-142.5-530.9c.6-10.8 1.2-21.6-.6-32.4-3.4-25.2-1.8-58-27.8-71.7-46.9-26.9-117.4-10.8-142.7 38.4-3.9-3.9 1.7-9 3.6-12.6 31.7-43.4 94.4-51.5 140.2-27 25.1 10.5 28.8 39.7 30.5 63.8.2 9.8 5.9 36.5-3.2 41.5zM80 756.501c-3.8 20-1.8 40.4-2.2 60.7-.5 29.7 12.8 57 12.2 86.8-6-19.5-8.6-40.3-13.3-60.2-4.8-24.9-2.1-50.5-1.8-75.7.8-3.7-.3-11.5 5.1-11.3.1-.2 0-.3 0-.3z"}),i.createElement("path",{d:"M361.9 223.701c-.3-.5-.7-1.2-1.4-2.5 27.6-9.6 56.2-16 82.2-29.9 11-4.1 21.3-11.6 33.3-11.9-17.3 9.2-35.2 17.6-52.9 26.2-19.2 9.7-41.4 10.1-61.2 18.1zm154.4-78.5c-33.3 16.2-68 29-103.8 38.3-5 1.3-10.2 2.2-15.3.5v-1c40.6-7.7 78.8-27.1 118.5-39 .3.3.5.8.6 1.2zm-313.2-41.7c23.2 12.4 46.8 30.6 52.3 57.5 3.3 16.5 15.2 61.7 3.1 73.9.1-14.7 1.2-29.3-1.7-44-3.1-18.7-5.4-38.2-16-54.5-9-14.4-24.9-22.3-37.6-33l-.1.1zM393.3 73.6c-17.2 32.201-21.2 71.101-29.9 106.701-4.1-27.1 8.6-53.9 13.6-80.3 2.6-8 6.8-24.8 16.3-26.4zm40.5-25.4c-17.3 32.7-28.9 68.401-39.1 104.101-.4-.1-.9-.1-1.3-.2 5.7-36.1 15.9-75.7 39.5-104.5.2.2.5.4.9.6zM338 218.201c-9.6-6.5 3.9-113.5 16.3-115-11.2 37.2-15.2 76-16.3 115zm-9.6 42.3c7.8-5.1 16.7-8.5 25.3-11.9 29.1-9.1 54.3-26.4 82.2-38l.6 1.2c-32.5 23.1-70.2 37.3-107.6 49.8-.2-.3-.4-.7-.5-1.1zm-125.2-157.1c-9.9-1.5-20.1-9.6-29.9-5.2-22.4 11.2-36.9 32.6-50.6 52.8 5.6-24.5 29.1-47 51.8-56.5-12.5-4.3-24.7-6-37.5-8.5-10.4-2.7-20.6 2.5-30.9 1.1 24.5-9.1 49.6 2.5 73.7 6.3 6.9 5.6 16.4 4.6 23.4 10zM483.5 33c-22.6 26.4-36.9 56.3-50.4 87.801-.5-.2-.9-.3-1.4-.5 7.6-29.1 24.9-72.6 51.8-87.3zM258.8 589.301c0-3.9 2.6-3.6 4.4-3.8 27.3-3 32.3 27.4 22.1 45.6 12.1 8.1 24 15.8 26.3 31.9-2.1-1.1-3.1-3.1-3.7-5.3-3.3-10.6-12-20.3-23.5-20.7-8.9-2.6-4.8-11.9-1.9-17.8 7.5-22.9.6-32.7-23.7-29.9zm-177.5-247.7c-12.4-13.7 67.7-36 78.3-40.1 14.3-4 30.7-4.5 44.4 1.3-13.5-2.9-27.3-3.6-40.7.7-27.5 10.6-61.2 15.8-82 38.1zm229.7-44.4c18.2-3.3 32.5-14.2 47.8-23.8 11.1-6.3 21.2-11.4 33-17.2-1.1 3.9-1.7 5.9-5.1 7.5-24.4 13.2-46.6 32.8-75.3 34.9-.1-.5-.3-.9-.4-1.4zm253.7-178.2c-38.8 15.7-80.8 17.3-120.8 27.4-4.9-6.1 33.9-9.5 38.6-11.2 27.6-4.1 54.4-11.7 81.7-17.2.2.3.4.7.5 1zm-476.5 464.9c32-2.4 21.4 39.3-4.7 39-14.4.2-16.6-17-14.3-28.2 1.3-8.8 11.1-11.8 19-10.8zm-6.1 37.7c7.1-2.3 12.6-3.6 16.5-10.2 7.6-7.9 6.2-25.7-6.6-26.4-8.6-1-17 2.5-17.9 11.9-1.1 9-1.5 20 8 24.7zm220.5 95.6c-24.4.5-22.9-35.3-.7-34.8 7 0 16.9 10.4 17.1 17.8.2 7.7-8.8 17-16.4 17zm-1.4-26.7c-8.4-7.2-13.1 10.2-11.5 16.5 3.5 14.4 25.6.8 24.3-10.1-.1-7.5-5.7-11.5-12.7-9.3 0 1.1-.1 2.1-.1 2.9zm305.6-586.9c-16.1 2.5-32.4 3.6-48.6 5.5-21.3 1.3-43.8 5.9-64.6-.3 37.9.7 75.4-7.8 113.2-6.5.1.5.1.9 0 1.3zm-465.2 83.8c5.4 27.2-7.3 56.5-21.6 79.3-.5-.2-.9-.4-1.4-.6 8.8-25.8 19.4-51 21.2-78.5.6-.1 1.2-.2 1.8-.2z"}),i.createElement("path",{d:"M67.5 168.001c-3-17.8 27.2-74.7 48.9-68.1-26.6 12.9-36.2 41.2-48.9 68.1zm2.1 73.5c-18.3 26.9-24.3 59.7-37 88.7-.1-14.3 22.6-89.6 37-88.7zm11.1 56.4c8.5-26.4 8.3-53.5 10.4-81 3.3 1.9 2.9 5 3.1 8.2-2.5 21.9 4 56.9-13.5 72.8zM249.9 94.5c20.1 23.401 30.5 56.101 30.9 87.301-.4.1-.9.2-1.3.3-3.8-10.6-5.1-21.8-7.6-32.8-3.3-19.9-14.9-36.2-23-54.1.3-.1.6-.4 1-.7zm273.5-67.3c-19.7 23.7-38.8 46.8-58.2 70 1.9-12.7 46.7-67.2 58.2-70zM149.1 625.301c24.6.3 20.2 37.3-3 32.5-13.3-6.9-16.8-33 3-32.5zm.4 30.6c11.5-2.4 15.1-19.1 5.7-26.1-14-10.8-20.1 16.4-8.8 23.4.8-.8 1.5-1.6 2.6-2.8.2 2.2.4 3.8.5 5.5zm23.4-466.2c.8 18.7-19.2 60.9-32.9 70 12.9-23.3 21.7-46.4 32.9-70zm-71.1 90.5c3.5-25.9 5.7-50.6 7.6-76 10.3 17.6-.5 56.8-6 76.3-.5-.1-1-.2-1.6-.3zm220.3-126.1c-10 31.3-7.1 63.7-6.4 96-6.5-10.2-4.6-23.9-5.3-35.6-.6-20.8 1.2-41.7 10.5-60.7l1.2.3zm-174.4 414.4c-17.8-6-10.3-33.5 7.4-28.3 6 1.8 8.9 6.2 8.6 13-.6 18.1-16.5 9.2-16 15.3zm-2.8-4.7c7 .7 11.1-1.9 12.5-8.4.6-4.4 1.8-11.3-3.2-13.5-10.1-.6-14.5 13.8-9.3 21.9zm245.7-282.7c-10 15.8-29.2 22.6-46.2 27.8-13.7 3.6-27 8.1-39.4 15-4.4 2.5-4.6 2.3-8.8 1.8 29.3-19.8 67.6-19.9 94.4-44.6zm-222.4-23c12.9-19.4 23.4-41.6 35.5-61.2 2.5 1 1.6 2.7.9 4.2-8.6 20.4-18.4 43.8-36.4 57zm118.3-128.9c-10.2-24.7-19-49.9-33.2-72.7 16.5 11.2 30.7 52.4 34.4 72.5-.4 0-.8.1-1.2.2zM152.7 97.3c-.8-1-1.7-2-2.6-3.1-19.4 14.001-33.5 35.401-50.5 51.901 3-7.9 47.9-70.3 53.1-48.8zM59 308.901c-.7-6.9 11.7-62.8 19.2-60.4-5.5 20.5-10.1 40.9-17.3 60.6-.6-.1-1.2-.1-1.9-.2zm98.3 5.8c-7.4 21.9-14.5 43.3-17.1 66.3-9.4-4.4 8-63.6 17.1-66.3zm-37 20.3c-10.7 19-17.2 39.3-20.9 61-8.5-7.2 9.6-61.9 20.9-61zm13.9-7.8c-2.8 22.2-13.6 42.7-15.5 65.2-10.1-10.7 10.4-51.5 14.1-65.5.5.2 1 .2 1.4.3zm-37.9 21.7c-13.3 21.2-22 43.5-26.7 67.6-2.3-17.1 10.5-60.6 26.7-67.6zM291.4 98C290 70.7 281.1 56.1 270 32.8c.3-.2.6-.3.9-.5C284.2 50.7 299 74.5 291.4 98zm-92.1 10.901c-20.9 12.6-39.9 26.4-57.5 42.4 8.6-13.5 41.3-43 57.5-42.4zm-41.3 266.1c-8.6-6.2 12.4-59.2 21.2-64.2-9.4 21.1-17.8 41.8-21.2 64.2zm-110.6-236.2c2.7-14.8 15.1-24.4 23.1-36.5 5-5.3 12.4-12.3 20.3-7.5-14.7-.5-32.9 32.9-43.4 44zm282.2 624c-14.8-1.5-14.1-19.6-.7-22.2 17.8 2.3 17.1 20.6.7 22.2zm-6.7-9.6c-.7 14.9 19.4.1 13.7-7.5-5.6-4.7-13.7 1.3-13.7 7.5zM213 47.3c15 11.8 23.6 49.7 20.6 66.101-5.8-22.5-7.3-46.4-20.6-66.1zm323.1 32.3c18.7-10.8 50.8-3.3 72.7-5.3 2.8.3 3.7-.1 6.2 2.3-26.9 1.3-52.9-3.5-78.3 4.4-.2-.4-.4-.9-.6-1.4zM194.3 256.001c9-16.3 18.2-32.3 24.4-49.9 8 5.3-15.8 47.6-24.4 49.9zM506.5 75.3c4.9-6.4 34.3-40.3 41.3-33.4C534 53.2 521.7 65.6 507.3 76c-.3-.3-.5-.5-.8-.7zM65.8 354.901c-8 16.4-15.8 32.6-23.8 49.1-1.8-14.7 9.7-26.7 14.6-39.9 2.6-3.3 3.5-10.6 9.2-9.2zM175.2 40.6c21.3 8.8 31 37.1 35.3 57.6-5.3-3.4-5.6-10.3-8.3-15.4-5.9-16-12.7-31.8-26.9-42.3l-.1.1zm42.6 85.001c-17.6 6-30.5 18.7-44.6 30.2 2.7-12 31.2-31.2 44.6-30.2zM183.2 88.4c-3.5-3.5-5.6-7.9-7.7-12.3-7.1-17.2-22.7-24.6-36.6-34.7 21 8.8 39.7 23.4 44.3 47zM64.3 698.701c6.4 1.1 2.2 7.4 6.4 10.1 6.1-2.1 8.9-8.5 6.7-15.1-4.2-1.1-7.3 2.2-11.2 3.1-1-8.2 12.9-6.9 15.7-1.7 3.3 5.9-3 18.1-9.6 15.6-5.7-1.4-8.9-6-8-12zm-8.1-478.6c-8 12-15.5 23.5-23.2 34.8-1 1.5-1.7 4-4.5 3.4 1.2-8 18.6-32 27.7-38.2zm240.5 12.7c.6 15.5 1.1 31 1.7 46.5-.1.1-.3.2-.4.3-5.7-14.5-4.9-32.1-1.9-47 .1 0 .4.1.6.2zM108.1 51.8c20.3.3 35.4 8.7 43 28.8-19.1-15.8-12.2-23.9-43-28.8zm195.2 14c-2.9-4.4-12-35.3-12-40.5 5.2 4.1 12.7 28.9 12 40.5zm-76.5 161.201c.6 10.3-11 34.2-18.3 37.9 6.3-13.2 12.3-25.6 18.3-37.9zm-40.6 132c-4-11.5 3.1-34.2 13.4-43.8-7 14.7-10.8 27.5-13.4 43.8zm-129.7 179.9c-.5.2-1.1.4-2 .8-.2-13.7 9.3-13.4 16.5-4.4 3.8 5.1-1.9 11.8-7.5 8.5-2.4-1.3-4.5-3.1-7-4.9zm11.3-2.6c.3-5.5-8.7-5.7-8.3-.3-.1 7.7 8.3 7 8.3.3zm164.2-388.5c-12.8 3-23.5 10.4-35.7 15.7 5.1-7.8 25.3-16.7 35.7-15.7zm-25 204.2c-1.7-5.2 1.3-26 5.9-28.1 1.1 3.8-2 19.7-5.9 28.1zm-161.1-143.5c9.2-10.9 21.4-16.8 35-20.1-12.3 5.5-24.4 11.5-35 20.1zm16.1-26.9c4.9-6.1 25.3-10.5 41.5-8.5-15 1.1-27.8 3.7-41.5 8.5zM319.5 54.7c-2.2-10.2-4.3-20-6.4-29.9 5.3 4 8.7 19.5 6.4 29.9zM223 311.301c1.9 6.6 3.8 13.3 5.7 19.9-4.8-5.8-6-12.6-5.7-19.9zm17.6-140.2c-5.1-.4-10.2-.7-15.3-1.1v-.1c5 .6 10.9-1.5 15.3 1.2zm-23.7 139.7c-2.5-2.2-4.9-4.4-7.5-6.7 3.9.7 6.7 2.6 7.5 6.7zm23.7-139.7h5.1v.9c-1.8-.3-3.4-.6-5.1-.9z"}),i.createElement("path",{d:"M175.4 40.5h-3.9c1.8-1.5 2.8-1 3.8.1l.1-.1zm1417.3 200.801c1.4.3 2.8.5 4.2.8l-.3.9c-1.2-.6-2.5-1.2-3.8-1.8l-.1.1zm-685.2 413.2v-7.4c-53.9 1.3-107.6-2.5-161.4-2.6-17.9.4-35.8 2.7-53.7 4.1-23.7-4.3-49.1-1.7-73.6-3.5-2.5-5.5 10.5-1.8 13.3-2.6 37.2-.3 74.3 3.5 111.4-.6-2.7-17.1-8-33.6-11.3-50.6-.4-6.8-12.8-29-.6-29.3 20.2-1.3 40.7-9.9 60.7-3.8-2.5 2-2.4 3.8-1.5 5.9 8.2 23.4 10.7 48.2 18.1 72.1 19.6.9 39.2-.2 58.8.2 5.1-.1 3.9 3.4 3.6 7.5-1.2-1.8-1.9-2.9-2.9-4.4-20.9-.2-42-.6-62.9-1.6-3.1-1.1-2.8 5-5.3 1.4-6.8-26.2-11.7-53.1-19.1-79.2-17 1.7-34.1 3.4-51.8 5.2 6.1 25.7 12.5 51 18.6 76.9 34.3.2 68.6 1 102.9 1.8 18.5.1 37.1 1.2 55.6.4 5.1.2.9 9 1.6 12.8-14 .4-27.3.3-41.3.3-1.8 0-3.1.4-4.1 2.1-20.2 31.7-41.2 62.7-61.6 94.2-33.8 56-71.8 109.3-107.2 164.2-1.3-.6-2.4-1.1-3.5-1.6 55.5-86.4 112.7-172.8 170.6-258-17.1-4.3-35.1-.9-52.7-2.1-36.2-.9-71.9-2.5-108.1 1 18 27 33.4 55.8 50.9 83.2 6.4 9.1 10.7 19.1 15.7 28.8.9 1.7.8 1.8-.6 4.6-7.9-8.8-9.7-21.9-17.7-31-14.4-20.8-25.2-43.8-39.6-64.6-15.8-26.1-8.1-19.7-37.3-21.1-.6-1.8.2-2.2 1.6-2.2 20.9-1.2 41.8-1.1 62.8-1.5 57.2-2.6 114.3 1.3 171.6 1zm-101.3-18.3c-7.3-25.6-9.8-52.8-19.6-77.3-.1 24.9 11.5 51.8 15.7 77.3h3.9zm215.2 17.7c-1.4-.1-2.8-.3-4.6-.4-1.7 4-3.5 8.2-5.6 13-1.2-3.3-.7-5.7.3-8.1 11-26.7 20.6-54.1 31-80.8.1 5.2-1.5 10.1-2.5 15.6 10.1.4 19.9-2.6 30-3.7 2.4-5.2 4.8-10.5 7.1-15.8 5.3 2-1.1 11.6-1 15.8-11.5 52-38.4 98.7-63.6 145.1 3.3 3.9 8.4 4.6 12.2 7.4-29.6 12-11.7-11-35.7 32.1-3.4 9.4-28.2 44.1-23.7 49.7 21.4 34.5 43.5 67.7 69.7 98.8-.9.7-1.6 1.4-2.7 2.3-28.2-30.2-50.1-64.2-71.6-99.4-2.1 5.3-8.1 9.6-6.1 15.2 7.8 15.2 17.6 29.3 26 44.2-2.9 2.2-4.7 2-6.4-1.1-7.8-13.7-15.2-27-23.2-40.9-8.5 13.8-17.5 27-27.4 39.8-5 4.9-19.5 35.7-26.2 28.9 16.2-24.7 34-48.5 48.4-74.5.8-1.4.5-2.6-.3-3.9-5.4-9.5-10.8-19-14.6-29.2 3.7-4.5 14.5 23.3 18 27.4 1.5-2.4 2.7-4.1 3.7-5.8 4.9-8.4 4.5-5.2.3-13.4-4-8.7-9.2-17-12-26.1 3.1-4.1 15.2 24.7 18.2 28.4 13.3-22.4 26.1-44.1 39-66-5.7-5.5-39.4 5.5-43.8.5 3.4-4.4 16.8-1.3 22.8-4 13.6-.5 21.8 2.3 30.8-11-1.4-.9-2.6-1.7-3.8-2.5l.4-.4c1.2.6 2.4 1.2 4.1 2 12.7-20.7 23.4-42.5 34.3-64.2 1.2-2.2-1.4-3.6 0-5.4-6.3-2.3-12.6-3.9-17.7-8l-.1.1c6.9 2.4 13.2 4.8 20.4 7.3 4.3-9.1 6.6-18.3 10-27.1-8.1-3.4-16.9-.4-25-4.7 8.4.9 16.9 1.8 25.7 2.7 1.1-3.5 2.2-7.2 3.5-11.2-10.4-.6-20.2-1.2-30.4-1.7-1.2 3-2.3 5.8-3.3 8.6 1.9.7 3.3 1.3 4.7 1.8h-5.5c-2.8 6.9-5.5 13.7-8.2 20.6 1.6.8 2.8 1.4 4.1 2.1l.3-.1zm18-59.2c-3 8.5-6.4 16.5-9.2 25.3 10.5.4 20.4.7 30.4 1 3.1-9.9 6-19.5 9-29.3-10.5-.5-20 4.2-30.2 3zm-27.4 141.7c-2.8 1.8-4.8 3.7-5.6 6.8 5.6.8 8.2.2 11.4-2.8-2-1.3-3.9-2.6-5.8-4z"}),i.createElement("path",{d:"M782.3 799.301c3.6-.2 4.8 4 6.2 6.5 4.8 11.2 11.5 21.2 18.2 31.2 6.8 10.2 13.7 20.2 20.5 30.3 1.8 2.6 1.7 2.6 0 6.4-16.8-23.8-34.2-47.1-44.9-74.4zm94 64.6c-4.1-1.7-4.4-2.5-2.2-5.4 8.1-10.7 16.3-21.4 24.4-32.2 3.4-2.9 9.8-18.2 13.9-15.7-9.7 19.2-23.6 35.7-36.1 53.3zm-48.5-338.3c.2 3.3.4 6.5.7 9.9-6.2 1-2.8-7.3-3.6-11.1 8.1-1 16.4 0 24.6-.1 4.2.1 4.9.6 6.4 4.7 11.4-.5 8.1 11.7 7.7 19.2-5 .9-1.8-12.7-3.4-16.3-1.5-.1-2.9-.2-4.8-.4v12.1c-5.1 1.7-3-14-3.7-17.4-8.1-.3-15.9-.4-23.9-.6zm-9.1-35c7.5 5.8-6.5 12.5.7 13.9 9-8 32.5-4.9 24.3 10.5-1.5 1.9-3 4-5.7 3.5.3-3.7 4.6-5.7 5.1-9.5 2.2-8.1-15.7-6.9-19.4-3.1-4.4 4.1-11.7-3.9-7-7.6 2.1-2.4 2.9-4.9 2-7.7z"}),i.createElement("path",{d:"M792.3 494.501c5.1-5.8 8.1-2.2 11.6 1.6 4.2 3.5 1.5 7.9.1 12.1 12 8.9 31.9-8.4 30.2 6.3-2.1-.3-1.3-2.4-2.3-3.7-56.2 8.3-9.7-19.7-39.6-16.3zm26.5-4c-4.7-2.5-10.1-3.6-15.1-5.2 0-.3.1-.5.1-.8 4.4-.4 7.5 2.9 11.9 2.9 1.7.2 3.2 1.1 3 3.3 0-.1.1-.2.1-.2zm206.9 165.1c-1.4-.6-2.8-1.1-4.3-1.7l-.1.1c1.4.6 2.8 1.1 4.2 1.7l.2-.1z"})),i.createElement("path",{d:"M906.5 633.7c44.2-58.2 10.5-45 81.4-42.4 3.8-.9 3.7-.9 5 2.5 15.7 38.8 21.7 80.5 24.3 122.1 1.8 18.4-25.1 29.1-40.3 29.7-5.4 1.3-20.6-2.3-22.4 3.4-5.6 18.9-11.8 37.5-15.7 56.8-1.2 5.1-1.7 5.8-6.7 5.4-14.8-1.2-30-.9-43.4-8.2-37.2-14.7-75.3-27.1-111.5-44.4-9.6-5.1 1.6-16.1 2.9-23.3 4.9-20.6 17.7-40.3 38.1-48.2 10.9-6.4 23.6-5.8 35.5-9.7 18.6-3.1 36.3-10.4 55-11.7 4.3.1 5.3-4.7 8.5-6.7 1.8-1.5 2-3.2 1.3-5.3-3.6-6.9-2.1-18.9-12-20zm-10.1-33.6c-6.2-4.9-5.3-13-3.4-19.7 5.9-13.6 10.2-27.6 10-42.6.3-2.8-.6-7.2 2.2-8.7 6.2.2-3.3 36.4 2.4 38.8 5.2 2-11.7 23.7-11.2 32.2z",fill:"#007891"}),i.createElement("path",{d:"M811.9 545.901c-4.5-4.5 4-9 7.9-9.8 7.1-1 13.4-4.1 19.5-7.5 2.5-1.4 5-.9 6.6 1.5 6.8 8.9 13.4 17.4 23.2 23.4 7.6-26.4 10.9-19.6 34.6-25.8-.5-4.4-4.5-5.9-6.4-9.1-19.1 14.6-24.7 4.1-29.6-14.8-13.1-4 5.4-15.5 2.8-23.4-1.8-5.6-.9-11.1-.5-16.7.5-4.9 7.8-5.5 11.5-3.3 15.5 8.6 22.3 22.2 21 39.5-.6 7.8.7 15.1 3.5 22.2.8 2 1.9 3.8.2 5.6 3.4 7.1 6.6 14 9.9 21 9.5-6.3-9.9-16.2-4.2-34.6 3-5.2 5.3 12 18.7 15.9 35.7-14.8 40.5 12.7 52 38.7.9 4.9 14.5 26.7 3.4 24.4-13-1.6-26.4-.8-39.2-3.9-7-1.2-5.6-1.3-8.8 3.5-14.6 14.7-21.7 34.7-36.2 49.5-3.8 4-8.6 4.3-14 4.3-14.4 3-15.4-12.7-16.7-23.1-25.9 20-13.9 21.9-51 14.3-5.3-18.1.8-38.4 1.4-57.1 1-4.2-4.2-5.8-5-10-2.9-8-9.8-16.4-4.6-24.7zm93.3-7.3c-1.5 7.9-1 18.6-4.4 26.9-5.3 9-8.7 20.1-5.2 30.3 3.9-9.4 9.8-17.7 12.5-27.6-6.1-5.9-1.6-22-2.9-29.6zm-62.4 28.8c.1 9.7 1.3 18.5 3.4 27.9 4.4-7.3 13-11.4 11.2-20.3-4.6-2.4-9.4-4.9-14.6-7.6zm-9.8 301.8c-10-37.4-31-70.3-43.8-106.4 12 0 21.9 8.1 33.2 11.2 9.4 3.5 18.9 6.4 28.3 9.8 6.3 3.2 16.2 4 18.1 11.9 5.5 22.8 2.8 46.5 6.4 69.5 1.9 13.9 24.7 36.6-.6 40.9-18.9 2.1-27.3 12.4-48.3 11.1-2.7.4-5.1.2-7.6-1.3-7.5-.9-15-.3-19.5-8-9.6 1.7-16-5.3-4.4-9.9 15.8-4.8 25.3-18.9 38.2-28.8z",fill:"#E39D77"}),i.createElement("path",{d:"M890.4 475.699c-8.1.8-13.6-2.9-17.8-10.1-.5 2.6-.8 4.4-1.2 6.9-6.3-6.6 3.7-26.3 11.2-29.2 16.4-10.7 35.8-7.2 51.9 2.2 14.8 9.4 14.6 28.3 12.1 43.6-2.9 12.6 9.9 19 14.6 28.9 3.7 5.5 4.9 12.3 8.7 17.6 1 1.2 1.5 2.3.8 4-2.5.3-4.4-.4-6.1-2.5-15.6-22.1-29.1 14.1-50.1-14.2.7 9.7 4.5 17.5 7.5 25.8-14.5 3.2-21.7-28.9-24.6-39.6-.9-11.7-.2-23-7-33.4z",fill:"#7A3B24"}),i.createElement("g",{fill:"#1E1919"},i.createElement("path",{d:"M780.9 907.2c4.1-.8 11.7-.8 14.6-.1 8.3 2.4 2.6-9.2 11.4-16.3-1.2 4.4-2.1 7.9-3.2 12.2 6.7-.7 11.3-5.5 18-6.6 8-3.4 27.7-21.1 24.4-29.4-7.3-32.2-19.3-63.1-29-94.6l.9-.3c10.8 24.9 17.9 51.3 25.9 77.2 3.1 8.5 7.8 17.4 3.2 26.2-1.4 2.7-3.6 5.1-5.8 7.1-5.9 7 6.9 19.7 12.5 24.4-4.6 8.6 32.8-3.3 35 7.4-11.9 5.3-25.8 1.7-36.5 4.9-15.3 2.2-32.1 3.7-47.1-.8-2.6-1-4.7-3.3-6.8-5.4-4.2-5.5-14 .9-17.5-5.9zm28.5 6.6c-7.6-6.7 6.6-7 8.2-13.1-5 .3-10 4.5-14.9 6.3-2.2 1.1-2.4 2.9-1.6 5.1 5.1 2.7 9.1 1.3 15 2.5-3.2-3.3.1-5 1.1-7.6-3.7 1.8-8.5 1.8-7.8 6.8zm40.4-2.1c-4.4-13-19.6-6.6-29.4-5.6 1.5 4-4 4.6-3.1 8.2 1.2.1 2.4.1 3.7.2-.4-4.4.7-5.8 5-6.4-1.1 1.9-2.3 3.8-3.8 6.3 2.4.4 4 .6 5.7.9-1.1-4.4-1-4.5 2.2-5.1-.3 1.3-.5 2.6-.8 4 7 4 13.2-.8 20.5-2.5zM835.2 889c-4.3 5.7-10.6 8.9-14.9 14.4 7.8-1.6 15.5-2.4 24.3-.8-3.5-5-6.3-9.1-9.4-13.6zm70.9-354.6c2.6 7.4-2.5 31.5 2.2 33.7 5.1-13.2 8.1-27 18.9-37-16.3-11.5-16.2-46.8-14.8-65.3 2.7 17-.7 59.4 19.6 65.1-6.8 6.5-12.5 13.2-15.6 22.3-7.1 17.9-14.9 35.1-23.6 52.3-1.7.5-2.1-1-2.6-2.4-6.9-15.8-9.4-34.5-22.1-47 14.8 6.9 17.7 29.9 24.7 43.6.3 0 .6.1.9.1 4.6-9.9 9.3-19.7 14-29.8-3.7-1.9-4.2-5-4.1-8.4 1.2-6.2-1.1-23.7 2.5-27.1v-.1zm-74.5 31.3c-2.2 1.7-4.4 3.3-5.9 5.6-1 1.1-2.2 1.8-3.7 1.2-4-3 1.3-8.7 1.9-12.4-.3-.1-.5-.3-.8-.4-1.8 2.2-3.5 4.4-6 7.4-2-6.4 9.1-7.6 5.6-13.1-4.1 1.6-6.8 4.9-10.2 8 .6-4.1 1.7-5.2 9.5-9.7-.2-1.7-.3-2.5-.7-4.6-3.8 2-5.8 3.2-9.7 5.6 2.7-6.9 11.3-5.8 15.2-11.2-5.1-1.5-8.8 3.5-13.8 2.1 6.1-3.7 14.1-5.4 22-4.7-4 3.6-9.7 4.9-11.6 11.5 4.9-3.4 6.8-6.8 13-7.4-3.9 4.2-10.1 5.6-11.1 12.8 4.1-3 5.3-7.3 10.7-6.7-7.5 5.3-11.2 12.5-13 21 4.7-2.6 6.2-8.2 10.2-11.2 1.8 2.2 3.4 4.2 5.1 6.3.2-.2.4-.3.7-.5-1.6-1-3.2-2-5-3.2-1.2.9-2.7 1.7-2.3 3.8l-.1-.2z"}),i.createElement("path",{d:"M903 532.2c1.1 9.9-.4 20.3-.9 30.4-.3 2.1-.2 4.9-1.5 6.2-4.2 7.4-4.5 14.8-7.5 23.5-3.3-7.1 2-14.7 3.8-21.7 1.9-7.6-8.7-12.4-9.8-19.5 5.6 3.7 6.6 10.2 12.2 14.1 2-11.2 1.9-22.1 3.7-33zm3.2 2.4c-8.7-22.8-10.6-48.4-8.4-72.5 2.2 27.6-1 57.5 15.8 81.4-.2.2-.5.4-.7.6-2.6-3-4.6-6.3-6.8-9.7l.1.2zm51.4 32.5c-6.7 7.4-11.7 16.4-19.4 22.7-.3-.2-.5-.3-.8-.5 1.8-6.1 13.5-22.2 20.2-22.2z"}),i.createElement("path",{d:"M912.2 529.9c-4.7-7.9-8.7-38.5-6.7-46 1.3 14.9 3.7 31.1 6.7 46zm-18.3-45.7c-6.6-11.9-6.1-24.4-2.7-37-.4 12.4-1.4 24.9 2.7 37zm29.8 9.8c3.6 13.6 7.6 26.2 21 33.7-11.1-2.2-24.2-23.2-21-33.7zm-63.5 88.3c3.9 13.1 8 26 11.3 39.1-.3.2-.6.3-.9.5-.5-.6-1.4-1.1-1.5-1.8-2.5-12.4-7.8-25.9-8.9-37.8zm-15.6 14.6c1.8 9.7-1.1 18.9-2.3 29-3-7.8 1.1-20.2 1.1-29.1.4 0 .8.1 1.2.1zm93.1-147.2c6 8.4 6.7 28 5.4 37.9-1.1-12.9-1.3-25.2-5.4-37.9zM906.5 475c-4.2-12.1-1.6-24.3-2.6-36.3.4 0 .7 0 1.1-.1.5 12.1 1 24.1 1.5 36.4zm41.5 26.5c-8.3-7.6-17.1-14.9-17.1-27.5 3.7 10.5 9.3 19.5 17.1 27.5zm-65.1-52.8c.4 0 .8-.1 1.1-.1-1.5 8.1-3 16.1-2.3 24.8-4.7-6.4-.6-17.6 1.3-24.8l-.1.1zm56.4 54.1c-7.6-6.9-12.2-17.6-13.3-27.7 2.8 10.3 8.2 18.5 13.3 27.7zm-12.2-35c-2.9-8.9-5.7-17.9-8.6-26.9 5.1 8.2 7 17.5 8.6 26.9z"}),i.createElement("path",{d:"M883 448.6c-5.2 5.6-6.4 13.7-5.8 21.3-3-5.1-.5-16.8 4.8-22.4.3.4.6.8.9 1.3 0-.1.1-.2.1-.2zm47.3-.9c5.7 6.5 7.3 14.4 7.9 22.7-1.8-7.9-3.7-15.7-7.9-22.7zm-98.8 118.1c4.9 3.9 3.9 10.4 3.9 15.9-.3 0-.6.1-.8.1-.7-5.4-1.9-10.9-3-16.1l-.1.1zm45.5-80c1.1-.2 2.1-.4 3.4-.7-1.1 1.2-2 2.2-3 3.4-1.1-.1-2.7-.3-4.5-.5 3.2-1.8-.6-4.9 1.7-7.8.9 2.1 1.6 3.8 2.4 5.6zm42.5-27c-1.7-5.8-3.4-11.7-5.4-18.3 3.9 6.1 5.1 12.1 5.4 18.3zm34 60.9c2.8 2.5 5.6 4.9 8.3 7.4l-.7.7c-2.7-2.5-5.8-4.6-7.6-8.1zm-10.9-12.6c3 2.4 6.1 4.7 7.6 8.4l.1-.1c-2.6-2.8-5.1-5.6-7.7-8.3zm-71-3.5c-.8-.5-1.3-.8-1.7-1 .4-1.5.8-3.1 1.3-5 1.4 2.1 1.7 3.8.4 6zm.5 7.6c1.8-.4 3.5-.9 5.7-1.4-1.9 2.1-1.9 2.1-5.7 1.4zm2.9-13.6c-.2-1.2-.4-2.5-.7-4.4 2.1 2 2.1 2 .7 4.4zm61.7 9.5c1 1.3 2 2.6 3.1 3.8-.3.2-.6.3-.8.5-.7-1.5-1.4-3-2.1-4.4l-.2.1zm2.9-27.7c-.5-1.8-1-3.5-1.5-5.3.2-.1.5-.1.7-.2.3 1.9.6 3.7.8 5.5zm-.4 23.4c1.1 1.4 2.2 2.8 3.4 4.2l.1-.1c-1.2-1.3-2.3-2.8-3.5-4.1z"}),i.createElement("path",{d:"M953.6 519.6c-1.1-1.4-2.2-2.8-3.4-4.2l-.1.1c1.2 1.4 2.3 2.8 3.5 4.1zM936.8 507c-.9-1.1-1.8-2.2-2.7-3.2.3-.2.6-.4.9-.5.5 1.2 1.1 2.5 1.8 3.7zm2.8-27.6c.1 1.2.1 2.5.2 3.7h-.2v-3.7zm4 238.6c-7.9 27.3-22.9 52.5-32.4 79.5-11.2 2.6 29-72.2 31.6-79.8.3.1.6.2.8.3zm-18.9-36.9c-14.5-1.3-28.9-4.5-43.5-1 4.1-3.3 4.1-3.3 23.9-3.3 5.6-4 10.2-12.1 16.6-13.7-2.6 5.7-6.5 10-11.1 14.2 4.7 2.3 10 .8 14.1 3.8zm38.2 59.1c.7-2.2 5.8-31.6 8.7-20.7-1.9 6.1-.3 20.3-8.7 20.7zm-32.8-70.7c9.9 1.5 19.5 7.1 29.1 10.3-3.7 0-25.8-8-29.1-10.3zm2.9-44c8.8 4.3 17.6 9.8 24.8 17-8.2-5.7-17.1-10.5-24.8-17zm.1 0c-2.6-.1-3.8-2.3-5.4-3.8 2.5.3 4.1 1.8 5.4 3.8z"})))},t.RemoteWorkHero.displayName="RemoteWorkHeroIllustration"})),define("metaserver/static/js/flows/conversions/convert_and_share_submenu",["require","exports","tslib","react","metaserver/static/js/flows/conversions/conversion_actions","dig-components/menu","dig-components/icons/src","dig-components/icons","metaserver/static/js/modules/clean/react/file_viewer/open_button/types","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/file_viewer/constants"],(function(e,t,n,i,s,r,a,o,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConvertAndShareSubmenu=void 0,i=n.__importDefault(i);t.ConvertAndShareSubmenu=({file:e,user:t})=>{const n=s.getConversionActionsForFiles([e],{expFlowsManualVideoRemuxUi:!0,expFlowsAudioConversionUi:!0});if(!n.length)return null;const u=n.map(n=>({handler:()=>{n.convert([e],t,{shouldShareResult:!0,source:"share-button"})},spriteName:null,text:n.actionText,type:l.OpenButtonAction.CONVERT_AND_SHARE,userAction:d.UserAction.ConvertAndShare,iconElement:i.default.createElement(o.UIIcon,{src:n.actionIcon})}));return i.default.createElement(r.Menu.Submenu,{withLeftAccessory:i.default.createElement(o.UIIcon,{src:a.ConvertFileLine}),withTriggerContent:c.intl.formatMessage({id:"jso4WM",defaultMessage:"Share as..."})},i.default.createElement(r.Menu.Segment,null,u.map(e=>i.default.createElement(r.Menu.ActionItem,{key:e.text,value:e,withLeftAccessory:e.iconElement},e.text))))}})),define("metaserver/static/js/modules/clean/react/file_viewer/file_conversion/file_conversion_options",["require","exports","tslib","dig-components/menu","metaserver/static/js/components/ui/css","metaserver/static/js/modules/clean/react/file_viewer/open_button/types","react","metaserver/static/js/modules/clean/react/extensions/utils"],(function(e,t,n,i,s,r,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileConversionOptions=void 0,a=n.__importDefault(a);class l extends a.default.Component{isFileConversionAction(e){return[r.OpenButtonAction.DECOMPRESS_FILE].includes(e.type)}render(){const{openOptions:e,wrapValuesForActionBar:t}=this.props,n=e.filter(this.isFileConversionAction);if(!n.length)return null;const s=n.map(e=>{const n=t?o.toActionBarValue(e):e;return a.default.createElement(i.Menu.ActionItem,{key:e.text,value:n,withLeftAccessory:e.iconElement},a.default.createElement("span",null,e.text))});return a.default.createElement(i.Menu.Segment,{key:"file-conversions"},s)}}l.displayName="FileConversionOptionsComponent",t.FileConversionOptions=s.requireCssWithComponent(l,["/static/css/app_actions/index-vflnjwhRA.css"])})),define("metaserver/static/js/flows/conversions/conversion_plugin",["require","exports","tslib","react","metaserver/static/js/flows/conversions/conversion_actions","metaserver/static/js/flows/constants","dig-components/menu","dig-components/icons/src","dig-components/buttons","dig-components/icons","metaserver/static/js/modules/core/i18n","metaserver/static/js/flows/utils/exposure_logger","metaserver/static/js/modules/clean/react/file_viewer/file_conversion/utils","metaserver/static/js/file_viewer/sdk_file_viewer/action_plugins/action_plugin_menu_item"],(function(e,t,n,i,s,r,a,o,l,c,d,u,_,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeFileConversionsLoader=void 0,i=n.__importDefault(i);const p=(e,t,n,i,s,r)=>{i("convert_file",s,{conversion_type:n.actionText}),n.convert([e],t,{shareToken:r,source:"preview"})},f=({file:e,user:t,shareToken:n,context:s,conversionActions:r,logUserAction:u})=>{const _=e=>{null==e||e.handler()};return f=>i.default.createElement(a.Menu.Wrapper,{matchContainingWidth:!0,onSelection:_},({getTriggerProps:_,getContentProps:h})=>i.default.createElement(i.default.Fragment,null,i.default.createElement(l.Button,Object.assign({variant:"opacity",withIconLeft:f?null:i.default.createElement(c.UIIcon,{src:o.ConvertFileLine}),withDropdownIcon:!0},_()),d.intl.formatMessage({id:"GAZsDK",defaultMessage:"Save as..."})),i.default.createElement(a.Menu.Content,Object.assign({},h()),i.default.createElement(a.Menu.Segment,null,r.map(r=>i.default.createElement(m.ActionPluginMenuItem,{key:r.actionText,onAction:()=>p(e,t,r,u,s,n)},i.default.createElement("div",{style:{display:"flex"}},i.default.createElement(c.UIIcon,{src:r.actionIcon}),r.actionText)))))))},h=({file:e,user:t,shareToken:n,context:s,conversionActions:r,logUserAction:l})=>i.default.createElement(a.Menu.Submenu,{withLeftAccessory:i.default.createElement(c.UIIcon,{src:o.ConvertFileLine}),withTriggerContent:d.intl.formatMessage({id:"N4qajY",defaultMessage:"Save as..."})},i.default.createElement(a.Menu.Segment,null,r.map(r=>i.default.createElement(m.ActionPluginMenuItem,{key:r.actionText,onAction:()=>p(e,t,r,l,s,n),withLeftAccessory:i.default.createElement(c.UIIcon,{src:r.actionIcon})},r.actionText))));t.makeFileConversionsLoader=(e,t,n)=>class{constructor(){this.actionDefinitions=()=>this.conversionsDefinition(e())}conversionsDefinition(e){const i={expFlowsManualVideoRemuxUi:_.isManualVideoRemuxingEnabled(t),expFlowsManualVideoGifUi:_.isManualVideoGifEnabled(t),expFlowsAudioConversionUi:_.isManualAudioConversionEnabled(t)},a=s.getConversionActionsForFiles([e.file],i);if(!a.length)return{};const o=_.getConversionMenuVariant(t);this.loggedExposure||(u.logExposure({feature:r.UI_EXPERIMENTS.MANUAL_CONVERSION_PREVIEW_ENTRYPOINT,variant:o}),this.loggedExposure=!0);const l={file:e.file,user:t,shareToken:e.shareToken,conversionActions:a};return"ON"===o?{atTopLevelIfSpace:[{renderButton:f(Object.assign(Object.assign({},l),{context:"top_level_action_bar",logUserAction:n.logUserAction})),id:"CONVERSION_ACTION"}],alwaysInOverflow:[[{overflowItem:h(Object.assign(Object.assign({},l),{context:"overflow_menu",logUserAction:n.logUserAction})),id:"CONVERSION_ACTION"}]]}:{categories:{workflows:[{overflowItem:h(Object.assign(Object.assign({},l),{context:"workflows_menu",logUserAction:n.logUserAction})),id:"CONVERSION_ACTION"}]}}}}})),define("metaserver/static/js/file_viewer/sdk_file_viewer/action_plugins/action_plugin_menu_item",["require","exports","tslib","react","dig-components/menu"],(function(e,t,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionPluginMenuItem=void 0,i=n.__importDefault(i),t.ActionPluginMenuItem=i.default.forwardRef((e,t)=>{var{children:r,onAction:a}=e,o=n.__rest(e,["children","onAction"]);const l={handler:a};return i.default.createElement(s.Menu.ActionItem,Object.assign({},o,{value:l,ref:t}),r)}),t.ActionPluginMenuItem.displayName="ActionPluginMenuItem"})),define("metaserver/static/js/prod_assets_web_modules/react-touch-events",["./common/_commonjsHelpers","react"],(function(e,t){"use strict";var n,i,s=(function(e){return e&&e.__esModule?e:{default:e}})(t),r={exports:{}};return n=r,e.commonjsGlobal,i=function(e){return(function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)})([function(e,t,n){function i(e){return function(){return e}}var s=function(){};s.thatReturns=i,s.thatReturnsFalse=i(!1),s.thatReturnsTrue=i(!0),s.thatReturnsNull=i(null),s.thatReturnsThis=function(){return this},s.thatReturnsArgument=function(e){return e},e.exports=s},function(e,t,n){var i;i=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")},e.exports=function(e,t,n,s,r,a,o,l){if(i(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,s,r,a,o,l],u=0;(c=new Error(t.replace(/%s/g,(function(){return d[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){var i,s=n(0);i=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var s=0,r="Warning: "+e.replace(/%s/g,(function(){return n[s++]}));"undefined"!=typeof console&&console.error(r);try{throw new Error(r)}catch(e){}},s=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,s=Array(n>2?n-2:0),r=2;r<n;r++)s[r-2]=arguments[r];i.apply(void 0,[t].concat(s))}},e.exports=s},function(e,t,n){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){var i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=n(7)((function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}),!0)},function(t,n){t.exports=e},function(e,t,n){var i=n(1),s=n(2),r=n(3),a={};e.exports=function(e,t,n,o,l){for(var c in e)if(e.hasOwnProperty(c)){var d;try{i("function"==typeof e[c],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",o||"React class",n,c),d=e[c](t,c,o,n,null,r)}catch(e){d=e}if(s(!d||d instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",o||"React class",n,c,typeof d),d instanceof Error&&!(d.message in a)){a[d.message]=!0;var u=l?l():"";s(!1,"Failed %s type: %s%s",n,d.message,null!=u?u:"")}}}},function(e,t,n){var i=n(0),s=n(1),r=n(2),a=n(3),o=n(6);e.exports=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,l="<<anonymous>>",c={array:m("array"),bool:m("boolean"),func:m("function"),number:m("number"),object:m("object"),string:m("string"),symbol:m("symbol"),any:_(i.thatReturnsNull),arrayOf:function(e){return _((function(t,n,i,s,r){if("function"!=typeof e)return new u("Property `"+r+"` of component `"+i+"` has invalid PropType notation inside arrayOf.");var o=t[n];if(!Array.isArray(o))return new u("Invalid "+s+" `"+r+"` of type `"+f(o)+"` supplied to `"+i+"`, expected an array.");for(var l=0;l<o.length;l++){var c=e(o,l,i,s,r+"["+l+"]",a);if(c instanceof Error)return c}return null}))},element:_((function(t,n,i,s,r){var a=t[n];return e(a)?null:new u("Invalid "+s+" `"+r+"` of type `"+f(a)+"` supplied to `"+i+"`, expected a single ReactElement.")})),instanceOf:function(e){return _((function(t,n,i,s,r){if(!(t[n]instanceof e)){var a=e.name||l;return new u("Invalid "+s+" `"+r+"` of type `"+((o=t[n]).constructor&&o.constructor.name?o.constructor.name:l)+"` supplied to `"+i+"`, expected instance of `"+a+"`.")}var o;return null}))},node:_((function(e,t,n,i,s){return p(e[t])?null:new u("Invalid "+i+" `"+s+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return _((function(t,n,i,s,r){if("function"!=typeof e)return new u("Property `"+r+"` of component `"+i+"` has invalid PropType notation inside objectOf.");var o=t[n],l=f(o);if("object"!==l)return new u("Invalid "+s+" `"+r+"` of type `"+l+"` supplied to `"+i+"`, expected an object.");for(var c in o)if(o.hasOwnProperty(c)){var d=e(o,c,i,s,r+"."+c,a);if(d instanceof Error)return d}return null}))},oneOf:function(e){return Array.isArray(e)?_((function(t,n,i,s,r){for(var a=t[n],o=0;o<e.length;o++)if(d(a,e[o]))return null;return new u("Invalid "+s+" `"+r+"` of value `"+a+"` supplied to `"+i+"`, expected one of "+JSON.stringify(e)+".")})):(r(!1,"Invalid argument supplied to oneOf, expected an instance of array."),i.thatReturnsNull)},oneOfType:function(e){return Array.isArray(e)?_((function(t,n,i,s,r){for(var o=0;o<e.length;o++)if(null==(0,e[o])(t,n,i,s,r,a))return null;return new u("Invalid "+s+" `"+r+"` supplied to `"+i+"`.")})):(r(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),i.thatReturnsNull)},shape:function(e){return _((function(t,n,i,s,r){var o=t[n],l=f(o);if("object"!==l)return new u("Invalid "+s+" `"+r+"` of type `"+l+"` supplied to `"+i+"`, expected `object`.");for(var c in e){var d=e[c];if(d){var _=d(o,c,i,s,r+"."+c,a);if(_)return _}}return null}))}};function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function u(e){this.message=e,this.stack=""}function _(e){var n={},i=0;function o(o,c,d,_,m,p,f){if(_=_||l,p=p||d,f!==a)if(t)s(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("undefined"!=typeof console){var h=_+":"+d;!n[h]&&i<3&&(r(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",p,_),n[h]=!0,i++)}return null==c[d]?o?null===c[d]?new u("The "+m+" `"+p+"` is marked as required in `"+_+"`, but its value is `null`."):new u("The "+m+" `"+p+"` is marked as required in `"+_+"`, but its value is `undefined`."):null:e(c,d,_,m,p)}var c=o.bind(null,!1);return c.isRequired=o.bind(null,!0),c}function m(e){return _((function(t,n,i,s,r,a){var o=t[n];return f(o)!==e?new u("Invalid "+s+" `"+r+"` of type `"+(function(e){var t=f(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t})(o)+"` supplied to `"+i+"`, expected `"+e+"`."):null}))}function p(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(p);if(null===t||e(t))return!0;var i=(function(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"==typeof t)return t})(t);if(!i)return!1;var s,r=i.call(t);if(i!==t.entries){for(;!(s=r.next()).done;)if(!p(s.value))return!1}else for(;!(s=r.next()).done;){var a=s.value;if(a&&!p(a[1]))return!1}return!0;default:return!1}}function f(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":(function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol})(t,e)?"symbol":t}return u.prototype=Error.prototype,c.checkPropTypes=o,c.PropTypes=c,c}},function(e,t,n){var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}})();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=n(5),o=n(4);function l(e){return e.touches[0].clientX}function c(e){return e.touches[0].clientY}var d=(function(e){function t(){var e,n,i;s(this,t);for(var a=arguments.length,o=Array(a),d=0;d<a;d++)o[d]=arguments[d];return n=i=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),i.handleTouchStart=function(e){i.touchStarted||(i.touchStarted=!0,i.touchMoved=!1,i.swipeOutBounded=!1,i.startX=l(e),i.startY=c(e),i.currentX=0,i.currentY=0)},i.handleTouchMove=function(e){if(i.currentX=l(e),i.currentY=c(e),i.touchMoved){if(!i.swipeOutBounded){var t=i.props.swipeTolerance;i.swipeOutBounded=Math.abs(i.startX-i.currentX)>t&&Math.abs(i.startY-i.currentY)>t}}else{var n=i.props.tapTolerance;i.touchMoved=Math.abs(i.startX-i.currentX)>n||Math.abs(i.startY-i.currentY)>n}},i.handleTouchCancel=function(){i.touchStarted=i.touchMoved=!1,i.startX=i.startY=0},i.handleTouchEnd=function(e){if(i.touchStarted=!1,i.touchMoved){if(!i.swipeOutBounded&&i.props.onSwipe){var t,n=i.props.swipeTolerance;t=Math.abs(i.startX-i.currentX)<n?i.startY>i.currentY?"top":"bottom":i.startX>i.currentX?"left":"right",i.props.onSwipe(t,e)}}else i.props.onTap&&i.props.onTap(e)},r(i,n)}return(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,e),i(t,[{key:"render",value:function(){var e=this.props.children,t=e?a.Children.only(e):a.createElement("button",null);return a.cloneElement(t,{onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchCancel:this.handleTouchCancel,onTouchEnd:this.handleTouchEnd})}}]),t})(a.Component);d.defaultProps={tapTolerance:10,swipeTolerance:30},d.propTypes={children:o.node,tapTolerance:o.number,swipeTolerance:o.number,onTap:o.func,onSwipe:o.func},e.exports=d}])},n.exports=i(s.default),e.getDefaultExportFromCjs(r.exports)}));
//# sourceMappingURL=pkg-fvsdk-support.min.js-vflMoyCLm.map