define("typescript/libraries/file-viewer/src/logging/performance",["require","exports","tslib","react"],(function(e,r,t,_){"use strict";var i;Object.defineProperty(r,"__esModule",{value:!0}),r.useMarkTimingEventOnMount=r.usePreviewTimingSession=r.PreviewsEventLogger=r.PreviewsTimingEvents=void 0,_=t.__importDefault(_),(function(e){e.START_SESSION="previews_start_session",e.SKELETON_MOUNT="previews_skeleton_mount",e.SKELETON_IMAGE_LOAD="previews_skeleton_image_load",e.SKELETON_DOC_RIVIERA_CALL_END="previews_skeleton_riviera_call_end",e.SKELETON_DOC_IMAGE_LOAD="previews_skeleton_image_load",e.CONTAINER_CODE_START="previews_container_code_start",e.COLLECTION_VIEWER_CODE_START="previews_collection_viewer_code_start",e.COLLECTION_VIEWER_MOUNT="previews_collection_viewer_mount",e.SDK_FILE_VIEWER_CODE_START="previews_sdk_file_viewer_code_start",e.FVSDK_CONSTRUCTOR="previews_fvsdk_constructor",e.FVSDK_INITIALIZE_START="previews_fvsdk_initialize_start",e.FVSDK_LOADED_PLUGINS="previews_fvsdk_loaded_plugins",e.FVSDK_GET_PREVIEW_METADATA="previews_fvsdk_get_preview_metadata",e.FVSDK_GET_RIVIERA_DATA_START_START="previews_get_riviera_data_start",e.FVSDK_GET_RIVIERA_DATA="previews_fvsdk_get_riviera_metadata",e.FVSDK_INITIALIZE_COMPLETE="previews_fvsdk_initialize_complete",e.FVSDK_APP_MOUNT="previews_fvsdk_app_mount",e.FVSDK_RIGHT_RAIL_MOUNT="previews_fvsdk_right_rail_mount",e.FVSDK_TITLE_BAR_MOUNT="previews_fvsdk_title_bar_mount",e.FVSDK_IMAGE_CONTAINER_START="previews_fvsdk_img_container_start",e.FVSDK_IMAGE_CONTAINER_MOUNT="previews_fvsdk_img_container_mount",e.FVSDK_IMAGE_ON_LOAD="previews_fvsdk_img_onload",e.FVSDK_DOC_CONTAINER_START="previews_fvsdk_doc_container_start",e.FVSDK_DOC_CONTAINER_MOUNT="previews_fvsdk_doc_container_mount",e.FVSDK_MARK_TTI="previews_fvsdk_mark_tti"})(i=r.PreviewsTimingEvents||(r.PreviewsTimingEvents={}));const s=Object.values(i);r.PreviewsEventLogger=new class{constructor(){this.getPerfEntry=e=>{var r;const t=null===(r=performance.getEntriesByName)||void 0===r?void 0:r.call(performance,e,"mark");return t?t[0]:null},this.getStartEntry=()=>{var e;const r=null===(e=performance.getEntriesByName)||void 0===e?void 0:e.call(performance,i.START_SESSION,"mark");return r?r[0]:null},this.endCurrentSession=()=>{s.forEach(e=>{var r;null===(r=performance.clearMarks)||void 0===r||r.call(performance,e)})},this.startLoggingSession=()=>{var e;this.endCurrentSession(),null===(e=performance.mark)||void 0===e||e.call(performance,i.START_SESSION)},this.mark=e=>{var r;!this.getPerfEntry(e)&&this.getStartEntry()&&(null===(r=performance.mark)||void 0===r||r.call(performance,e))},this.getEventTimeline=()=>{const e={},r=this.getStartEntry();return r?(s.forEach(t=>{if(t!==i.START_SESSION){const _=this.getPerfEntry(t);_&&_.startTime>=r.startTime&&(e[t]=_.startTime-r.startTime)}}),e):e},this.getEventTimelineWithStartTime=()=>{const e={},r=this.getStartEntry();return r?(s.forEach(t=>{const _=this.getPerfEntry(t);_&&_.startTime>=r.startTime&&(e[t]=_.startTime)}),e):e},this.getTimeSinceSessionStart=()=>{var e;const r=this.getStartEntry();return r?(null===(e=performance.now)||void 0===e?void 0:e.call(performance))-r.startTime:null}}};r.usePreviewTimingSession=()=>{const e=_.default.useRef(!1);e.current||(r.PreviewsEventLogger.startLoggingSession(),e.current=!0)};r.useMarkTimingEventOnMount=e=>{_.default.useEffect(()=>{r.PreviewsEventLogger.mark(e)},[])}}));
//# sourceMappingURL=pkg-previews-performance-utils.min.js-vflP7xwXe.map