define("metaserver/static/js/modules/clean/react/file_viewer/utils",["require","exports","tslib","react","metaserver/static/js/modules/core/browser","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/previews/constants","metaserver/static/js/open_in_app/types","metaserver/static/js/modules/core/browser_detection","metaserver/static/js/modules/constants/python","metaserver/static/js/modules/clean/react/snackbar","metaserver/static/js/modules/clean/web_user_action_logger","metaserver/static/js/modules/clean/web_user_action_events"],(function(e,t,n,r,s,i,o,c,l,a,u,d,S){"use strict";function m(e){if(e)switch(e){case a.FileViewOriginType.BROWSE:return o.PreviewSourceContext.Browse;case a.FileViewOriginType.COLLECTIONS:return o.PreviewSourceContext.Collections;case a.FileViewOriginType.COMMERCE:return o.PreviewSourceContext.Commerce;case a.FileViewOriginType.HELLOSIGN:return o.PreviewSourceContext.HelloSign;case a.FileViewOriginType.HOME:return o.PreviewSourceContext.Home;case a.FileViewOriginType.PHOTOS:return o.PreviewSourceContext.Photos;case a.FileViewOriginType.RECENTS:return o.PreviewSourceContext.Recents;case a.FileViewOriginType.SEARCH:return o.PreviewSourceContext.Search;case a.FileViewOriginType.STARRED:return o.PreviewSourceContext.Starred;case a.FileViewOriginType.TRANSFER:return o.PreviewSourceContext.Transfer;case a.FileViewOriginType.SHARED_COLLECTION:return o.PreviewSourceContext.SharedCollection}const t=s.get_uri().path;return/^\/h$/.test(t)?o.PreviewSourceContext.Home:/^\/starred$/.test(t)?o.PreviewSourceContext.Starred:/^\/recents$/.test(t)?o.PreviewSourceContext.Recents:/^\/search$/.test(t)?o.PreviewSourceContext.Search:/^\/(s|scl\/fi)\//.test(t)?o.PreviewSourceContext.SharedLinkFile:/^\/(sh|scl\/fo)\//.test(t)?o.PreviewSourceContext.SharedLinkFolder:/^\/sc\//.test(t)?o.PreviewSourceContext.SharedLinkCollection:/^\/history/.test(t)?o.PreviewSourceContext.VersionHistory:/^\/(home|work|personal)/.test(t)?o.PreviewSourceContext.Browse:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.getOpenInAppUrls=t.showDocSendSnackbar=t.getSourceAction=t.getSourceContext=void 0,r=n.__importDefault(r),s=n.__importStar(s),l=n.__importStar(l),t.getSourceContext=m,t.getSourceAction=function(){switch(m()){case o.PreviewSourceContext.SharedLinkFile:case o.PreviewSourceContext.SharedLinkFolder:return o.PreviewSourceAction.Visit;default:return o.PreviewSourceAction.Click}},t.showDocSendSnackbar=function(e){setTimeout(()=>{u.Snackbar.show(r.default.createElement(u.Snackbar,{title:i.intl.formatMessage({id:"d93ce2",defaultMessage:"Always save signed documents in Dropbox? You can change this anytime in DocSend settings."}),closeButtonText:i.intl.formatMessage({id:"6NGNJV",defaultMessage:"Not now"}),actionButtonText:i.intl.formatMessage({id:"gM7OF1",defaultMessage:"Yes"}),id:"sync-from-docsend",onActionClick:()=>{e&&d.WebUserActionLog.log(e.id,S.WebUserActionLogEvent.CLICK_DOCSEND_SNACKBAR_YES,{}),window.open("https://docsend.com/settings/company/users/redirect?anchor=apps-settings","_blank")},onCloseClick:()=>{e&&d.WebUserActionLog.log(e.id,S.WebUserActionLogEvent.CLICK_DOCSEND_SNACKBAR_NOT_NOW,{})}}))},0)},t.getOpenInAppUrls=function(e,t,n,r){if(e&&t&&n)return e.open_in_app_data;if(l.iOS&&r){const t=encodeURIComponent(e.fq_path),n=encodeURIComponent(r.id);return{platform:c.OpenInMobileAppPlatform.IPHONE,iOSAppUrl:`dbapi-5://1/viewPath?path=${t}&userId=${n}`,iOSAppStoreUrl:"https://itunes.apple.com/us/app/dropbox/id327630330?mt=8e"}}if(l.is_android()){const e="/dl/home/mobile?mobile_app_fallback";return{platform:c.OpenInMobileAppPlatform.ANDROID_MARKET,androidAppUrl:e}}}})),define("metaserver/static/js/auth/login_or_register/types",["require","exports"],(function(e,t){"use strict";var n,r,s,i;Object.defineProperty(t,"__esModule",{value:!0}),t.Mode=t.LoginOrRegisterKind=t.DownloadAction=t.CommentTextVariant=void 0,(function(e){e.COMMENT="comment",e.DOWNLOAD="download",e.IMMEDIATE="immediate",e.SIDEBAR="sidebar",e.POSTDOWNLOAD="postdownload",e.MOUNT="mount"})(n||(n={})),t.LoginOrRegisterKind=n,(function(e){e.DIRECT_DOWNLOAD="direct_download",e.SAVE_TO_DROPBOX="add_to_dropbox"})(r||(r={})),t.DownloadAction=r,(function(e){e[e.LOGIN=0]="LOGIN",e[e.REGISTER=1]="REGISTER"})(s||(s={})),t.Mode=s,(function(e){e.DEFAULT="",e.POST="post_comment_variant",e.SUBSCRIBE="subscribe_variant"})(i||(i={})),t.CommentTextVariant=i})),define("metaserver/static/js/file_viewer/sdk_file_viewer/full_screen_helpers",["require","exports"],(function(e,t){"use strict";let n;function r(){a()||(null==n||n(),o())}function s(){c()}function i(){var e;e=r,document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),document.addEventListener("mozfullscreenchange",e),(function(e){window.addEventListener("popstate",e)})(s)}function o(){var e;e=r,document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e),document.removeEventListener("mozfullscreenchange",e),(function(e){window.removeEventListener("popstate",e)})(s),n=()=>{}}function c(){null==n||n(),l()}function l(){o(),(function(){const e=document;e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen&&e.webkitExitFullscreen()})()}function a(){const e=document;return null!=e.fullScreen?e.fullScreen:null!=e.webkitIsFullScreen?e.webkitIsFullScreen:null!=e.mozFullScreen?e.mozFullScreen:null!=e.msFullscreenElement||null!=e.fullscreenElement}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserFullScreen=t.browserSupportFullScreen=t.exitFullScreenWithoutCallback=t.exitFullScreen=t.enterFullScreen=void 0,t.enterFullScreen=function({onExitFunction:e}){(function(e){n=e})(e),(function(){const e=document.body;null!=e.requestFullscreen?e.requestFullscreen():null!=e.msRequestFullscreen?e.msRequestFullscreen():null!=e.mozRequestFullScreen?e.mozRequestFullScreen():null!=e.webkitRequestFullscreen&&e.webkitRequestFullscreen()})(),i()},t.exitFullScreen=c,t.exitFullScreenWithoutCallback=l,t.browserSupportFullScreen=function(){const e=document.body;return e.requestFullscreen||e.msRequestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullscreen},t.isBrowserFullScreen=a})),define("metaserver/static/js/file_viewer_sidebar/widgets/seen_states",["require","exports","tslib","react","metaserver/static/js/async/loadable","metaserver/static/js/cloud_docs/constants","metaserver/static/js/file_store/utils"],(function(e,t,n,r,s,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncSeenStatesProviderWrapper=t.AsyncSeenStateFacepileConsumer=t.AsyncSeenStateFacepileProvider=void 0,r=n.__importDefault(r),t.AsyncSeenStateFacepileProvider=s.Loadable({loader:()=>new Promise((t,n)=>{e(["metaserver/static/js/pass/seen_state_facepile_controller"],t,n)}).then(n.__importStar).then(({SeenStateFacepileProvider:e})=>e)}),t.AsyncSeenStateFacepileConsumer=s.Loadable({loader:()=>new Promise((t,n)=>{e(["metaserver/static/js/pass/seen_state_facepile_consumer"],t,n)}).then(n.__importStar).then(({SeenStateFacepileConsumer:e})=>e)});t.AsyncSeenStatesProviderWrapper=({children:e,file:n,source:s,isSeenStatesEnabled:c,isVersionHistoryMode:l,isViewingFileSubpath:a,isViewMetadataDisabled:u,sharedLinkInfo:d,sizeClass:S,soloAccessText:m,user:p})=>!c||l||null===n.ns_id||i.isCloudBasedFileByExtension(o.getExtension(n))?r.default.createElement(r.default.Fragment,null,e):r.default.createElement(t.AsyncSeenStateFacepileProvider,{file:n,source:s,isViewMetadataDisabled:u,isViewingFileSubpath:!!a,sharedLinkInfo:d,sizeClass:S,soloAccessText:m,user:p},e),t.AsyncSeenStatesProviderWrapper.displayName="AsyncSeenStatesProviderWrapper"}));
//# sourceMappingURL=pkg-file-viewer-common.min.js-vflSA65Yw.map